!function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return r(n?n:t)},h,h.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";e.exports=function(t){if(!Array.isArray(t))throw new TypeError("Expected Array, got "+typeof t);for(var e,n,i=t.length,r=t.slice();i;)e=Math.floor(Math.random()*i--),n=r[i],r[i]=r[e],r[e]=n;return r}},{}],2:[function(t,e,n){"use strict";e.exports=function(){try{return!!new Blob}catch(t){return!1}}()},{}],3:[function(t,e,n){"use strict";function i(){r.call(this),this.setMaxListeners(20)}var r=t("events").EventEmitter;i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.off=function(t,e){return e?this.removeListener(t,e):t?this.removeAllListeners(t):this.removeAllListeners()},e.exports=i},{events:72}],4:[function(t,e,n){"use strict";var i=t("./emitter.js"),r=t("./loader"),o=0;e.exports=function s(t){var e,n={},a=[],l=[],u=0,h=0,c={},p=function(n){if(Array.isArray(n))return n.forEach(p),e;var i,o=!!n.assets&&Array.isArray(n.assets);return i=o?s(g(n,t)):r(g(n,t)),i.once("destroy",b),l.push(i),c[i.id]=i,e},d=function(t){return arguments.length?n[t]:a},f=function(t){if(d(t))return d(t);var e=null;return Object.keys(c).some(function(n){return e=c[n].find&&c[n].find(t),!!e}),e},m=function(t){return t&&t.split("?")[0].split(".").pop().toLowerCase()},g=function(t,e){if("string"==typeof t){var n=t;t={url:n}}return void 0===t.isTouchLocked&&(t.isTouchLocked=e.isTouchLocked),void 0===t.blob&&(t.blob=e.blob),void 0===t.basePath&&(t.basePath=e.basePath),t.id=t.id||t.url||String(++o),t.type=t.type||m(t.url),t.crossOrigin=t.crossOrigin||e.crossOrigin,t.webAudioContext=t.webAudioContext||e.webAudioContext,t.log=e.log,t},v=function(){return h=l.length,l.forEach(function(t){t.on("progress",y).once("complete",_).once("error",A).start()}),l=[],e},y=function(t){var n=u+t;e.emit("progress",n/h)},_=function(t,i,r){Array.isArray(t)&&(t={id:i,file:t,type:r}),u++,e.emit("progress",u/h),n[t.id]=t.file,a.push(t),e.emit("childcomplete",t),x()},A=function(t){h--,e.listeners("error").length?e.emit("error",t):console.error(t),x()},b=function(t){c[t]=null,delete c[t],n[t]=null,delete n[t],a.some(function(e,n){return e.id===t?(a.splice(n,1),!0):void 0})},x=function(){u>=h&&e.emit("complete",a,t.id,"group")},w=function(){for(;l.length;)l.pop().destroy();return e.off("error"),e.off("progress"),e.off("complete"),a=[],n={},t.webAudioContext=null,h=0,u=0,Object.keys(c).forEach(function(t){c[t].destroy()}),c={},e.emit("destroy",e.id),e};return e=Object.create(i.prototype,{_events:{value:{}},id:{get:function(){return t.id}},add:{value:p},start:{value:v},get:{value:d},find:{value:f},getLoader:{value:function(t){return c[t]}},loaded:{get:function(){return u>=h}},file:{get:function(){return a}},destroy:{value:w}}),t=g(t||{},{basePath:"",blob:!1,touchLocked:!1,crossOrigin:null,webAudioContext:null,log:!1,timeout:1e4}),Array.isArray(t.assets)&&p(t.assets),Object.freeze(e)}},{"./emitter.js":3,"./loader":7}],5:[function(t,e,n){"use strict";var i=t("./group");i.stats=t("./stats"),e.exports=i},{"./group":4,"./stats":8}],6:[function(t,e,n){function i(){}function r(t,e,n){function r(){a.parentNode&&a.parentNode.removeChild(a),window[h]=i,l&&clearTimeout(l)}function s(){window[h]&&r()}"function"==typeof e&&(n=e,e={}),e||(e={});var a,l,u=e.prefix||"__jp",h=e.name||u+o++,c=e.param||"callback",p=null!=e.timeout?e.timeout:6e4,d=encodeURIComponent,f=document.getElementsByTagName("script")[0]||document.head;return p&&(l=setTimeout(function(){r(),n&&n(new Error("Timeout"))},p)),window[h]=function(t){r(),n&&n(null,t)},t+=(~t.indexOf("?")?"&":"?")+c+"="+d(h),t=t.replace("?&","?"),a=document.createElement("script"),a.src=t,f.parentNode.insertBefore(a,f),s}e.exports=r;var o=0},{}],7:[function(t,e,n){"use strict";var i=t("./emitter.js"),r=t("./browser-has-blob.js"),o=t("./stats"),s=t("./jsonp");e.exports=function(t){var e,n,a,l,u,h,c=t.id,p=t.basePath||"",d=t.url,f=t.type,m=t.crossOrigin,g=t.isTouchLocked,v=t.blob&&r,y=t.webAudioContext,_=t.log,A=function(){switch(l=Date.now(),f){case"json":S();break;case"jsonp":M();break;case"jpg":case"png":case"gif":case"webp":C();break;case"mp3":case"ogg":case"opus":case"wav":case"m4a":N();break;case"ogv":case"mp4":case"webm":case"hls":I();break;case"bin":case"binary":x("arraybuffer");break;case"txt":case"text":x("text");break;default:throw"AssetsLoader ERROR: Unknown type for file with URL: "+p+d+" ("+f+")"}},b=function(t){t&&(h={id:c,file:t,type:f},e.emit("progress",1),e.emit("complete",h,c,f),B())},x=function(t,e){n=e||T,a=new XMLHttpRequest,a.open("GET",p+d,!0),a.responseType=t,a.addEventListener("progress",w),a.addEventListener("load",n),a.addEventListener("error",F),a.send()},w=function(t){t.lengthComputable&&e.emit("progress",t.loaded/t.total)},T=function(){E()&&b(a.response)},E=function(){return a&&a.status<400?(o.update(a,l,d,_),!0):(F(a&&a.statusText),!1)},S=function(){x("json",function(){if(E()){var t=a.response;"string"==typeof t&&(t=JSON.parse(t)),b(t)}})},M=function(){var e={timeout:t.timeout};c&&(e.name=c+"Callback"),t.callback&&(e.name=t.callback),s(p+d,e,function(t,e){t?F(t):b(e)})},C=function(){v?O():P()},P=function(){a=new Image,m&&(a.crossOrigin="anonymous"),a.addEventListener("error",F,!1),a.addEventListener("load",R,!1),a.src=p+d},R=function(){window.clearTimeout(u),b(a)},O=function(){x("blob",function(){E()&&(a=new Image,a.addEventListener("error",F,!1),a.addEventListener("load",L,!1),a.src=window.URL.createObjectURL(a.response))})},L=function(){window.URL.revokeObjectURL(a.src),b(a)},N=function(){y?k():D("audio")},I=function(){v?x("blob"):D("video")},k=function(){x("arraybuffer",function(){E()&&y.decodeAudioData(a.response,function(t){a=null,b(t)},function(t){F(t)})})},D=function(t){a=document.createElement(t),g||(window.clearTimeout(u),u=window.setTimeout(R,2e3),a.addEventListener("canplaythrough",R,!1)),a.addEventListener("error",F,!1),a.preload="auto",a.src=p+d,a.load(),g&&b(a)},F=function(t){window.clearTimeout(u);var n=t;if(a&&a.tagName&&a.error){var i=["","ABORTED","NETWORK","DECODE","SRC_NOT_SUPPORTED"];n="MediaError: "+i[a.error.code]+" "+a.src}else a&&a.statusText?n=a.statusText:t&&t.message?n=t.message:t&&t.type&&(n=t.type);e.emit("error",'Error loading "'+p+d+'" '+n),U()},B=function(){e.off("error"),e.off("progress"),e.off("complete"),a&&(a.removeEventListener("progress",w),a.removeEventListener("load",n),a.removeEventListener("error",F),a.removeEventListener("load",R),a.removeEventListener("canplaythrough",R),a.removeEventListener("load",L))},U=function(){B(),a&&a.abort&&a.readyState<4&&a.abort(),a=null,y=null,h=null,window.clearTimeout(u),e.emit("destroy",c)};return e=Object.create(i.prototype,{_events:{value:{}},id:{value:t.id},start:{value:A},loaded:{get:function(){return!!h}},file:{get:function(){return h}},destroy:{value:U}}),Object.freeze(e)}},{"./browser-has-blob.js":2,"./emitter.js":3,"./jsonp":6,"./stats":8}],8:[function(t,e,n){"use strict";e.exports={mbs:0,secs:0,update:function(t,e,n,i){var r,o=t.getAllResponseHeaders();if(o){var s=o.match(/content-length: (\d+)/i);s&&s.length&&(r=s[1])}if(r){r=parseInt(r,10);var a=r/1024/1024,l=(Date.now()-e)/1e3;this.secs+=l,this.mbs+=a,i&&this.log(n,a,l)}else i&&console.warn.call(console,"Can't get Content-Length:",n)},log:function(t,e,n){if(t){var i="File loaded: "+t.substr(t.lastIndexOf("/")+1)+" size:"+e.toFixed(2)+"mb time:"+n.toFixed(2)+"s speed:"+(e/n).toFixed(2)+"mbps";console.log.call(console,i)}var r="Total loaded: "+this.mbs.toFixed(2)+"mb time:"+this.secs.toFixed(2)+"s speed:"+this.getMbps().toFixed(2)+"mbps";console.log.call(console,r)},getMbps:function(){return this.mbs/this.secs}}},{}],9:[function(t,e,n){!function(i,r){"object"==typeof n&&"undefined"!=typeof e?e.exports=r(t("backbone"),t("underscore"),t("backbone.radio")):"function"==typeof define&&define.amd?define(["backbone","underscore","backbone.radio"],r):i.Marionette=i.Mn=r(i.Backbone,i._,i.Backbone.Radio)}(this,function(t,e,n){"use strict";function i(t,e,n){return n.toUpperCase()}function r(t){for(var n="on"+t.replace(k,i),r=N.call(this,n),o=void 0,s=arguments.length,a=Array(s>1?s-1:0),l=1;s>l;l++)a[l-1]=arguments[l];return e.isFunction(r)&&(o=r.apply(this,a)),this.trigger.apply(this,[t].concat(a)),o}function o(t){for(var n=e.isFunction(t.triggerMethod)?t.triggerMethod:r,i=arguments.length,o=Array(i>1?i-1:0),s=1;i>s;s++)o[s-1]=arguments[s];return n.apply(t,o)}function s(t,n,i){t._getImmediateChildren&&e.each(t._getImmediateChildren(),function(t){i(t)&&o(t,n,t)})}function a(t){return!t._isAttached}function l(t){return a(t)?(t._isAttached=!0,!0):!1}function u(t){return t._isAttached}function h(t){return u(t)?(t._isAttached=!1,!0):!1}function c(t){function e(){s(t,"before:attach",a)}function n(){s(t,"attach",l),p()}function i(){s(t,"before:detach",u)}function r(){s(t,"detach",h)}function c(){p()}function p(){t._isAttached&&t._isRendered&&o(t,"dom:refresh",t)}t._areViewEventsMonitored||(t._areViewEventsMonitored=!0,t.on({"before:attach":e,attach:n,"before:detach":i,detach:r,render:c}))}function p(t,n,i,r,o){var s=r.split(/\s+/);e.each(s,function(e){var r=t[e];if(!r)throw new F('Method "'+e+'" was configured as an event handler, but does not exist.');t[o](n,i,r)})}function d(t,n,i,r){if(n&&i){if(!e.isObject(i))throw new F({message:"Bindings must be an object.",url:"marionette.functions.html#marionettebindevents"});e.each(i,function(i,o){return e.isString(i)?void p(t,n,o,i,r):void t[r](n,o,i)})}}function f(t,e){return d(this,t,e,"listenTo"),this}function m(t,e){return d(this,t,e,"stopListening"),this}function g(t,n,i,r){if(n&&i){if(!e.isObject(i))throw new F({message:"Bindings must be an object.",url:"marionette.functions.html#marionettebindrequests"});var o=I.call(t,i);n[r](o,t)}}function v(t,e){return g(this,t,e,"reply"),this}function y(t,e){return g(this,t,e,"stopReplying"),this}function _(t,n){return t.behaviorClass?t.behaviorClass:e.isFunction(t)?t:e.isFunction(Tt.Behaviors.behaviorsLookup)?Tt.Behaviors.behaviorsLookup(t,n)[n]:Tt.Behaviors.behaviorsLookup[n]}function A(t,n){return e.chain(n).map(function(n,i){var r=_(n,i),o=n===r?{}:n,s=new r(o,t),a=A(t,e.result(s,"behaviors"));return[s].concat(a)}).flatten().value()}function b(t,n){return[t+e.uniqueId(".evt"),n].join(" ")}function x(t,n){e.isString(n)&&(n={event:n});var i=n.event,r=n.preventDefault!==!1,o=n.stopPropagation!==!1;return function(e){r&&e.preventDefault(),o&&e.stopPropagation(),t.triggerMethod(i,t)}}function w(t){t.supportsDestroyLifecycle||o(t,"before:destroy",t);var e=!!t._isAttached;e&&o(t,"before:detach",t),t.remove(),e&&(t._isAttached=!1,o(t,"detach",t)),t._isDestroyed=!0,t.supportsDestroyLifecycle||o(t,"destroy",t)}function T(){throw new F({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.md#behaviorslookup"})}function E(t){return!!xt[t]}function S(t,e){return xt[t]=e}t="default"in t?t["default"]:t,e="default"in e?e["default"]:e,n="default"in n?n["default"]:n;var M="3.0.0",C=function(t){return function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];return t.apply(e,i)}},P=t.Model.extend,R=function Et(t,n){e.isObject(t)&&(t=t.prev+" is going to be removed in the future. Please use "+t.next+" instead."+(t.url?" See: "+t.url:"")),Tt.DEV_MODE&&(void 0!==n&&n||Et._cache[t]||(Et._warn("Deprecation warning: "+t),Et._cache[t]=!0))};R._console="undefined"!=typeof console?console:{},R._warn=function(){var t=R._console.warn||R._console.log||e.noop;return t.apply(R._console,arguments)},R._cache={};var O=function(e){return t.$.contains(document.documentElement,e)},L=function(t,n){t&&e.extend(this,e.pick(t,n))},N=function(t){return t?this.options&&void 0!==this.options[t]?this.options[t]:this[t]:void 0},I=function(t){var n=this;return e.reduce(t,function(t,i,r){return e.isFunction(i)||(i=n[i]),i&&(t[r]=i),t},{})},k=/(^|:)(\w)/gi,D=["description","fileName","lineNumber","name","message","number"],F=P.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+M+"/",constructor:function(t,n){e.isObject(t)?(n=t,t=n.message):n||(n={});var i=Error.call(this,t);e.extend(this,e.pick(i,D),e.pick(n,D)),this.captureStackTrace(),n.url&&(this.url=this.urlRoot+n.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,F)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}});F.extend=P;var B=function(){for(var t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];this.options=e.extend.apply(e,[{},e.result(this,"options")].concat(n))},U={normalizeMethods:I,_setOptions:B,mergeOptions:L,getOption:N,bindEvents:f,unbindEvents:m},V={_initRadio:function(){var t=e.result(this,"channelName");if(t){if(!n)throw new F({name:"BackboneRadioMissing",message:'The dependency "backbone.radio" is missing.'});var i=this._channel=n.channel(t),r=e.result(this,"radioEvents");this.bindEvents(i,r);var o=e.result(this,"radioRequests");this.bindRequests(i,o),this.on("destroy",this._destroyRadio)}},_destroyRadio:function(){this._channel.stopReplying(null,null,this)},getChannel:function(){return this._channel},bindEvents:f,unbindEvents:m,bindRequests:v,unbindRequests:y},G=["channelName","radioEvents","radioRequests"],H=function(t){this._setOptions(t),this.mergeOptions(t,G),this.cid=e.uniqueId(this.cidPrefix),this._initRadio(),this.initialize.apply(this,arguments)};H.extend=P,e.extend(H.prototype,t.Events,U,V,{cidPrefix:"mno",_isDestroyed:!1,isDestroyed:function(){return this._isDestroyed},initialize:function(){},destroy:function(){if(this._isDestroyed)return this;for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return this.triggerMethod.apply(this,["before:destroy",this].concat(e)),this._isDestroyed=!0,this.triggerMethod.apply(this,["destroy",this].concat(e)),this.stopListening(),this},triggerMethod:r});var z=function(t){this.templateId=t};e.extend(z,{templateCaches:{},get:function(t,e){var n=this.templateCaches[t];return n||(n=new z(t),this.templateCaches[t]=n),n.load(e)},clear:function(){for(var t=void 0,e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];var r=n.length;if(r>0)for(t=0;r>t;t++)delete this.templateCaches[n[t]];else this.templateCaches={}}}),e.extend(z.prototype,{load:function(t){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId,t);return this.compiledTemplate=this.compileTemplate(e,t),this.compiledTemplate},loadTemplate:function(e,n){var i=t.$(e);if(!i.length)throw new F({name:"NoTemplateError",message:'Could not find template: "'+e+'"'});return i.html()},compileTemplate:function(t,n){return e.template(t,n)}});var j=e.invokeMap||e.invoke,q=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},W={_initBehaviors:function(){var t=e.result(this,"behaviors");this._behaviors=e.isObject(t)?A(this,t):{}},_getBehaviorTriggers:function(){var t=j(this._behaviors,"getTriggers");return e.extend.apply(e,[{}].concat(q(t)))},_getBehaviorEvents:function(){var t=j(this._behaviors,"getEvents");return e.extend.apply(e,[{}].concat(q(t)))},_proxyBehaviorViewProperties:function(){j(this._behaviors,"proxyViewProperties")},_delegateBehaviorEntityEvents:function(){j(this._behaviors,"delegateEntityEvents")},_undelegateBehaviorEntityEvents:function(){j(this._behaviors,"undelegateEntityEvents")},_destroyBehaviors:function(t){j.apply(void 0,[this._behaviors,"destroy"].concat(q(t)))},_bindBehaviorUIElements:function(){j(this._behaviors,"bindUIElements")},_unbindBehaviorUIElements:function(){j(this._behaviors,"unbindUIElements")},_triggerEventOnBehaviors:function(){for(var t=this._behaviors,e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];for(var o=0,s=t&&t.length;s>o;o++)r.apply(t[o],n)}},X={_delegateEntityEvents:function(t,n){this._undelegateEntityEvents(t,n);var i=e.result(this,"modelEvents");f.call(this,t,i);var r=e.result(this,"collectionEvents");f.call(this,n,r)},_undelegateEntityEvents:function(t,n){var i=e.result(this,"modelEvents");m.call(this,t,i);var r=e.result(this,"collectionEvents");m.call(this,n,r)}},K=/^(\S+)\s*(.*)$/,Y=function(t){var e=t.match(K);return b(e[1],e[2])},Z={_getViewTriggers:function(t,n){return e.reduce(n,function(e,n,i){return i=Y(i),e[i]=x(t,n),e},{})}},Q=function(t,n){return e.reduce(t,function(t,e,i){var r=J(i,n);return t[r]=e,t},{})},J=function(t,e){return t.replace(/@ui\.[a-zA-Z-_$0-9]*/g,function(t){return e[t.slice(4)]})},$=function St(t,n,i){return e.each(t,function(r,o){e.isString(r)?t[o]=J(r,n):e.isObject(r)&&e.isArray(i)&&(e.extend(r,St(e.pick(r,i),n)),e.each(i,function(t){var i=r[t];e.isString(i)&&(r[t]=J(i,n))}))}),t},tt={normalizeUIKeys:function(t){var e=this._getUIBindings();return Q(t,e)},normalizeUIValues:function(t,e){var n=this._getUIBindings();return $(t,n,e)},_getUIBindings:function(){var t=e.result(this,"_uiBindings"),n=e.result(this,"ui");return t||n},_bindUIElements:function(){var t=this;if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var n=e.result(this,"_uiBindings");this._ui={},e.each(n,function(e,n){t._ui[n]=t.$(e)}),this.ui=this._ui}},_unbindUIElements:function(){var t=this;this.ui&&this._uiBindings&&(e.each(this.ui,function(e,n){delete t.ui[n]}),this.ui=this._uiBindings,delete this._uiBindings,delete this._ui)},_getUI:function(t){return this._ui[t]}},et={supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,_isDestroyed:!1,isDestroyed:function(){return!!this._isDestroyed},_isRendered:!1,isRendered:function(){return!!this._isRendered},_isAttached:!1,isAttached:function(){return!!this._isAttached},setElement:function(){var e=!!this.el;return t.View.prototype.setElement.apply(this,arguments),e&&(this._isRendered=!!this.$el.length,this._isAttached=O(this.el)),this},delegateEvents:function(n){this._proxyBehaviorViewProperties(),this._buildEventProxies();var i=this._getEvents(n);"undefined"==typeof n&&(this.events=i);var r=e.extend({},this._getBehaviorEvents(),i,this._getBehaviorTriggers(),this.getTriggers());return t.View.prototype.delegateEvents.call(this,r),this},_getEvents:function(t){var n=t||this.events;return this.normalizeUIKeys(e.isFunction(n)?n.call(this):n)},getTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(e.result(this,"triggers"));return this._getViewTriggers(this,t)}},delegateEntityEvents:function(){return this._delegateEntityEvents(this.model,this.collection),this._delegateBehaviorEntityEvents(),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.model,this.collection),this._undelegateBehaviorEntityEvents(),this},_ensureViewIsIntact:function(){if(this._isDestroyed)throw new F({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(this._isDestroyed)return this;for(var t=!!this._isAttached,e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];return this.triggerMethod.apply(this,["before:destroy",this].concat(n)),t&&this.triggerMethod("before:detach",this),this.unbindUIElements(),this._removeElement(),t&&(this._isAttached=!1,this.triggerMethod("detach",this)),this._removeChildren(),this._destroyBehaviors(n),this._isDestroyed=!0,this._isRendered=!1,this.triggerMethod.apply(this,["destroy",this].concat(n)),this.stopListening(),this},bindUIElements:function(){return this._bindUIElements(),this._bindBehaviorUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this._unbindBehaviorUIElements(),this},getUI:function(t){return this._ensureViewIsIntact(),this._getUI(t)},childViewEventPrefix:"childview",triggerMethod:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var i=r.apply(this,e);return this._triggerEventOnBehaviors.apply(this,e),this._triggerEventOnParentLayout.apply(this,e),i},_buildEventProxies:function(){this._childViewEvents=e.result(this,"childViewEvents"),this._childViewTriggers=e.result(this,"childViewTriggers")},_triggerEventOnParentLayout:function(t){var n=this._parentView();if(n){for(var i=e.result(n,"childViewEventPrefix"),r=i+":"+t,o=arguments.length,s=Array(o>1?o-1:0),a=1;o>a;a++)s[a-1]=arguments[a];n.triggerMethod.apply(n,[r].concat(s));var l=n.normalizeMethods(n._childViewEvents);l&&e.isFunction(l[t])&&l[t].apply(n,s);var u=n._childViewTriggers;u&&e.isString(u[t])&&n.triggerMethod.apply(n,[u[t]].concat(s))}},_parentView:function(){for(var t=this._parent;t;){if(t instanceof at)return t;t=t._parent}}};e.extend(et,W,U,X,Z,tt);var nt=["allowMissingEl","parentEl","replaceElement"],it=H.extend({cidPrefix:"mnr",replaceElement:!1,_isReplaced:!1,constructor:function(e){if(this._setOptions(e),this.mergeOptions(e,nt),this._initEl=this.el=this.getOption("el"),this.el=this.el instanceof t.$?this.el[0]:this.el,!this.el)throw new F({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),H.call(this,e)},show:function(t,e){return this._ensureElement(e)?(this._ensureView(t),t===this.currentView?this:(this.triggerMethod("before:show",this,t,e),c(t),this.empty(e),t.on("destroy",this.empty,this),t._parent=this,this._renderView(t),this._attachView(t,e),this.triggerMethod("show",this,t,e),this)):void 0},_renderView:function(t){t._isRendered||(t.supportsRenderLifecycle||o(t,"before:render",t),t.render(),t.supportsRenderLifecycle||(t._isRendered=!0,o(t,"render",t)))},_attachView:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=!t._isAttached&&O(this.el),r="undefined"==typeof n.replaceElement?!!e.result(this,"replaceElement"):!!n.replaceElement;i&&o(t,"before:attach",t),this.attachHtml(t,r),i&&(t._isAttached=!0,o(t,"attach",t)),this.currentView=t},_ensureElement:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(e.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){var n="undefined"==typeof t.allowMissingEl?!!e.result(this,"allowMissingEl"):!!t.allowMissingEl;if(n)return!1;throw new F('An "el" must exist in DOM for this region '+this.cid)}return!0},_ensureView:function(t){if(!t)throw new F({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(t._isDestroyed)throw new F({name:"ViewDestroyedError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.'})},getEl:function(n){return t.$(n,e.result(this,"parentEl"))},_replaceEl:function(t){this._restoreEl();var e=this.el.parentNode;e.replaceChild(t.el,this.el),this._isReplaced=!0},_restoreEl:function(){if(this._isReplaced){var t=this.currentView;if(t){var e=t.el.parentNode;e&&(e.replaceChild(this.el,t.el),this._isReplaced=!1)}}},isReplaced:function(){return!!this._isReplaced},attachHtml:function(t,e){e?this._replaceEl(t):this.el.appendChild(t.el)},empty:function(){var t=arguments.length<=0||void 0===arguments[0]?{allowMissingEl:!0}:arguments[0],e=this.currentView;return e?(e.off("destroy",this.empty,this),this.triggerMethod("before:empty",this,e),this._restoreEl(),delete this.currentView,e._isDestroyed||(this._removeView(e,t),delete e._parent),this.triggerMethod("empty",this,e),this):(this._ensureElement(t)&&this.detachHtml(),this)},_removeView:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.preventDestroy,i=!!n;return i?void this._detachView(t):void(t.destroy?t.destroy():w(t))},_detachView:function(t){var e=!!t._isAttached;e&&o(t,"before:detach",t),this.detachHtml(),e&&(t._isAttached=!1,o(t,"detach",t))},detachHtml:function(){this.$el.contents().detach()},hasView:function(){return!!this.currentView},reset:function(t){return this.empty(t),this.$el&&(this.el=this._initEl),delete this.$el,this},destroy:function(t){return this.reset(t),H.prototype.destroy.apply(this,arguments)}}),rt={regionClass:it,_initRegions:function(){this.regions=this.regions||{},this._regions={},this.addRegions(e.result(this,"regions"))},_reInitRegions:function(){j(this._regions,"reset")},addRegion:function(t,e){var n={};return n[t]=e,this.addRegions(n)[t]},addRegions:function(t){return e.isEmpty(t)?void 0:(t=this.normalizeUIValues(t,["selector","el"]),this.regions=e.extend({},this.regions,t),this._addRegions(t))},_addRegions:function(t){var n=this;return e.reduce(t,function(t,e,i){return t[i]=n._buildRegion(e),n._addRegion(t[i],i),t},{})},_buildRegion:function(t){return t instanceof it?t:this._buildRegionFromDefinition(t)},_buildRegionFromDefinition:function(t){if(e.isString(t))return this._buildRegionFromObject({el:t});if(e.isFunction(t))return this._buildRegionFromRegionClass(t);if(e.isObject(t))return this._buildRegionFromObject(t);throw new F({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromObject:function(t){var n=t.regionClass||this.regionClass,i=e.omit(t,"regionClass");return e.defaults(i,{el:t.selector,parentEl:e.partial(e.result,this,"el")}),new n(i)},_buildRegionFromRegionClass:function(t){return new t({parentEl:e.partial(e.result,this,"el")})},_addRegion:function(t,e){this.triggerMethod("before:add:region",this,e,t),t._parent=this,this._regions[e]=t,this.triggerMethod("add:region",this,e,t)},removeRegion:function(t){var e=this._regions[t];return this._removeRegion(e,t),e},removeRegions:function(){var t=this.getRegions();return e.each(this._regions,e.bind(this._removeRegion,this)),t},_removeRegion:function(t,e){this.triggerMethod("before:remove:region",this,e,t),t.empty(),t.stopListening(),delete this.regions[e],delete this._regions[e],this.triggerMethod("remove:region",this,e,t)},emptyRegions:function(){var t=this.getRegions();return j(t,"empty"),t},hasRegion:function(t){return!!this.getRegion(t)},getRegion:function(t){return this._regions[t]},getRegions:function(){return e.clone(this._regions)},showChildView:function(t,e){for(var n=this.getRegion(t),i=arguments.length,r=Array(i>2?i-2:0),o=2;i>o;o++)r[o-2]=arguments[o];return n.show.apply(n,[e].concat(r))},getChildView:function(t){return this.getRegion(t).currentView}},ot={render:function(t,n){if(!t)throw new F({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var i=e.isFunction(t)?t:z.get(t);return i(n)}},st=["behaviors","childViewEventPrefix","childViewEvents","childViewTriggers","collectionEvents","events","modelEvents","regionClass","regions","template","templateContext","triggers","ui"],at=t.View.extend({constructor:function(n){this.render=e.bind(this.render,this),this._setOptions(n),this.mergeOptions(n,st),c(this),this._initBehaviors(),this._initRegions();var i=Array.prototype.slice.call(arguments);i[0]=this.options,t.View.prototype.constructor.apply(this,i),this.delegateEntityEvents()},serializeData:function(){return this.model||this.collection?this.model?this.serializeModel():{items:this.serializeCollection()}:{}},serializeModel:function(){return this.model?e.clone(this.model.attributes):{}},serializeCollection:function(){return this.collection?this.collection.map(function(t){return e.clone(t.attributes)}):{}},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._isRendered&&this._reInitRegions(),this._renderTemplate(),this.bindUIElements(),this._isRendered=!0,this.triggerMethod("render",this),this},_renderTemplate:function(){var t=this.getTemplate();if(t!==!1){var e=this.mixinTemplateContext(this.serializeData()),n=ot.render(t,e,this);this.attachElContent(n)}},getTemplate:function(){return this.template},mixinTemplateContext:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.result(this,"templateContext");return e.extend(t,n)},attachElContent:function(t){return this.$el.html(t),this},_removeChildren:function(){this.removeRegions()},_getImmediateChildren:function(){return e.chain(this.getRegions()).map("currentView").compact().value()}});e.extend(at.prototype,et,rt);var lt=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce"],ut=function(t,n){e.each(lt,function(i){t[i]=function(){var t=e.values(e.result(this,n)),r=[t].concat(e.toArray(arguments));return e[i].apply(e,r)}})},ht=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,e.bind(this.add,this))};ut(ht.prototype,"_views"),e.extend(ht.prototype,{add:function(t,e){return this._add(t,e)._updateLength()},_add:function(t,e){var n=t.cid;return this._views[n]=t,t.model&&(this._indexByModel[t.model.cid]=n),e&&(this._indexByCustom[e]=n),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){return this._remove(t)._updateLength()},_remove:function(t){var n=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.some(this._indexByCustom,e.bind(function(t,e){return t===n?(delete this._indexByCustom[e],!0):void 0},this)),delete this._views[n],this},_updateLength:function(){return this.length=e.size(this._views),this}});var ct=["behaviors","childView","childViewEventPrefix","childViewEvents","childViewOptions","childViewTriggers","collectionEvents","events","filter","emptyView","emptyViewOptions","modelEvents","reorderOnSort","sort","triggers","ui","viewComparator"],pt=t.View.extend({sort:!0,constructor:function(n){this.render=e.bind(this.render,this),this._setOptions(n),this.mergeOptions(n,ct),c(this),this._initBehaviors(),this.once("render",this._initialEvents),this._initChildViewStorage(),this._bufferedChildren=[];var i=Array.prototype.slice.call(arguments);i[0]=this.options,t.View.prototype.constructor.apply(this,i),this.delegateEntityEvents()},_startBuffering:function(){this._isBuffering=!0},_endBuffering:function(){var t=!!this._isAttached,n=t?this._getImmediateChildren():[];this._isBuffering=!1,e.each(n,function(t){o(t,"before:attach",t)}),this.attachBuffer(this,this._createBuffer()),e.each(n,function(t){t._isAttached=!0,o(t,"attach",t)}),this._bufferedChildren=[]},_getImmediateChildren:function(){return e.values(this.children._views)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t,n,i){var r=void 0!==i.at&&(i.index||n.indexOf(t));if((this.filter||r===!1)&&(r=e.indexOf(this._filteredSortedModels(r),t)),this._shouldAddChild(t,r)){this._destroyEmptyView();var o=this._getChildView(t);this._addChild(t,o,r)}},_onCollectionRemove:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this._checkEmpty()},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this._isRendered=!0,this.triggerMethod("render",this),this},setFilter:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.preventRender,i=this._isRendered&&!this._isDestroyed,r=this.filter!==t,o=i&&r&&!n;if(o){var s=this._filteredSortedModels();this.filter=t;var a=this._filteredSortedModels();this._applyModelDeltas(a,s)}else this.filter=t;return this},removeFilter:function(t){return this.setFilter(null,t)},_applyModelDeltas:function(t,n){var i=this,r={};e.each(t,function(t,e){var n=!i.children.findByModel(t);n&&i._onCollectionAdd(t,i.collection,{
at:e}),r[t.cid]=!0}),e.each(n,function(t){var e=!r[t.cid]&&i.children.findByModel(t);e&&i._onCollectionRemove(t)})},reorder:function(){var t=this,n=this.children,i=this._filteredSortedModels();if(!i.length&&this._showingEmptyView)return this;var r=e.some(i,function(t){return!n.findByModel(t)});return r?this.render():!function(){var r=e.map(i,function(t,e){var i=n.findByModel(t);return i._index=e,i.el}),o=n.filter(function(t){return!e.contains(r,t.el)});t.triggerMethod("before:reorder",t),t._appendReorderedChildren(r),e.each(o,e.bind(t.removeChildView,t)),t._checkEmpty(),t.triggerMethod("reorder",t)}(),this},resortView:function(){return this.reorderOnSort?this.reorder():this._renderChildren(),this},_sortViews:function(){var t=this,n=this._filteredSortedModels(),i=e.find(n,function(e,n){var i=t.children.findByModel(e);return!i||i._index!==n});i&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(t){this.$el.append(t)},_renderChildren:function(){this._isRendered&&(this._destroyEmptyView(),this._destroyChildren({checkEmpty:!1}));var t=this._filteredSortedModels();this.isEmpty({processedModels:t})?this._showEmptyView():(this.triggerMethod("before:render:children",this),this._startBuffering(),this._showCollection(t),this._endBuffering(),this.triggerMethod("render:children",this))},_showCollection:function(t){var n=this;e.each(t,function(t,e){var i=n._getChildView(t);n._addChild(t,i,e)})},_filteredSortedModels:function(t){if(!this.collection||!this.collection.length)return[];var e=this.getViewComparator(),n=this.collection.models;if(t=Math.min(Math.max(t,0),n.length-1),e){var i=void 0;t&&(i=n[t],n=n.slice(0,t).concat(n.slice(t+1))),n=this._sortModelsBy(n,e),i&&n.splice(t,0,i)}return n=this._filterModels(n)},getViewComparator:function(){return this.viewComparator},_filterModels:function(t){var n=this;return this.filter&&(t=e.filter(t,function(t,e){return n._shouldAddChild(t,e)})),t},_sortModelsBy:function(t,n){return"string"==typeof n?e.sortBy(t,function(t){return t.get(n)}):1===n.length?e.sortBy(t,e.bind(n,this)):t.sort(e.bind(n,this))},_showEmptyView:function(){var n=this._getEmptyView();if(n&&!this._showingEmptyView){this._showingEmptyView=!0;var i=new t.Model,r=this.emptyViewOptions||this.childViewOptions;e.isFunction(r)&&(r=r.call(this,i,this._emptyViewIndex));var o=this.buildChildView(i,n,r);this.triggerMethod("before:render:empty",this,o),this._addChildView(o,0),this.triggerMethod("render:empty",this,o),o._parent=this}},_destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty",this),this._destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty",this))},_getEmptyView:function(){var t=this.emptyView;if(t)return this._getView(t)},_getChildView:function(t){var e=this.childView;if(!e)throw new F({name:"NoChildViewError",message:'A "childView" must be specified'});if(e=this._getView(e,t),!e)throw new F({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return e},_getView:function(n,i){return n.prototype instanceof t.View||n===t.View?n:e.isFunction(n)?n.call(this,i):void 0},_addChild:function(t,e,n){var i=this._getChildViewOptions(t,n),r=this.buildChildView(t,e,i);return this.addChildView(r,n),r},_getChildViewOptions:function(t,n){return e.isFunction(this.childViewOptions)?this.childViewOptions(t,n):this.childViewOptions},addChildView:function(t,e){return this.triggerMethod("before:add:child",this,t),this._updateIndices(t,!0,e),t._parent=this,this._addChildView(t,e),this.triggerMethod("add:child",this,t),t},_updateIndices:function(t,e,n){this.sort&&(e&&(t._index=n),this.children.each(function(n){n._index>=t._index&&(n._index+=e?1:-1)}))},_addChildView:function(t,e){var n=!this._isBuffering&&this._isAttached;c(t),this._proxyChildEvents(t),this.children.add(t),t.supportsRenderLifecycle||o(t,"before:render",t),t.render(),t.supportsRenderLifecycle||(t._isRendered=!0,o(t,"render",t)),n&&o(t,"before:attach",t),this.attachHtml(this,t,e),n&&(t._isAttached=!0,o(t,"attach",t))},buildChildView:function(t,n,i){var r=e.extend({model:t},i);return new n(r)},removeChildView:function(t){return!t||t._isDestroyed?t:(this.triggerMethod("before:remove:child",this,t),t.destroy?t.destroy():w(t),delete t._parent,this.stopListening(t),this.children.remove(t),this.triggerMethod("remove:child",this,t),this._updateIndices(t,!1),t)},isEmpty:function(t){var n=void 0;return e.result(t,"processedModels")?n=t.processedModels:(n=this.collection?this.collection.models:[],n=this._filterModels(n)),0===n.length},_checkEmpty:function(){this.isEmpty()&&this._showEmptyView()},attachBuffer:function(t,e){t.$el.append(e)},_createBuffer:function(){var t=document.createDocumentFragment();return e.each(this._bufferedChildren,function(e){t.appendChild(e.el)}),t},attachHtml:function(t,e,n){t._isBuffering?t._bufferedChildren.splice(n,0,e):t._insertBefore(e,n)||t._insertAfter(e)},_insertBefore:function(t,e){var n=void 0,i=this.sort&&e<this.children.length-1;return i&&(n=this.children.find(function(t){return t._index===e+1})),n?(n.$el.before(t.el),!0):!1},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new ht},_removeChildren:function(){this._destroyChildren({checkEmpty:!1})},_destroyChildren:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.checkEmpty;this.triggerMethod("before:destroy:children",this);var i=n!==!1,r=this.children.map(e.identity);return this.children.each(e.bind(this.removeChildView,this)),i&&this._checkEmpty(),this.triggerMethod("destroy:children",this),r},_shouldAddChild:function(t,n){var i=this.filter;return!e.isFunction(i)||i.call(this,t,n,this.collection)},_proxyChildEvents:function(t){var n=this,i=e.result(this,"childViewEventPrefix");this.listenTo(t,"all",function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;r>s;s++)o[s-1]=arguments[s];var a=i+":"+t,l=n.normalizeMethods(n._childViewEvents);"undefined"!=typeof l&&e.isFunction(l[t])&&l[t].apply(n,o);var u=n._childViewTriggers;u&&e.isString(u[t])&&n.triggerMethod.apply(n,[u[t]].concat(o)),n.triggerMethod.apply(n,[a].concat(o))})}});e.extend(pt.prototype,et);var dt=["childViewContainer","template","templateContext"],ft=pt.extend({constructor:function(t){R("CompositeView is deprecated. Convert to View at your earliest convenience"),this.mergeOptions(t,dt),pt.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_getChildView:function(t){var e=this.childView;if(!e)return this.constructor;if(e=this._getView(e,t),!e)throw new F({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return e},serializeData:function(){return this.serializeModel()},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.renderChildren(),this._isRendering=!1,this._isRendered=!0,this.triggerMethod("render",this),this},renderChildren:function(){(this._isRendered||this._isRendering)&&pt.prototype._renderChildren.call(this)},attachBuffer:function(t,e){var n=this.getChildViewContainer(t);n.append(e)},_insertAfter:function(t){var e=this.getChildViewContainer(this,t);e.append(t.el)},_appendReorderedChildren:function(t){var e=this.getChildViewContainer(this);e.append(t)},getChildViewContainer:function(t,n){if(t.$childViewContainer)return t.$childViewContainer;var i=void 0,r=t.childViewContainer;if(r){var o=e.result(t,"childViewContainer");if(i="@"===o.charAt(0)&&t.ui?t.ui[o.substr(4)]:t.$(o),i.length<=0)throw new F({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+t.childViewContainer})}else i=t.$el;return t.$childViewContainer=i,i},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),mt=e.pick(at.prototype,"serializeModel","getTemplate","_renderTemplate","mixinTemplateContext","attachElContent");e.extend(ft.prototype,mt);var gt=["collectionEvents","events","modelEvents","triggers","ui"],vt=H.extend({cidPrefix:"mnb",constructor:function(t,n){this.view=n,this.defaults=e.clone(e.result(this,"defaults",{})),this._setOptions(this.defaults,t),this.mergeOptions(this.options,gt),this.ui=e.extend({},e.result(this,"ui"),e.result(n,"ui")),H.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(){return this.$el=this.view.$el,this.el=this.view.el,this},bindUIElements:function(){return this._bindUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this},getUI:function(t){return this.view._ensureViewIsIntact(),this._getUI(t)},delegateEntityEvents:function(){return this._delegateEntityEvents(this.view.model,this.view.collection),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.view.model,this.view.collection),this},getEvents:function(){var t=this.normalizeUIKeys(e.result(this,"events"));return e.reduce(t,function(t,n,i){return e.isFunction(n)||(n=this[n]),n?(i=Y(i),t[i]=e.bind(n,this),t):void 0},{},this)},getTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(e.result(this,"triggers"));return this._getViewTriggers(this.view,t)}}});e.extend(vt.prototype,X,Z,tt);var yt=["region","regionClass"],_t=H.extend({cidPrefix:"mna",constructor:function(t){this._setOptions(t),this.mergeOptions(t,yt),this._initRegion(),H.prototype.constructor.apply(this,arguments)},regionClass:it,_initRegion:function(t){var n=this.region,i=this.regionClass;return e.isString(n)?void(this._region=new i({el:n})):void(this._region=n)},getRegion:function(){return this._region},showView:function(t){for(var e=this.getRegion(),n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];return e.show.apply(e,[t].concat(i))},getView:function(){return this.getRegion().currentView},start:function(t){return this.triggerMethod("before:start",this,t),this.triggerMethod("start",this,t),this}}),At=["appRoutes","controller"],bt=t.Router.extend({constructor:function(e){this._setOptions(e),this.mergeOptions(e,At),t.Router.apply(this,arguments);var n=this.appRoutes,i=this._getController();this.processAppRoutes(i,n),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var n=this._getController();return this._addAppRoute(n,t,e),this},_processOnRoute:function(t,n){if(e.isFunction(this.onRoute)){var i=e.invert(this.appRoutes)[t];this.onRoute(t,i,n)}},processAppRoutes:function(t,n){var i=this;if(!n)return this;var r=e.keys(n).reverse();return e.each(r,function(e){i._addAppRoute(t,e,n[e])}),this},_getController:function(){return this.controller},_addAppRoute:function(t,n,i){var r=t[i];if(!r)throw new F('Method "'+i+'" was not found on the controller');this.route(n,i,e.bind(r,t))},triggerMethod:r});e.extend(bt.prototype,U);var xt={},wt=t.Marionette,Tt=t.Marionette={};return Tt.noConflict=function(){return t.Marionette=wt,this},Tt.bindEvents=C(f),Tt.unbindEvents=C(m),Tt.bindRequests=C(v),Tt.unbindRequests=C(y),Tt.mergeOptions=C(L),Tt.getOption=C(N),Tt.normalizeMethods=C(I),Tt.extend=P,Tt.isNodeAttached=O,Tt.deprecate=R,Tt.triggerMethod=C(r),Tt.triggerMethodOn=o,Tt.isEnabled=E,Tt.setEnabled=S,Tt.monitorViewEvents=c,Tt.Behaviors={},Tt.Behaviors.behaviorsLookup=T,Tt.Application=_t,Tt.AppRouter=bt,Tt.Renderer=ot,Tt.TemplateCache=z,Tt.View=at,Tt.CollectionView=pt,Tt.CompositeView=ft,Tt.Behavior=vt,Tt.Region=it,Tt.Error=F,Tt.Object=H,Tt.DEV_MODE=!1,Tt.FEATURES=xt,Tt.VERSION=M,Tt})},{backbone:11,"backbone.radio":10,underscore:89}],10:[function(t,e,n){!function(i,r){"object"==typeof n&&"undefined"!=typeof e?e.exports=r(t("underscore"),t("backbone")):"function"==typeof define&&define.amd?define(["underscore","backbone"],r):(i.Backbone=i.Backbone||{},i.Backbone.Radio=r(i._,i.Backbone))}(this,function(t,e){"use strict";function n(t,e,n,i){var r=t[e];return n&&n!==r.callback&&n!==r.callback._callback||i&&i!==r.context?void 0:(delete t[e],!0)}function i(e,i,r,o){e||(e={});for(var s=i?[i]:t.keys(e),a=!1,l=0,u=s.length;u>l;l++)i=s[l],e[i]&&n(e,i,r,o)&&(a=!0);return a}function r(e){return h[e]||(h[e]=t.bind(l.log,l,e))}function o(e){return t.isFunction(e)?e:function(){return e}}t="default"in t?t["default"]:t,e="default"in e?e["default"]:e;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=e.Radio,l=e.Radio={};l.VERSION="2.0.0",l.noConflict=function(){return e.Radio=a,this},l.DEBUG=!1,l._debugText=function(t,e,n){return t+(n?" on the "+n+" channel":"")+': "'+e+'"'},l.debugLog=function(t,e,n){l.DEBUG&&console&&console.warn&&console.warn(l._debugText(t,e,n))};var u=/\s+/;l._eventsApi=function(e,n,i,r){if(!i)return!1;var o={};if("object"===("undefined"==typeof i?"undefined":s(i))){for(var a in i){var l=e[n].apply(e,[a,i[a]].concat(r));u.test(a)?t.extend(o,l):o[a]=l}return o}if(u.test(i)){for(var h=i.split(u),c=0,p=h.length;p>c;c++)o[h[c]]=e[n].apply(e,[h[c]].concat(r));return o}return!1},l._callHandler=function(t,e,n){var i=n[0],r=n[1],o=n[2];switch(n.length){case 0:return t.call(e);case 1:return t.call(e,i);case 2:return t.call(e,i,r);case 3:return t.call(e,i,r,o);default:return t.apply(e,n)}};var h={};t.extend(l,{log:function(e,n){if("undefined"!=typeof console){var i=t.toArray(arguments).slice(2);console.log("["+e+'] "'+n+'"',i)}},tuneIn:function(t){var e=l.channel(t);return e._tunedIn=!0,e.on("all",r(t)),this},tuneOut:function(t){var e=l.channel(t);return e._tunedIn=!1,e.off("all",r(t)),delete h[t],this}}),l.Requests={request:function(e){var n=t.toArray(arguments).slice(1),i=l._eventsApi(this,"request",e,n);if(i)return i;var r=this.channelName,o=this._requests;if(r&&this._tunedIn&&l.log.apply(this,[r,e].concat(n)),o&&(o[e]||o["default"])){var s=o[e]||o["default"];return n=o[e]?n:arguments,l._callHandler(s.callback,s.context,n)}l.debugLog("An unhandled request was fired",e,r)},reply:function(t,e,n){return l._eventsApi(this,"reply",t,[e,n])?this:(this._requests||(this._requests={}),this._requests[t]&&l.debugLog("A request was overwritten",t,this.channelName),this._requests[t]={callback:o(e),context:n||this},this)},replyOnce:function(e,n,i){if(l._eventsApi(this,"replyOnce",e,[n,i]))return this;var r=this,s=t.once(function(){return r.stopReplying(e),o(n).apply(this,arguments)});return this.reply(e,s,i)},stopReplying:function(t,e,n){return l._eventsApi(this,"stopReplying",t)?this:(t||e||n?i(this._requests,t,e,n)||l.debugLog("Attempted to remove the unregistered request",t,this.channelName):delete this._requests,this)}},l._channels={},l.channel=function(t){if(!t)throw new Error("You must provide a name for the channel.");return l._channels[t]?l._channels[t]:l._channels[t]=new l.Channel(t)},l.Channel=function(t){this.channelName=t},t.extend(l.Channel.prototype,e.Events,l.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var c,p,d=[e.Events,l.Requests];return t.each(d,function(e){t.each(e,function(e,n){l[n]=function(e){return p=t.toArray(arguments).slice(1),c=this.channel(e),c[n].apply(c,p)}})}),l.reset=function(e){var n=e?[this._channels[e]]:this._channels;t.each(n,function(t){t.reset()})},l})},{backbone:11,underscore:89}],11:[function(t,e,n){(function(e){!function(i){var r="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(t,e,n){r.Backbone=i(r,n,t,e)});else if("undefined"!=typeof n){var o,s=t("underscore");try{o=t("jquery")}catch(a){}i(r,n,s,o)}else r.Backbone=i(r,{},r._,r.jQuery||r.Zepto||r.ender||r.$)}(function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],l(t,this),r)};case 4:return function(t,r,o){return n[e](this[i],l(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}},a=function(t,e,i){n.each(e,function(e,r){n[r]&&(t.prototype[r]=s(e,r,i))})},l=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},h=e.Events={},c=/\s+/,p=function(t,e,i,r,o){var s,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(s=n.keys(i);a<s.length;a++)e=p(t,e,s[a],i[s[a]],o)}else if(i&&c.test(i))for(s=i.split(c);a<s.length;a++)e=t(e,s[a],r,o);else e=t(e,i,r,o);return e};h.on=function(t,e,n){return d(this,t,e,n)};var d=function(t,e,n,i,r){if(t._events=p(f,t._events||{},e,n,{context:i,ctx:t,listening:r}),r){var o=t._listeners||(t._listeners={});o[r.id]=r}return t};h.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[r];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=o[r]={obj:t,objId:r,id:a,listeningTo:o,count:0}}return d(t,e,i,this,s),this};var f=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,s=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:o,ctx:o||s,listening:a})}return t};h.off=function(t,e,n){return this._events?(this._events=p(m,this._events,t,e,{context:n,listeners:this._listeners}),this):this},h.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),s=0;s<o.length;s++){var a=r[o[s]];if(!a)break;a.obj.off(e,i,this)}return this};var m=function(t,e,i,r){if(t){var o,s=0,a=r.context,l=r.listeners;if(e||i||a){for(var u=e?[e]:n.keys(t);s<u.length;s++){e=u[s];var h=t[e];if(!h)break;for(var c=[],p=0;p<h.length;p++){var d=h[p];i&&i!==d.callback&&i!==d.callback._callback||a&&a!==d.context?c.push(d):(o=d.listening,o&&0===--o.count&&(delete l[o.id],delete o.listeningTo[o.objId]))}c.length?t[e]=c:delete t[e]}return t}for(var f=n.keys(l);s<f.length;s++)o=l[f[s]],delete l[o.id],delete o.listeningTo[o.objId]}};h.once=function(t,e,i){var r=p(g,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==i&&(e=void 0),this.on(r,e,i)},h.listenToOnce=function(t,e,i){var r=p(g,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var g=function(t,e,i,r){if(i){var o=t[e]=n.once(function(){r(e,o),i.apply(this,arguments)});o._callback=i}return t};h.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;e>i;i++)n[i]=arguments[i+1];return p(v,this._events,t,void 0,n),this};var v=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&y(r,i),o&&y(o,[e].concat(i))}return t},y=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};h.bind=h.on,h.unbind=h.off,n.extend(e,h);var _=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var r=n.result(this,"defaults");i=n.defaults(n.extend({},r,i),r),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(_.prototype,h,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,s=i.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,h=this.changed,c=this._previousAttributes;for(var p in r)e=r[p],n.isEqual(u[p],e)||a.push(p),n.isEqual(c[p],e)?delete h[p]:h[p]=e,o?delete u[p]:u[p]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=i);for(var d=0;d<a.length;d++)this.trigger("change:"+a[d],this,u[a[d]],i)}if(l)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var o=t[r];n.isEqual(e[r],o)||(i[r]=o)}return n.size(i)?i:!1},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;return e.set(r,t)?(i&&i.call(t.context,e,n,t),void e.trigger("sync",e,n,t)):!1},G(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0,parse:!0},i);var o=i.wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var s=this,a=i.success,l=this.attributes;i.success=function(t){s.attributes=l;var e=i.parse?s.parse(t,i):t;return o&&(e=n.extend({},r,e)),e&&!s.set(e,i)?!1:(a&&a.call(i.context,s,t,i),void s.trigger("sync",s,t,i))},G(this,i),r&&o&&(this.attributes=n.extend({},l,r));var u=this.isNew()?"create":i.patch?"patch":"update";"patch"!==u||i.attrs||(i.attrs=r);var h=this.sync(u,this,i);return this.attributes=l,h},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(G(this,t),s=this.sync("delete",this,t)),r||o(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||V();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1):!0}});var A={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};a(_,A,"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},T=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var i,r=Array(t.length-n),o=e.length;for(i=0;i<r.length;i++)r[i]=t[i+n];for(i=0;o>i;i++)t[i+n]=e[i];for(i=0;i<r.length;i++)t[i+o+n]=r[i]};n.extend(b.prototype,h,{model:_,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,w))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),i?r[0]:r},set:function(t,e){if(null!=t){e=n.extend({},x,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),0>r&&(r+=this.length+1);var o,s,a=[],l=[],u=[],h=[],c={},p=e.add,d=e.merge,f=e.remove,m=!1,g=this.comparator&&null==r&&e.sort!==!1,v=n.isString(this.comparator)?this.comparator:null;for(s=0;s<t.length;s++){o=t[s];var y=this.get(o);if(y){if(d&&o!==y){var _=this._isModel(o)?o.attributes:o;e.parse&&(_=y.parse(_,e)),y.set(_,e),u.push(y),g&&!m&&(m=y.hasChanged(v))}c[y.cid]||(c[y.cid]=!0,a.push(y)),t[s]=y}else p&&(o=t[s]=this._prepareModel(o,e),o&&(l.push(o),this._addReference(o,e),c[o.cid]=!0,a.push(o)))}if(f){for(s=0;s<this.length;s++)o=this.models[s],c[o.cid]||h.push(o);h.length&&this._removeModels(h,e)}var A=!1,b=!g&&p&&f;if(a.length&&b?(A=this.length!==a.length||n.some(this.models,function(t,e){return t!==a[e]}),this.models.length=0,T(this.models,a,0),this.length=this.models.length):l.length&&(g&&(m=!0),T(this.models,l,null==r?this.length:r),this.length=this.models.length),m&&this.sort({silent:!0}),!e.silent){for(s=0;s<l.length;s++)null!=r&&(e.index=r+s),o=l[s],o.trigger("add",o,this,e);(m||A)&&this.trigger("sort",this,e),(l.length||h.length||u.length)&&(e.changes={added:l,removed:h,merged:u},this.trigger("update",this,e))}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return 0>t&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},G(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var i=e.wait;if(t=this._prepareModel(t,e),!t)return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,delete this._byId[r.cid];var s=this.modelId(r.attributes);null!=s&&delete this._byId[s],e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return n},_isModel:function(t){return t instanceof _},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}});var E={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};a(b,E,"models");var S=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,C)),this._ensureElement(),this.initialize.apply(this,arguments)},M=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];n.extend(S.prototype,h,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(M);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var o=P[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||V()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),a?a.apply(this,arguments):void 0}}"GET"===s.type||r.emulateJSON||(s.processData=!1);var l=r.error;r.error=function(t,e,n){
r.textStatus=e,r.errorThrown=n,l&&l.call(r.context,t,e,n)};var u=r.xhr=e.ajax(n.extend(s,r));return i.trigger("request",i,u,r),u};var P={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var R=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,N=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(R.prototype,h,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,function(n){var s=o._extractParameters(t,n);o.execute(r,s,i)!==!1&&(o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),e.history.trigger("route",o,i,s))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(I,"\\$&").replace(O,"(?:$1)?").replace(L,function(t,e){return e?t:"([^/?]+)"}).replace(N,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var k=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},D=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,B=/#.*$/;k.started=!1,n.extend(k.prototype,h,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(D,"")},start:function(t){if(k.started)throw new Error("Backbone.history has already been started");if(k.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(F,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};return this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),k.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return this.matchRoot()?(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})):!1},navigate:function(t,e){if(!k.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;(""===t||"?"===t.charAt(0))&&(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(B,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new k;var U=function(t,e){var i,r=this;return i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e),i.prototype=n.create(r.prototype,t),i.prototype.constructor=i,i.__super__=r.prototype,i};_.extend=b.extend=R.extend=S.extend=k.extend=U;var V=function(){throw new Error('A "url" property or function must be specified')},G=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:78,underscore:89}],12:[function(t,e,n){var i=t("./lib/ControlKit");i.Canvas=t("./lib/component/Canvas"),i.SVG=t("./lib/component/SVG"),e.exports=i},{"./lib/ControlKit":13,"./lib/component/Canvas":16,"./lib/component/SVG":33}],13:[function(t,e,n){function i(e){if(M)throw new Error("ControlKit is already initialized.");e=e||{},e.history=void 0===e.history?b:e.history,e.loadAndSave=void 0===e.loadAndSave?E:e.loadAndSave,e.opacity=void 0===e.opacity?x:e.opacity,e.panelsClosable=void 0===e.panelsClosable?w:e.panelsClosable,e.useExternalStyle=void 0===e.useExternalStyle?!1:e.useExternalStyle,e.enable=void 0===e.enable?T:e.enable,u.apply(this,arguments);var n=null;if(e.parentDomElementId?n=r.getNodeById(e.parentDomElementId):(n=new r,document.body.appendChild(n.getElement())),!e.useExternalStyle){var i=document.createElement("style");i.type="text/css";var o=e.style?e.styleString:t("./core/document/Style").string;i.stylesheet?i.stylesheet.cssText=o:i.appendChild(document.createTextNode(o)),(document.head||document.getElementsByTagName("head")[0]).appendChild(i)}n.setProperty("id",l.ControlKit),this._node=n,this._panels=[],this._enabled=e.enable,this._historyEnabled=e.history,this._statesEnabled=e.loadAndSave,this._panelsClosable=e.panelsClosable;var h=m.setup();this._historyEnabled?(h.addEventListener(d.STATE_PUSH,this,"onHistoryStatePush"),h.addEventListener(d.STATE_POP,this,"onHistoryStatePop")):h.disable(),v.setup(),a.setup(n),s.setup(n);var p=e.opacity;1!=p&&0!=p&&n.setStyleProperty("opacity",p),this._canUpdate=!0;var f,g=this,y=0,_=10;window.addEventListener(c.WINDOW_RESIZE,function(){g._canUpdate=!1,clearInterval(f),f=setInterval(function(){y>=_&&(y=0,g._canUpdate=!0,clearInterval(f)),y++},25)}),this._shortcutEnable=S,document.addEventListener("keydown",function(t){t.ctrlKey&&String.fromCharCode(t.which||t.keyCode).toLowerCase()==g._shortcutEnable&&(g._enabled=!g._enabled,g._enabled?g._enable():g._disable())}),this._enabled||this._disable(),M=!0}var r=t("./core/document/Node"),o=t("./group/Panel"),s=t("./component/Options"),a=t("./component/Picker"),l=t("./core/document/CSS"),u=t("./core/event/EventDispatcher"),h=t("./core/event/Event"),c=t("./core/document/DocumentEvent"),p=(t("./core/document/NodeEvent"),t("./core/ComponentEvent")),d=t("./core/HistoryEvent"),f=t("./group/MenuEvent"),m=t("./core/History"),g=t("./core/State"),v=t("./core/document/Mouse"),y=t("./component/ValuePlotter"),_=t("./component/StringOutput"),A=t("./component/NumberOutput"),b=!1,x=1,w=!1,T=!0,E=!1,S="h",M=!1;i.prototype=Object.create(u.prototype),i.prototype.constructor=i,i.prototype.addPanel=function(t){var e=new o(this,t);return this._panels.push(e),e},i.prototype.update=function(){if(this._enabled&&this._canUpdate){var t,e,n,i,r,o,s,a,l,u,h=this._panels;for(t=-1,i=h.length;++t<i;)if(s=h[t],!s.isDisabled())for(a=s.getGroups(),e=-1,r=a.length;++e<r;)for(l=a[e].getComponents(),n=-1,o=l.length;++n<o;)u=l[n],u.isDisabled()||(u instanceof y||u instanceof _||u instanceof A)&&u.update()}},i.prototype.historyIsEnabled=function(){return this._historyEnabled},i.prototype.statesAreEnabled=function(){return this._statesEnabled},i.prototype.panelsAreClosable=function(){return this._panelsClosable},i.prototype._enable=function(){for(var t=-1,e=this._panels,n=e.length;++t<n;)e[t].enable();this._node.setStyleProperty("visibility","")},i.prototype._disable=function(){for(var t=-1,e=this._panels,n=e.length;++t<n;)e[t].disable();this._node.setStyleProperty("visibility","hidden")},i.prototype.enable=function(){this._enable(),this._enabled=!0},i.prototype.disable=function(){this._disable(),this._enabled=!1},i.prototype.setShortcutEnable=function(t){this._shortcutEnable=t},i.prototype.onHistoryStatePush=function(){this.dispatchEvent(new h(this,f.UPDATE_MENU,null))},i.prototype.onHistoryStatePop=function(){this.dispatchEvent(new h(this,p.UPDATE_VALUE,{origin:null})),this.dispatchEvent(new h(this,f.UPDATE_MENU,null))},i.prototype.loadSettings=function(t){for(var e=-1,n=t.length,i=this._panels;++e<n;)i[e].setData(t[e])},i.prototype._loadState=function(){g.load(this.loadSettings.bind(this))},i.prototype._saveState=function(){this.update();for(var t=this._panels,e=-1,n=t.length,i=new Array(n);++e<n;)i[e]=t[e].getData();g.save({data:i})},i.prototype.getNode=function(){return this._node},i.destroy=function(){v.get().destroy(),s.get().destroy(),a.get().destroy(),M=!1},e.exports=i},{"./component/NumberOutput":26,"./component/Options":27,"./component/Picker":30,"./component/StringOutput":39,"./component/ValuePlotter":40,"./core/ComponentEvent":42,"./core/History":44,"./core/HistoryEvent":45,"./core/State":49,"./core/document/CSS":53,"./core/document/DocumentEvent":54,"./core/document/Mouse":55,"./core/document/Node":56,"./core/document/NodeEvent":57,"./core/document/Style":58,"./core/event/Event":59,"./core/event/EventDispatcher":60,"./group/MenuEvent":66,"./group/Panel":67}],14:[function(t,e,n){function i(t,e,n,i){n=n||function(){},i=i||{},i.label=i.label||h,l.apply(this,[t,i.label]);var c=this._inputNode=new a(a.INPUT_BUTTON);c.setStyleClass(u.Button),c.setProperty("value",e);var p=this;c.addEventListener(o.ON_CLICK,function(){n.bind(p)(),p.dispatchEvent(new r(p,s.VALUE_UPDATED))}),this._wrapNode.addChild(c)}var r=t("../core/event/Event"),o=t("../core/document/NodeEvent"),s=t("../core/ComponentEvent"),a=t("../core/document/Node"),l=t("../core/Component"),u=t("../core/document/CSS"),h="";i.prototype=Object.create(l.prototype),i.prototype.constructor=i,i.prototype.getButtonLabel=function(){return this._inputNode.getProperty("value")},i.prototype.setButtonLabel=function(t){this._inputNode.setProperty("value",t)},e.exports=i},{"../core/Component":41,"../core/ComponentEvent":42,"../core/document/CSS":53,"../core/document/Node":56,"../core/document/NodeEvent":57,"../core/event/Event":59}],15:[function(t,e,n){function i(t){r.apply(this);var e=this._btnNode=new u(u.INPUT_BUTTON),n=this._indiNode=new u;this._onActive=function(){},this._onDeactive=function(){},this._isActive=!1,e.setStyleClass(h.ButtonPreset),e.addEventListener(l.MOUSE_DOWN,this._onMouseDown.bind(this)),e.addChild(n),t.addChildAt(e,0),o.get().addEventListener(a.TRIGGER,this,"onOptionTrigger"),this.addEventListener(a.TRIGGERED,o.get(),"onOptionTriggered")}var r=t("../core/event/EventDispatcher"),o=t("../core/ObjectComponentNotifier"),s=t("../core/event/Event"),a=t("../core/OptionEvent"),l=t("../core/document/NodeEvent"),u=t("../core/document/Node"),h=t("../core/document/CSS");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.onOptionTrigger=function(t){return t.data.origin==this?void(this._isActive?this._onDeactive():(this._onActive(),this._btnNode.setStyleClass(h.ButtonPresetActive),this._isActive=!0)):void(this._isActive&&this.deactivate())},i.prototype._onMouseDown=function(){this.dispatchEvent(new s(this,a.TRIGGERED,null))},i.prototype.setOnActive=function(t){this._onActive=t},i.prototype.setOnDeactive=function(t){this._onDeactive=t},i.prototype.deactivate=function(){this._isActive=!1,this._btnNode.setStyleClass(h.ButtonPreset)},e.exports=i},{"../core/ObjectComponentNotifier":47,"../core/OptionEvent":48,"../core/document/CSS":53,"../core/document/Node":56,"../core/document/NodeEvent":57,"../core/event/Event":59,"../core/event/EventDispatcher":60}],16:[function(t,e,n){function i(t,e){r.apply(this,arguments);var n=this._wrapNode;n.setStyleClass(o.CanvasWrap);var i=this._canvas=document.createElement("canvas");n.getElement().appendChild(i);var s=n.getWidth();this._canvasWidth=this._canvasHeight=0,this._setCanvasSize(s,s),this._updateHeight(),this._node.setStyleClass(o.CanvasListItem),this._parent.addEventListener(l.GROUP_SIZE_CHANGE,this,"onGroupSizeChange"),this.addEventListener(l.GROUP_SIZE_UPDATE,this._parent,"onGroupSizeUpdate")}var r=t("../core/Component"),o=t("../core/document/CSS"),s=t("./Metric"),a=t("../core/event/Event"),l=t("../group/GroupEvent");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._updateHeight=function(){var t=this._canvas.height;this._wrapNode.setHeight(t),this._node.setHeight(t+s.PADDING_WRAPPER)},i.prototype.onGroupSizeChange=function(){var t=this._wrapNode.getWidth();this._setCanvasSize(t,t),this._updateHeight(),this._redraw(),this.dispatchEvent(new a(this,l.GROUP_SIZE_UPDATE,null))},i.prototype._setCanvasSize=function(t,e){var n=this._canvasWidth=t,i=this._canvasHeight=e,r=this._canvas;r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i},i.prototype.getCanvas=function(){return this._canvas},i.prototype.getContext=function(){return this._canvas.getContext("2d")},e.exports=i},{"../core/Component":41,"../core/document/CSS":53,"../core/event/Event":59,"../group/GroupEvent":65,"./Metric":23}],17:[function(t,e,n){function i(t,e,n,i){r.apply(this,arguments),i=i||{},i.onChange=i.onChange||this._onChange,this._onChange=i.onChange;var s=this._input=new o(o.INPUT_CHECKBOX);s.setProperty("checked",this._obj[this._key]),s.addEventListener(a.CHANGE,this._onInputChange.bind(this)),this._wrapNode.addChild(this._input)}var r=t("../core/ObjectComponent"),o=t("../core/document/Node"),s=t("../core/event/Event"),a=t("../core/document/NodeEvent"),l=t("../core/ComponentEvent");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.applyValue=function(){this.pushHistoryState();var t=this._obj,e=this._key;t[e]=!t[e],this.dispatchEvent(new s(this,l.VALUE_UPDATED,null))},i.prototype._onInputChange=function(){this.applyValue(),this._onChange()},i.prototype.onValueUpdate=function(t){t.data.origin!=this&&this._input.setProperty("checked",this._obj[this._key])},e.exports=i},{"../core/ComponentEvent":42,"../core/ObjectComponent":46,"../core/document/Node":56,"../core/document/NodeEvent":57,"../core/event/Event":59}],18:[function(t,e,n){function i(t,e,n,i){r.apply(this,arguments),i=i||{},i.presets=i.presets||y,i.colorMode=i.colorMode||v,i.onChange=i.onChange||this._onChange,this._presetsKey=i.presets,this._onChange=i.onChange;var s=this._color=new o;n=this._value=this._obj[this._key];var a=this._colorMode=i.colorMode;this._validateColorFormat(n,_,A);var l=this._wrapNode;if(this._presetsKey){s.setStyleClass(p.Color);var d=new o;d.setStyleClass(p.WrapColorWPreset),l.addChild(d),d.addChild(s);for(var m=this._obj[this._presetsKey],g=-1;++g<m.length;)this._validateColorFormat(m[g],b,x);var w=u.get(),T=new h(l),E=function(){w.clear(),T.deactivate()},S=this,M=function(){w.build(m,S._value,s,function(){S.pushHistoryState(),S._value=m[w.getSelectedIndex()],S.applyValue(),S._onChange(S._obj[S._key])},E,c.PADDING_PRESET,!0,a)};T.setOnActive(M),T.setOnDeactive(E)}else s.setStyleClass(p.Color),l.addChild(s);s.addEventListener(f.MOUSE_DOWN,this._onColorTrigger.bind(this)),this._updateColor()}var r=t("./../core/ObjectComponent"),o=t("../core/document/Node"),s=t("../core/color/ColorMode"),a=t("./Picker"),l=t("../core/color/ColorUtil"),u=t("./Options"),h=t("./ButtonPreset"),c=t("./Metric"),p=t("../core/document/CSS"),d=t("../core/event/Event"),f=t("../core/document/NodeEvent"),m=t("../core/ComponentEvent"),g=t("../core/color/ColorFormatError"),v=s.HEX,y=null,_="Color format should be hex. Set colorMode to rgb, rgbfv or hsv.",A="Color format should be rgb, rgbfv or hsv. Set colorMode to hex.",b="Preset color format should be hex.",x="Preset color format should be rgb, rgbfv or hsv.";i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._onColorTrigger=function(){var t,e=this._colorMode,n=s.HEX,i=s.RGB,r=s.RGBfv,o=s.HSV,l=this._value,u=function(){switch(this.pushHistoryState(),e){case n:this._value=a.get().getHEX();break;case i:t=a.get().getRGB(),l[0]=t[0],l[1]=t[1],l[2]=t[2];break;case r:t=a.get().getRGBfv(),l[0]=t[0],l[1]=t[1],l[2]=t[2];break;case o:this._value=a.get().getHSV()}this.applyValue()}.bind(this),h=a.get();switch(e){case n:h.setColorHEX(l);break;case i:h.setColorRGB(l[0],l[1],l[2]);break;case r:h.setColorRGBfv(l[0],l[1],l[2]);break;case o:h.setColorHSV(l[0],l[1],l[2])}h.setCallbackPick(u),h.open()},i.prototype.applyValue=function(){this._obj[this._key]=this._value,this._updateColor(),this.dispatchEvent(new d(this,m.VALUE_UPDATED,null)),this._onChange(this._obj[this._key])},i.prototype.onValueUpdate=function(t){t.data.origin!=this&&(this._value=this._obj[this._key],this._updateColor())},i.prototype._updateColor=function(){var t,e=this._value,n=this._color;switch(n.setProperty("innerHTML",e),this._colorMode){case s.HEX:t=e;break;case s.RGB:t=l.RGB2HEX(e[0],e[1],e[2]);break;case s.RGBfv:t=l.RGBfv2HEX(e[0],e[1],e[2]);break;case s.HSV:t=l.HSV2RGB(e[0],e[1],e[2])}n.getStyle().backgroundColor=t},i.prototype._validateColorFormat=function(t,e,n){var i=this._colorMode;if(i==s.HEX&&"[object Array]"===Object.prototype.toString.call(t)||i==s.HEX&&"[object Float32Array]"===Object.prototype.toString.call(t))throw new g(e);if((i==s.RGB||i==s.RGBfv||i==s.HSV)&&"[object Array]"!==Object.prototype.toString.call(t)||i==s.HSV&&"[object Float32Array]"!==Object.prototype.toString.call(t))throw new g(n)},e.exports=i},{"../core/ComponentEvent":42,"../core/color/ColorFormatError":50,"../core/color/ColorMode":51,"../core/color/ColorUtil":52,"../core/document/CSS":53,"../core/document/Node":56,"../core/document/NodeEvent":57,"../core/event/Event":59,"./../core/ObjectComponent":46,"./ButtonPreset":15,"./Metric":23,"./Options":27,"./Picker":30}],19:[function(t,e,n){var i={IMPLICIT:"implicit",NON_IMPLICIT:"nonImplicit"};e.exports=i},{}],20:[function(t,e,n){function i(t,e,n,i){if(i=i||{},i.showMinMaxLabels=void 0===i.showMinMaxLabels?g:i.showMinMaxLabels,r.apply(this,arguments),"function"!=typeof e[n])throw new d(e,n);var l=e[n].length;if(l>2||0==l)throw new f;var u=this._svgRoot,O=this._path,L=this._axes=u.insertBefore(this._createSVGObject("path"),O);L.style.strokeWidth=1;var N=this._axesLabels=u.insertBefore(this._createSVGObject("path"),O);N.style.stroke="rgb(43,48,51)",N.style.strokeWidth=1;var I=this._grid,k=this._svg,D=Number(k.getAttribute("width")),F=new o;F.setStyleClass(s.GraphSliderXWrap);var B=new o;B.setStyleClass(s.GraphSliderYWrap);var U=this._sliderXTrack=new o;U.setStyleClass(s.GraphSliderX);var V=this._sliderYTrack=new o;V.setStyleClass(s.GraphSliderY);var G=this._sliderXHandle=new o;G.setStyleClass(s.GraphSliderXHandle);var H=this._sliderYHandle=new o;H.setStyleClass(s.GraphSliderYHandle),U.addChild(G),V.addChild(H),F.addChild(U),B.addChild(V);var z=this._wrapNode,j=this._plotMode=1==l?a.NON_IMPLICIT:a.IMPLICIT;if(j==a.IMPLICIT){var q=this._canvas=document.createElement("canvas");q.style.width=q.style.height=D+"px",q.width=q.height=D,z.getElement().insertBefore(q,k),this._canvasContext=q.getContext("2d"),this._canvasImageData=this._canvasContext.getImageData(0,0,D,D),L.style.stroke=M,I.style.stroke=C}else L.style.stroke=P,I.style.stroke=R;z.addChild(F),z.addChild(B),G.addEventListener(p.MOUSE_DOWN,this._onSliderXHandleDown.bind(this)),H.addEventListener(p.MOUSE_DOWN,this._onSliderYHandleDown.bind(this));var W=this._units=[null,null];this._scale=null,j==a.NON_IMPLICIT?(W[0]=v,W[1]=y,this._scale=w):j==a.IMPLICIT&&(W[0]=_,W[1]=A,this._scale=T),this._unitsMinMax=[b,x],this._scaleMinMax=[E,S],this._center=[Math.round(.5*D),Math.round(.5*D)],this._svgPos=[0,0],this._func=null,this.setFunction(this._obj[this._key]),this._sliderXHandleUpdate(),this._sliderYHandleUpdate(),k.addEventListener(h.MOUSE_DOWN,this._onDragStart.bind(this),!1),this._wrapNode.getElement().addEventListener("mousewheel",this._onScale.bind(this,!1)),m.get().addEventListener(c.UPDATE_VALUE,this,"onValueUpdate")}var r=t("./Plotter"),o=t("../core/document/Node"),s=t("../core/document/CSS"),a=t("./FunctionPlotType"),l=t("../core/document/Mouse"),u=t("./Metric"),h=t("../core/document/DocumentEvent"),c=t("../core/ComponentEvent"),p=t("../core/document/NodeEvent"),d=t("./FunctionPlotterObjectError"),f=t("./FunctionPlotterFunctionArgsError"),m=t("../core/ObjectComponentNotifier"),g=!0,v=1,y=1,_=.25,A=.25,b=.15,x=4,w=10,T=1,E=.02,S=25,M="rgba(255,255,255,0.75)",C="rgba(25,25,25,0.75)",P="rgb(54,60,64)",R="rgb(25,25,25)";i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._updateCenter=function(){var t=this._svg,e=Number(t.getAttribute("width")),n=Number(t.getAttribute("height")),i=l.get().getPosition(),r=this._svgPos,o=this._center;o[0]=Math.max(0,Math.min(i[0]-r[0],e)),o[1]=Math.max(0,Math.min(i[1]-r[1],n)),this._plotGraph()},i.prototype._onDragStart=function(t){var e=this._svgPos;e[0]=0,e[1]=0;for(var n=this._svg.parentNode;n;)e[0]+=n.offsetLeft,e[1]+=n.offsetTop,n=n.offsetParent;var i=h.MOUSE_MOVE,r=h.MOUSE_UP,o=this._updateCenter.bind(this),s=function(){this._updateCenter.bind(this),document.removeEventListener(i,o,!1),document.removeEventListener(r,s,!1)}.bind(this);document.addEventListener(i,o,!1),document.addEventListener(r,s,!1),this._updateCenter()},i.prototype._onScale=function(t){t=window.event||t,this._scale+=-1*Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));var e=this._scaleMinMax;this._scale=Math.max(e[0],Math.min(this._scale,e[1])),this._plotGraph(),t.preventDefault()},i.prototype.onValueUpdate=function(){this.setFunction(this._obj[this._key])},i.prototype._redraw=function(){if(this._plotMode==a.IMPLICIT){var t=this._wrapNode.getWidth(),e=this._canvas;e.style.width=e.style.height=t+"px",e.width=e.height=t,this._canvasImageData=this._canvasContext.getImageData(0,0,t,t)}this._sliderXHandleUpdate(),this._sliderYHandleUpdate(),this.setFunction(this._obj[this._key])},i.prototype.setFunction=function(t){this._func=t.bind(this._obj),this._plotGraph()},i.prototype._plotGraph=function(){this._drawGrid(),this._drawAxes(),this._drawPlot()},i.prototype._drawAxes=function(){var t=this._svg,e=Number(t.getAttribute("width")),n=Number(t.getAttribute("height")),i=this._center,r=i[0],o=i[1],s="";s+=this._pathCmdLine(0,o,e,o),s+=this._pathCmdLine(r,0,r,n),this._axes.setAttribute("d",s)},i.prototype._drawPlot=function(){var t,e,n,i,r,o,s,l,u,h,c,p=this._center,d=p[0],f=p[1],m=this._units,g=this._scale;if(this._plotMode==a.NON_IMPLICIT){var v=this._svg;t=Number(v.getAttribute("width")),e=Number(v.getAttribute("height")),n=m[0]*g,i=e/(m[1]*g),u=d/t;var y=Math.floor(t),_=new Array(2*y);for(c=-1;++c<y;)r=-u+c/y,o=r*n,s=f-this._func(o)*i,l=2*c,_[l]=c,_[l+1]=s;var A="";for(A+=this._pathCmdMoveTo(_[0],_[1]),c=2;c<_.length;)A+=this._pathCmdLineTo(_[c],_[c+1]),c+=2;this._path.setAttribute("d",A)}else{var b=this._canvas,x=this._canvasContext,w=this._canvasImageData;t=b.width,e=b.height,n=m[0]*g,i=m[1]*g,u=d/t,h=f/e;var T=1/t,E=1/e,S=[0,0,0],M=[30,34,36],C=[255,255,255];c=-1;for(var P;++c<e;)for(P=-1;++P<t;)s=this._func((-u+P*T)*n,(-h+c*E)*i),S[0]=Math.floor((C[0]-M[0])*s+M[0]),S[1]=Math.floor((C[1]-M[1])*s+M[1]),S[2]=Math.floor((C[2]-M[2])*s+M[2]),l=4*(c*t+P),w.data[l]=S[0],w.data[l+1]=S[1],w.data[l+2]=S[2],w.data[l+3]=255;x.clearRect(0,0,t,e),x.putImageData(w,0,0)}},i.prototype._drawGrid=function(){var t,e,n=this._svg,i=Number(n.getAttribute("width")),r=Number(n.getAttribute("height")),o=this._scale,s=this._units,a=i/(s[0]*o),l=r/(s[1]*o),h=this._center,c=h[0],p=h[1],d=Math.round(p/l)+1,f=Math.round((r-p)/l)+1,m=Math.round(c/a)+1,g=Math.round((i-c)/a)+1,v="",y="",_=u.STROKE_SIZE,A=u.FUNCTION_PLOTTER_LABEL_TICK_SIZE,b=i-A-_,x=r-A-_,w=b-A,T=x-A,E=b-2*(A+_),S=x-2*(A+_);for(t=-1;++t<d;)e=Math.round(p-l*t),v+=this._pathCmdLine(0,e,i,e),e>A&&(y+=this._pathCmdLine(b,e,w,e));for(t=-1;++t<f;)e=Math.round(p+l*t),v+=this._pathCmdLine(0,e,i,e),S>e&&(y+=this._pathCmdLine(b,e,w,e));for(t=-1;++t<m;)e=Math.round(c-a*t),v+=this._pathCmdLine(e,0,e,r),e>A&&(y+=this._pathCmdLine(e,x,e,T));for(t=-1;++t<g;)e=Math.round(c+a*t),v+=this._pathCmdLine(e,0,e,r),E>e&&(y+=this._pathCmdLine(e,x,e,T));this._grid.setAttribute("d",v),this._axesLabels.setAttribute("d",y)},i.prototype._sliderXStep=function(t){var e=t[0],n=this._sliderXHandle,i=n.getWidth(),r=.5*i,o=this._sliderXTrack,s=o.getWidth(),a=o.getPositionGlobalX(),l=u.STROKE_SIZE,h=s-r-2*l,c=Math.max(r,Math.min(e-a,h)),p=c-r;n.setPositionX(p);var d=this._unitsMinMax[0],f=this._unitsMinMax[1],m=(c-r)/(h-r),g=d+(f-d)*m;this._units[0]=g,this._plotGraph()},i.prototype._sliderYStep=function(t){var e=t[1],n=this._sliderYHandle,i=n.getHeight(),r=.5*i,o=this._sliderYTrack,s=o.getHeight(),a=o.getPositionGlobalY(),l=s-r-2,u=Math.max(r,Math.min(e-a,l)),h=u-r;n.setPositionY(h);var c=this._unitsMinMax[0],p=this._unitsMinMax[1],d=(u-r)/(l-r),f=p+(c-p)*d;this._units[1]=f,this._plotGraph()},i.prototype._onSliderXHandleDown=function(){this._onSliderHandleDown(this._sliderXStep.bind(this))},i.prototype._onSliderYHandleDown=function(){this._onSliderHandleDown(this._sliderYStep.bind(this))},i.prototype._onSliderHandleDown=function(t){var e=h.MOUSE_MOVE,n=h.MOUSE_UP,i=l.get(),r=function(){t(i.getPosition())},o=function(){document.removeEventListener(e,r,!1),document.removeEventListener(n,o,!1)};t(i.getPosition()),document.addEventListener(e,r,!1),document.addEventListener(n,o,!1)},i.prototype._sliderXHandleUpdate=function(){var t=this._unitsMinMax[0],e=this._unitsMinMax[1],n=this._units[0],i=this._sliderXHandle,r=i.getWidth(),o=.5*r,s=this._sliderXTrack.getWidth(),a=u.STROKE_SIZE,l=o,h=s-o-2*a;i.setPositionX(l+(h-l)*((n-t)/(e-t))-o)},i.prototype._sliderYHandleUpdate=function(){var t=this._unitsMinMax[0],e=this._unitsMinMax[1],n=this._units[1],i=this._sliderYHandle,r=i.getHeight(),o=.5*r,s=this._sliderYTrack.getHeight(),a=u.STROKE_SIZE,l=s-o-2*a,h=o;i.setPositionY(l+(h-l)*((n-t)/(e-t))-o)},e.exports=i},{"../core/ComponentEvent":42,"../core/ObjectComponentNotifier":47,"../core/document/CSS":53,"../core/document/DocumentEvent":54,"../core/document/Mouse":55,"../core/document/Node":56,"../core/document/NodeEvent":57,"./FunctionPlotType":19,"./FunctionPlotterFunctionArgsError":21,"./FunctionPlotterObjectError":22,"./Metric":23,"./Plotter":31}],21:[function(t,e,n){function i(){Error.apply(this),Error.captureStackTrace(this,i),this.name="FunctionPlotterFunctionArgsError",this.message="Function should be of form f(x) or f(x,y)."}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,e.exports=i},{}],22:[function(t,e,n){function i(t,e){Error.apply(this),Error.captureStackTrace(this,i),this.name="ComponentObjectError",this.message="Object "+t.constructor.name+" "+e+"should be of type Function."}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,e.exports=i},{}],23:[function(t,e,n){var i={COMPONENT_MIN_HEIGHT:25,STROKE_SIZE:1,PADDING_WRAPPER:12,PADDING_OPTIONS:2,PADDING_PRESET:20,SCROLLBAR_TRACK_PADDING:2,FUNCTION_PLOTTER_LABEL_TICK_SIZE:6};e.exports=i},{}],24:[function(t,e,n){function i(t,e,n,i){r.apply(this,arguments),i=i||{},i.onBegin=i.onBegin||null,i.onChange=i.onChange||this._onChange,i.onFinish=i.onFinish||null,i.onError=i.onError||null,i.dp=void 0===i.dp||null==i.dp?m:i.dp,i.step=i.step||g,i.presets=i.presets||v,this._onBegin=i.onBegin,this._onChange=i.onChange,this._presetsKey=i.presets;var c=this._input=new o(i.step,i.dp,i.onBegin,this._onInputChange.bind(this),i.onFinish,i.onError),p=this._wrapNode,y=i.presets;if(y){var _=new s;_.setStyleClass(u.WrapInputWPreset),p.addChild(_),_.addChild(c.getNode());var A=a.get(),b=this._btnPreset=new l(this._wrapNode),x=function(){A.clear(),b.deactivate()},w=this,T=function(){A.build(y,c.getValue(),c.getNode(),function(){c.setValue(y[A.getSelectedIndex()]),w.applyValue(),w._onChange(w._obj[w._key])},x,h.PADDING_PRESET,!1)};b.setOnActive(T),b.setOnDeactive(x)}else p.addChild(c.getNode());c.getNode().addEventListener(d.MOUSE_DOWN,this._onInputDragStart.bind(this)),this.addEventListener(f.INPUT_SELECT_DRAG,this._parent,"onComponentSelectDrag"),c.setValue(this._obj[this._key])}var r=t("../core/ObjectComponent"),o=t("./NumberInput_Internal"),s=t("../core/document/Node"),a=t("./Options"),l=t("./ButtonPreset"),u=t("../core/document/CSS"),h=t("./Metric"),c=t("../core/event/Event"),p=t("../core/document/DocumentEvent"),d=t("../core/document/NodeEvent"),f=t("../core/ComponentEvent"),m=2,g=1,v=null;i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._onInputChange=function(){this.applyValue(),this._onChange(this._obj[this._key])},i.prototype.applyValue=function(){this.pushHistoryState(),this._obj[this._key]=this._input.getValue(),this.dispatchEvent(new c(this,f.VALUE_UPDATED,null))},i.prototype.onValueUpdate=function(t){t.data.origin!=this&&this._input.setValue(this._obj[this._key])},i.prototype._onInputDragStart=function(){var t=p.MOUSE_MOVE,e=p.MOUSE_UP,n=f.INPUT_SELECT_DRAG,i=this,r=function(){i.dispatchEvent(new c(this,n,null))},o=function(){i.dispatchEvent(new c(this,n,null)),document.removeEventListener(t,r,!1),document.removeEventListener(t,o,!1)};this.dispatchEvent(new c(this,n,null)),document.addEventListener(t,r,!1),document.addEventListener(e,o,!1)},e.exports=i},{"../core/ComponentEvent":42,"../core/ObjectComponent":46,"../core/document/CSS":53,"../core/document/DocumentEvent":54,"../core/document/Node":56,"../core/document/NodeEvent":57,"../core/event/Event":59,"./ButtonPreset":15,"./Metric":23,"./NumberInput_Internal":25,"./Options":27}],25:[function(t,e,n){function i(t,e){t.setProperty("value",e),t.dispatchEvent(new Event("input"))}var r=t("../core/event/EventDispatcher"),o=(t("../core/document/NodeEvent"),t("../core/document/Node")),s=10,a=/^-?\d*\.?\d*$/,l=null,u=null;NumberInput_Internal=function(t,e,n,i,s,a){r.apply(this,null),this._value=0,this._valueStep=t,this._valueDp=e,this._onBegin=n||function(){},this._onChange=i||function(){},this._onFinish=s||function(){},this._onError=a||function(){},this._keyCode=null,this._caretOffset=0;var h=this._input=new o("text");h.setProperty("value",this._value),h.addEventListener("input",this._onInput.bind(this)),h.addEventListener("keydown",this._onKeydown.bind(this)),
l||(h.getElement().setSelectionRange?(l=function(t,e){t.getElement().setSelectionRange(e,e)},u=function(t){t.getElement().setSelectionRange(0,t.getProperty("value").length)}):(l=function(t,e){var n=t.getElement().createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()},u=function(t){var e=t.getElement().createTextRange();e.collapse(!0),e.moveStart("character",0),e.moveEnd("character",t.getProperty("value").length),e.select()}))},NumberInput_Internal.prototype=Object.create(r.prototype),NumberInput_Internal.prototype.constructor=NumberInput_Internal,NumberInput_Internal.prototype._setValue=function(t){var e=((t=+t)||1/t)<0&&0==t?"-":"";t=Number(t).toFixed(this._valueDp),this._input.setProperty("value",e+t),this._value=Number(t)},NumberInput_Internal.prototype._onInput=function(){var t=this._input,e=t.getProperty("value"),n=t.getProperty("selectionStart"),i=this._valueDp,r=e[0];return""==e?e=0:"."===r&&(e="0"+e),a.test(e)&&"-"!=e?(this._onBegin(this._value),this._setValue(e),l(t,n-this._caretOffset),void this._onChange()):(t.setProperty("value",this._value.toFixed(i)),l(t,Math.max(--n,0)),void this._onError(this._keyCode))},NumberInput_Internal.prototype._onKeydown=function(t){var e=this._keyCode=t.keyCode;if(13==e)return this._onFinish(),void t.preventDefault();var n=this._input,r=n.getProperty("value"),o=n.getProperty("selectionStart"),a=n.getProperty("selectionEnd"),h=r.length,c=8==e||45==e,p=t.metaKey,d=t.ctrlKey,f=37==e,m=39==e,g=f||m,v=t.shiftKey,y=38==e||40==e,_=(p||d)&&65==e,A=o!=a,b=0==o&&a==h,x=189==e,w=r.indexOf(".");if(this._caretOffset=0,(p||d)&&90==e)return void t.preventDefault();if(_)return u(n),void t.preventDefault();if(b)return x?(i(n,"-0"),l(n,1)):(i(n,c?0:String.fromCharCode(e)),l(n,f?o:a)),void t.preventDefault();if(c&&o-1==w)return void l(n,o-1);if(!g&&"0"==r[0]&&1==o)return l(n,1),void(this._caretOffset=1);if(y){var T=(v?s:1)*this._valueStep,E=38==e?1:-1;return i(n,Number(r)+T*E),l(n,o),void t.preventDefault()}return!A||v&&g?!v&&!g&&!c&&o>w&&h>o?(r=r.substr(0,o)+String.fromCharCode(e)+r.substr(o+1,h-1),i(n,r),l(n,Math.min(o+1,h-1)),void t.preventDefault()):void(!c&&!g&&!y&&o>=h&&t.preventDefault()):(g?l(n,f?o:a):(r=r.substr(0,o)+String.fromCharCode(e)+r.substr(a,h-a),i(n,r),l(n,a)),void t.preventDefault())},NumberInput_Internal.prototype.getValue=function(){return this._value},NumberInput_Internal.prototype.setValue=function(t){this._setValue(t)},NumberInput_Internal.prototype.getNode=function(){return this._input},e.exports=NumberInput_Internal},{"../core/document/Node":56,"../core/document/NodeEvent":57,"../core/event/EventDispatcher":60}],26:[function(t,e,n){function i(t,e,n,i){i=i||{},i.dp=i.dp||o,r.apply(this,arguments),this._valueDp=i.dp+1}var r=t("./Output"),o=2;i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._setValue=function(){if(!this._parent.isDisabled()){var t,e,n=this._obj[this._key],i=this._textArea,r=this._valueDp;if("object"!=typeof n||"number"!=typeof n.length||"function"!=typeof n.splice||n.propertyIsEnumerable("length"))e=n.toString(),t=e.indexOf("."),i.setProperty("value",t>0?e.slice(0,t+r):e);else{e=n.slice();for(var o,s=-1,a=this._wrap;++s<e.length;)o=e[s]=e[s].toString(),t=o.indexOf("."),t>0&&(e[s]=o.slice(0,t+r));a&&(i.setStyleProperty("white-space","nowrap"),e=e.join("\n")),i.setProperty("value",e)}}},e.exports=i},{"./Output":28}],27:[function(t,e,n){function i(t){this._parenNode=t;var e=this._node=new r,n=this._listNode=new r(r.LIST);e.setStyleClass(a.Options),e.addChild(n),this._selectedIndex=null,this._callbackOut=function(){},this._unfocusable=!1,document.addEventListener(o.MOUSE_DOWN,this._onDocumentMouseDown.bind(this)),document.addEventListener(o.MOUSE_UP,this._onDocumentMouseUp.bind(this)),this.clear()}var r=t("../core/document/Node"),o=t("../core/document/DocumentEvent"),s=t("../core/document/NodeEvent"),a=t("../core/document/CSS"),l=t("../core/color/ColorMode"),u=t("../core/color/ColorUtil"),h=t("./Metric");i.prototype={_onDocumentMouseDown:function(){this._unfocusable&&this._callbackOut()},_onDocumentMouseUp:function(){this._unfocusable=!0},build:function(t,e,n,i,o,c,p,d){this._clearList(),this._parenNode.addChild(this.getNode());var f=this._node,m=this._listNode;c=c||0;var g,v,y=this,_=-1;if(p){d=d||l.HEX,m.setStyleClass(a.Color);for(var A,b;++_<t.length;){switch(v=t[_],g=m.addChild(new r(r.LIST_ITEM)),A=g.addChild(new r),d){case l.HEX:b=v;break;case l.RGB:b=u.RGB2HEX(v[0],v[1],v[2]);break;case l.RGBfv:b=u.RGBfv2HEX(v[0],v[1],v[2]);break;case l.HSV:b=u.HSV2RGB(v[0],v[1],v[2])}A.getStyle().backgroundColor=b,A.getStyle().backgroundImage="linear-gradient( rgba(0,0,0,0) 0%, rgba(0,0,0,0.1) 100%)",A.setProperty("innerHTML",v),v==e&&g.setStyleClass(a.OptionsSelected),g.addEventListener(s.MOUSE_DOWN,function(){y._selectedIndex=Array.prototype.indexOf.call(this.parentNode.children,this),i()})}}else for(m.deleteStyleClass();++_<t.length;)v=t[_],g=m.addChild(new r(r.LIST_ITEM)),g.setProperty("innerHTML",v),v==e&&g.setStyleClass(a.OptionsSelected),g.addEventListener(s.MOUSE_DOWN,function(){y._selectedIndex=Array.prototype.indexOf.call(this.parentNode.children,this),i()});var x=n.getPositionGlobal(),w=n.getWidth()-c,T=n.getHeight(),E=m.getWidth(),S=m.getHeight(),M=2*h.STROKE_SIZE,C=h.PADDING_OPTIONS,P=(w>E?w:E)-M,R=x[0],O=x[1]+T-C,L=window.innerWidth,N=window.innerHeight,I=R+P>L?R-P+w-M:R,k=O+S>N?O-.5*S-.5*T:O;m.setWidth(P),f.setPositionGlobal(I,k),this._callbackOut=o,this._unfocusable=!1},_clearList:function(){this._listNode.removeAllChildren(),this._listNode.deleteStyleProperty("width"),this._selectedIndex=null,this._build=!1},clear:function(){this._clearList(),this._callbackOut=function(){},this._parenNode.removeChild(this.getNode())},isBuild:function(){return this._build},getNode:function(){return this._node},getSelectedIndex:function(){return this._selectedIndex}},i.setup=function(t){return i._instance=new i(t)},i.get=function(){return i._instance},i.destroy=function(){i._instance=null},e.exports=i},{"../core/color/ColorMode":51,"../core/color/ColorUtil":52,"../core/document/CSS":53,"../core/document/DocumentEvent":54,"../core/document/Node":56,"../core/document/NodeEvent":57,"./Metric":23}],28:[function(t,e,n){function i(t,e,n,i){r.apply(this,arguments),i=i||{},i.height=i.height||d,i.wrap=void 0===i.wrap?f:i.wrap,i.update=void 0===i.update?m:i.update,this._wrap=i.wrap,this._update=i.update;var u=this._textArea=new o(o.TEXTAREA),h=this._wrapNode,g=this._node;if(u.setProperty("readOnly",!0),h.addChild(u),u.addEventListener(c.MOUSE_DOWN,this._onInputDragStart.bind(this)),this.addEventListener(p.INPUT_SELECT_DRAG,this._parent,"onComponentSelectDrag"),i.height){var v=new o;v.setStyleClass(s.TextAreaWrap),v.addChild(u),h.addChild(v);var y=this._height=i.height,_=4;u.setHeight(Math.max(y+_,a.COMPONENT_MIN_HEIGHT)),h.setHeight(u.getHeight()),g.setHeight(h.getHeight()+_),this._scrollBar=new l(v,u,y-_)}i.wrap&&u.setStyleProperty("white-space","pre-wrap"),this._prevString="",this._prevScrollHeight=-1,this._setValue()}var r=t("../core/ObjectComponent"),o=t("../core/document/Node"),s=t("../core/document/CSS"),a=t("./Metric"),l=t("../core/layout/ScrollBar"),u=t("../core/event/Event"),h=t("../core/document/DocumentEvent"),c=t("../core/document/NodeEvent"),p=t("../core/ComponentEvent"),d=null,f=!1,m=!0;i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._setValue=function(){},i.prototype.onValueUpdate=function(){this._setValue()},i.prototype.update=function(){this._update&&this._setValue()},i.prototype._onDrag=function(){this.dispatchEvent(new u(this,p.INPUT_SELECT_DRAG,null))},i.prototype._onDragFinish=function(){this.dispatchEvent(new u(this,p.INPUT_SELECT_DRAG,null)),document.removeEventListener(h.MOUSE_MOVE,this._onDrag,!1),document.removeEventListener(h.MOUSE_MOVE,this._onDragFinish,!1)},i.prototype._onInputDragStart=function(){this.dispatchEvent(new u(this,p.INPUT_SELECT_DRAG,null)),document.addEventListener(h.MOUSE_MOVE,this._onDrag.bind(this),!1),document.addEventListener(h.MOUSE_UP,this._onDragFinish.bind(this),!1)},e.exports=i},{"../core/ComponentEvent":42,"../core/ObjectComponent":46,"../core/document/CSS":53,"../core/document/DocumentEvent":54,"../core/document/Node":56,"../core/document/NodeEvent":57,"../core/event/Event":59,"../core/layout/ScrollBar":62,"./Metric":23}],29:[function(t,e,n){function i(t,e,n,i){r.apply(this,arguments),i=i||{},i.boundsX=i.boundsX||u,i.boundsY=i.boundsY||h,i.labelX=i.labelX||c,i.labelY=i.labelY||p,i.showCross=i.showCross||!0,this._onChange=i.onChange||this._onChange,this._onFinish=i.onFinish||function(){},this._boundsX=i.boundsX,this._boundsY=i.boundsY,this._labelAxisX=""!=i.labelX&&"none"!=i.labelX?i.labelX:null,this._labelAxisY=""!=i.labelY&&"none"!=i.labelY?i.labelY:null;var o=this._path;o.style.strokeWidth=1,o.style.stroke="#363c40",this._grid.style.stroke="rgb(25,25,25)",this._svgPos=[0,0];var s=this._handle=this._svgRoot.appendChild(this._createSVGObject("g")),l=s.appendChild(this._createSVGObject("circle"));l.setAttribute("r",String(11)),l.setAttribute("fill","rgba(0,0,0,0.05)");var d=s.appendChild(this._createSVGObject("circle"));d.setAttribute("r",String(10)),d.setAttribute("fill","rgb(83,93,98)");var f=s.appendChild(this._createSVGObject("circle"));f.setAttribute("r",String(9)),f.setAttribute("fill","rgb(57,69,76)"),f.setAttribute("cy",String(.75));var m=s.appendChild(this._createSVGObject("circle"));m.setAttribute("r",String(10)),m.setAttribute("stroke","rgb(17,19,20)"),m.setAttribute("stroke-width",String(1)),m.setAttribute("fill","none");var g=s.appendChild(this._createSVGObject("circle"));g.setAttribute("r",String(6)),g.setAttribute("fill","rgb(30,34,36)");var v=s.appendChild(this._createSVGObject("circle"));v.setAttribute("r",String(3)),v.setAttribute("fill","rgb(255,255,255)"),s.setAttribute("tranform","translate(0 0)"),this._svg.addEventListener(a.MOUSE_DOWN,this._onDragStart.bind(this),!1),this._drawValue(this._obj[this._key])}var r=t("./Plotter"),o=t("../core/document/Mouse"),s=t("../core/event/Event"),a=t("../core/document/DocumentEvent"),l=t("../core/ComponentEvent"),u=[-1,1],h=[-1,1],c="",p="";i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._onDragStart=function(){var t=this._svgPos;t[0]=0,t[1]=0;for(var e=this._svg.parentNode;e;)t[0]+=e.offsetLeft,t[1]+=e.offsetTop,e=e.offsetParent;var n=a.MOUSE_MOVE,i=a.MOUSE_UP,r=function(){this._drawValueInput(),this.applyValue(),this._onChange()}.bind(this),o=function(){this.pushHistoryState(),this._drawValueInput(),this.applyValue(),this._onFinish(),document.removeEventListener(n,r,!1),document.removeEventListener(i,o,!1)}.bind(this);document.addEventListener(n,r,!1),document.addEventListener(i,o,!1),this._drawValueInput(),this.applyValue(),this._onChange()},i.prototype._redraw=function(){this._drawValue(this._obj[this._key])},i.prototype._drawValueInput=function(){this._drawValue(this._getMouseNormalized())},i.prototype._drawValue=function(t){this._obj[this._key]=t,this._drawGrid(),this._drawPoint()},i.prototype._drawGrid=function(){var t=Number(this._svg.getAttribute("width")),e=Math.floor(.5*t),n=Math.floor(.5*t),i="";i+=this._pathCmdLine(0,n,t,n),i+=this._pathCmdLine(e,0,e,t),this._grid.setAttribute("d",i)},i.prototype._drawPoint=function(){var t=Number(this._svg.getAttribute("width")),e=this._obj[this._key],n=(.5+.5*e[0])*t,i=(.5+.5*-e[1])*t,r="";r+=this._pathCmdLine(0,i,t,i),r+=this._pathCmdLine(n,0,n,t),this._path.setAttribute("d",r),this._handle.setAttribute("transform","translate("+n+" "+i+")")},i.prototype._getMouseNormalized=function(){var t=this._svgPos,e=o.get().getPosition(),n=Number(this._svg.getAttribute("width"));return[-1+Math.max(0,Math.min(e[0]-t[0],n))/n*2,1-Math.max(0,Math.min(e[1]-t[1],n))/n*2]},i.prototype.applyValue=function(){this.dispatchEvent(new s(this,l.VALUE_UPDATED,null))},i.prototype.onValueUpdate=function(t){t.data.origin!=this&&this._drawValue(this._obj[this._key])},e.exports=i},{"../core/ComponentEvent":42,"../core/document/DocumentEvent":54,"../core/document/Mouse":55,"../core/event/Event":59,"./Plotter":31}],30:[function(t,e,n){function i(t){var e=this._node=(new r).setStyleClass(o.Picker),n=this._headNode=(new r).setStyleClass(o.Head),i=(new r).setStyleClass(o.Wrap),a=(new r).setStyleClass(o.Label),l=(new r).setStyleClass(o.Menu),u=(new r).setStyleClass(o.Wrap),f=new r(r.INPUT_BUTTON);f.setStyleClass(o.ButtonMenuClose);var m=(new r).setStyleClass(o.PickerFieldWrap),g=(new r).setStyleClass(o.SliderWrap),v=(new r).setStyleClass(o.PickerInputWrap),y=this._canvasField=document.createElement("canvas"),_=this._canvasSlider=document.createElement("Canvas");m.getElement().appendChild(y),g.getElement().appendChild(_),this._setSizeCanvasField(154,154),this._setSizeCanvasSlider(14,154);var A=this._contextCanvasField=y.getContext("2d"),b=this._contextCanvasSlider=_.getContext("2d"),x=this._handleField=new r;x.setStyleClass(o.PickerHandleField);var w=this._handleSlider=new r;w.setStyleClass(o.PickerHandleSlider);var T=1,E=0,S=this._onInputHueChange.bind(this),M=this._onInputSatChange.bind(this),C=this._onInputValChange.bind(this),P=this._onInputRChange.bind(this),R=this._onInputGChange.bind(this),O=this._onInputBChange.bind(this),L=this._inputHue=new s(T,E,null,S),N=this._inputSat=new s(T,E,null,M),I=this._inputVal=new s(T,E,null,C),k=this._inputR=new s(T,E,null,P),D=this._inputG=new s(T,E,null,R),F=this._inputB=new s(T,E,null,O),B=(new r).setStyleClass(o.PickerControlsWrap),U=new r(r.INPUT_BUTTON).setStyleClass(o.Button).setProperty("value","pick"),V=new r(r.INPUT_BUTTON).setStyleClass(o.Button).setProperty("value","cancel"),G=(new r).setStyleClass(o.PickerColorContrast),H=this._colorCurrNode=new r,z=this._colorPrevNode=new r;G.addChild(H),G.addChild(z),B.addChild(V),B.addChild(U),B.addChild(G),this._setContrasPrevColor(0,0,0);var j=(new r).setStyleClass(o.PickerInputField),q=(new r).setStyleClass(o.PickerInputField),W=(new r).setStyleClass(o.PickerInputField),X=new r(r.SPAN).setStyleClass(o.Label).setProperty("innerHTML","H"),K=new r(r.SPAN).setStyleClass(o.Label).setProperty("innerHTML","S"),Y=new r(r.SPAN).setStyleClass(o.Label).setProperty("innerHTML","V");j.addChildren(X,L.getNode()),q.addChildren(K,N.getNode()),W.addChildren(Y,I.getNode());var Z=(new r).setStyleClass(o.PickerInputField),Q=(new r).setStyleClass(o.PickerInputField),J=(new r).setStyleClass(o.PickerInputField),$=new r(r.SPAN).setStyleClass(o.Label).setProperty("innerHTML","R"),tt=new r(r.SPAN).setStyleClass(o.Label).setProperty("innerHTML","G"),et=new r(r.SPAN).setStyleClass(o.Label).setProperty("innerHTML","B");Z.addChildren($,k.getNode()),Q.addChildren(tt,D.getNode()),J.addChildren(et,F.getNode()),v.addChildren(Z,j,Q,q,J,W,G);var nt=new r;nt.setStyleClass(o.PickerInputWrap);var it=this._inputHEX=new r(r.INPUT_TEXT),rt=(new r).setStyleClass(o.PickerInputField),ot=new r(r.SPAN).setStyleClass(o.Label);ot.setProperty("innerHTML","#"),rt.addChildren(ot,it),nt.addChild(rt),it.addEventListener(h.CHANGE,this._onInputHEXFinish.bind(this)),a.setProperty("innerHTML","Color Picker"),l.addChild(f),n.addChild(l),i.addChild(a),n.addChild(i),e.addChild(n),e.addChild(u),u.addChild(m),u.addChild(g),u.addChild(v),u.addChild(nt),u.addChild(B),m.addChild(x),g.addChild(w);var st=h.MOUSE_DOWN,at=this._onCanvasFieldMouseDown.bind(this);m.addEventListener(st,at),x.addEventListener(st,at),at=this._onCanvasSliderMouseDown.bind(this),g.addEventListener(st,at),w.addEventListener(st,at),f.addEventListener(st,this._onClose.bind(this)),U.addEventListener(st,this._onPick.bind(this)),V.addEventListener(st,this._onClose.bind(this)),n.addEventListener(h.MOUSE_DOWN,this._onHeadDragStart.bind(this)),this._parentNode=t,this._mouseOffset=[0,0],this._position=[null,null],this._canvasSliderPos=[0,0],this._canvasFieldPos=[0,0],this._handleFieldSize=12,this._handleSliderHeight=7,this._imageDataSlider=b.createImageData(_.width,_.height),this._imageDataField=A.createImageData(y.width,y.height),this._valueHueMinMax=[0,360],this._valueSatMinMax=this._valueValMinMax=[0,100],this._valueRGBMinMax=[0,255],this._valueHue=c,this._valueSat=p,this._valueVal=d,this._valueR=0,this._valueG=0,this._valueB=0,this._valueHEX="#000000",this._valueHEXValid=this._valueHEX,this._callbackPick=function(){},this._drawCanvasField(),this._drawCanvasSlider(),this._setColorHSV(this._valueHue,this._valueSat,this._valueVal),this._updateColorRGBFromHSV(),this._updateColorHEXFromRGB(),this._updateHandles()}var r=t("../core/document/Node"),o=t("../core/document/CSS"),s=t("./NumberInput_Internal"),a=t("../core/document/Mouse"),l=t("../core/color/ColorUtil"),u=t("../core/document/DocumentEvent"),h=t("../core/document/NodeEvent"),c=200,p=50,d=50;i.prototype={_drawHandleField:function(){var t=this._canvasField,e=this._canvasFieldPos,n=a.get().getPosition(),i=Math.max(0,Math.min(n[0]-e[0],t.width)),r=Math.max(0,Math.min(n[1]-e[1],t.height)),o=i/t.width,s=r/t.height,l=Math.round(o*this._valueSatMinMax[1]),u=Math.round((1-s)*this._valueValMinMax[1]);this._setColorHSV(this._valueHue,l,u),this._updateColorRGBFromHSV(),this._updateColorHEXFromRGB(),this._updateHandleField()},_updateHandleField:function(){var t=this._canvasField.width,e=this._canvasField.height,n=.25*this._handleFieldSize,i=this._valueSat/this._valueSatMinMax[1],r=this._valueVal/this._valueValMinMax[1];this._handleField.setPositionGlobal(i*t-n,(1-r)*e-n)},_drawHandleSlider:function(){var t=this._canvasSlider,e=this._canvasSliderPos[1],n=a.get().getY(),i=Math.max(0,Math.min(n-e,t.height)),r=i/t.height,o=Math.floor((1-r)*this._valueHueMinMax[1]);this._setColorHSV(o,this._valueSat,this._valueVal),this._updateColorRGBFromHSV(),this._updateColorHEXFromRGB(),this._updateHandleSlider()},_updateHandleSlider:function(){var t=this._canvasSlider.height,e=.25*this._handleSliderHeight,n=this._valueHue/this._valueHueMinMax[1];this._handleSlider.setPositionGlobalY((t-e)*(1-n))},_updateHandles:function(){this._updateHandleField(),this._updateHandleSlider()},_setHue:function(t){var e=this._valueHueMinMax;this._valueHue=t==e[1]?e[0]:t,this._updateColorHSV(),this._drawCanvasField()},_setSat:function(t){this._valueSat=Math.round(t),this._updateColorHSV()},_setVal:function(t){this._valueVal=Math.round(t),this._updateColorHSV()},_setR:function(t){this._valueR=Math.round(t),this._updateColorRGB()},_setG:function(t){this._valueG=Math.round(t),this._updateColorRGB()},_setB:function(t){this._valueB=Math.round(t),this._updateColorRGB()},_onInputHueChange:function(){var t=this._inputHue,e=this._getValueContrained(t,this._valueHueMinMax),n=this._valueHueMinMax;e==n[1]&&(e=n[0],t.setValue(e)),this._setHue(e),this._updateColorRGBFromHSV(),this._updateColorHEXFromRGB(),this._updateHandleSlider(),this._drawCanvasField()},_onInputSatChange:function(){this._setSat(this._getValueContrained(this._inputSat,this._valueSatMinMax)),this._onInputSVChange()},_onInputValChange:function(){this._setVal(this._getValueContrained(this._inputVal,this._valueValMinMax)),this._onInputSVChange()},_onInputRChange:function(){this._setR(this._getValueContrained(this._inputR,this._valueRGBMinMax)),this._onInputRGBChange()},_onInputGChange:function(){this._setG(this._getValueContrained(this._inputG,this._valueRGBMinMax)),this._onInputRGBChange()},_onInputBChange:function(){this._setB(this._getValueContrained(this._inputB,this._valueRGBMinMax)),this._onInputRGBChange()},_onInputHEXFinish:function(){var t=this._inputHEX,e=t.getProperty("value");return l.isValidHEX(e)?(this._valueHEX=this._valueHEXValid=e,void this._updateColorFromHEX()):void t.setProperty("value",this._valueHEXValid)},_onInputSVChange:function(){this._updateColorRGBFromHSV(),this._updateColorHEXFromRGB(),this._updateHandleField()},_onInputRGBChange:function(){this._updateColorHSVFromRGB(),this._updateColorHEXFromRGB(),this._updateHandles()},_getValueContrained:function(t,e){var n=Math.round(t.getValue()),i=e[0],r=e[1];return i>=n&&(n=i,t.setValue(n)),n>=r&&(n=r,t.setValue(n)),n},_updateInputHue:function(){this._inputHue.setValue(this._valueHue)},_updateInputSat:function(){this._inputSat.setValue(this._valueSat)},_updateInputVal:function(){this._inputVal.setValue(this._valueVal)},_updateInputR:function(){this._inputR.setValue(this._valueR)},_updateInputG:function(){this._inputG.setValue(this._valueG)},_updateInputB:function(){this._inputB.setValue(this._valueB)},_updateInputHEX:function(){this._inputHEX.setProperty("value",this._valueHEX)},_setColorHSV:function(t,e,n){this._valueHue=t,this._valueSat=e,this._valueVal=n,this._updateInputHue(),this._updateInputSat(),this._updateInputVal(),this._updateContrastCurrColor()},_setColorRGB:function(t,e,n){this._valueR=t,this._valueG=e,this._valueB=n,this._updateInputR(),this._updateInputG(),this._updateInputB(),this._updateContrastCurrColor()},_setColorHEX:function(t){this._valueHEX=t,this._updateInputHEX()},_updateColorHSV:function(){this._setColorHSV(this._valueHue,this._valueSat,this._valueVal),this._updateContrastCurrColor()},_updateColorRGB:function(){this._setColorRGB(this._valueR,this._valueG,this._valueB),this._updateContrastCurrColor()},_updateColorHSVFromRGB:function(){var t=l.RGB2HSV(this._valueR,this._valueG,this._valueB);this._setColorHSV(t[0],t[1],t[2])},_updateColorRGBFromHSV:function(){var t=l.HSV2RGB(this._valueHue,this._valueSat,this._valueVal);this._setColorRGB(t[0],t[1],t[2])},_updateColorHEXFromRGB:function(){var t=l.RGB2HEX(this._valueR,this._valueG,this._valueB);this._setColorHEX(t)},_updateColorFromHEX:function(){var t=l.HEX2RGB(this._valueHEX);this._setColorRGB(t[0],t[1],t[2]),this._updateColorHSVFromRGB(),this._updateHandles()},_updateContrastCurrColor:function(){this._setContrastCurrColor(this._valueR,this._valueG,this._valueB)},_updateContrastPrevColor:function(){this._setContrasPrevColor(this._valueR,this._valueG,this._valueB)},_setContrastCurrColor:function(t,e,n){this._colorCurrNode.setStyleProperty("background","rgb("+t+","+e+","+n+")")},_setContrasPrevColor:function(t,e,n){this._colorPrevNode.setStyleProperty("background","rgb("+t+","+e+","+n+")")},_onHeadDragStart:function(){var t=this._node,e=this._parentNode,n=t.getPositionGlobal(),i=a.get().getPosition(),r=this._mouseOffset;r[0]=i[0]-n[0],r[1]=i[1]-n[1];var o=u.MOUSE_MOVE,s=u.MOUSE_UP,l=this,h=function(){l._updatePosition(),l._updateCanvasNodePositions()},c=function(){l._updateCanvasNodePositions(),document.removeEventListener(o,h,!1),document.removeEventListener(s,c,!1)};e.removeChild(t),e.addChild(t),document.addEventListener(o,h,!1),document.addEventListener(s,c,!1),this._updateCanvasNodePositions()},_updatePosition:function(){var t=a.get().getPosition(),e=this._mouseOffset,n=t[0]-e[0],i=t[1]-e[1],r=this._node,o=this._headNode,s=this._position,l=window.innerWidth-r.getWidth(),u=window.innerHeight-o.getHeight();s[0]=Math.max(0,Math.min(n,l)),s[1]=Math.max(0,Math.min(i,u)),r.setPositionGlobal(s[0],s[1])},_drawCanvasField:function(){for(var t,e=this._canvasField,n=this._contextCanvasField,i=e.width,r=e.height,o=1/i,s=1/r,a=this._imageDataField,u=[],h=0,c=this._valueHue,p=-1;++p<r;)for(t=-1;++t<i;)u=l.HSV2RGB(c,t*o*100,100*(1-p*s)),h=4*(p*i+t),a.data[h]=u[0],a.data[h+1]=u[1],a.data[h+2]=u[2],a.data[h+3]=255;n.putImageData(a,0,0)},_drawCanvasSlider:function(){for(var t,e=this._canvasSlider,n=this._contextCanvasSlider,i=e.width,r=e.height,o=1/r,s=this._imageDataSlider,a=[],u=0,h=-1;++h<r;)for(t=-1;++t<i;)a=l.HSV2RGB(360*(1-h*o),100,100),u=4*(h*i+t),s.data[u]=a[0],s.data[u+1]=a[1],s.data[u+2]=a[2],s.data[u+3]=255;n.putImageData(s,0,0)},_onCanvasFieldMouseDown:function(){var t=u.MOUSE_MOVE,e=u.MOUSE_UP,n=this,i=function(){n._drawHandleField()},r=function(){document.removeEventListener(t,i,!1),document.removeEventListener(e,r,!1)};document.addEventListener(t,i,!1),document.addEventListener(e,r,!1),n._drawHandleField()},_onCanvasSliderMouseDown:function(){var t=u.MOUSE_MOVE,e=u.MOUSE_UP,n=this,i=function(){n._drawHandleSlider(),n._drawCanvasField()},r=function(){document.removeEventListener(t,i,!1),document.removeEventListener(e,r,!1),n._drawCanvasField()};document.addEventListener(t,i,!1),document.addEventListener(e,r,!1),n._drawHandleSlider(),n._drawCanvasField()},_setSizeCanvasField:function(t,e){var n=this._canvasField;n.style.width=t+"px",n.style.height=e+"px",n.width=t,n.height=e},_setSizeCanvasSlider:function(t,e){var n=this._canvasSlider;n.style.width=t+"px",n.style.height=e+"px",n.width=t,n.height=e},open:function(){var t=this._node;this._parentNode.addChild(t);var e=this._position;null===e[0]||null===e[1]?(e[0]=.5*window.innerWidth-.5*t.getWidth(),e[1]=.5*window.innerHeight-.5*t.getHeight()):(e[0]=Math.max(0,Math.min(e[0],window.innerWidth-t.getWidth())),e[1]=Math.max(0,Math.min(e[1],window.innerHeight-t.getHeight()))),t.setPositionGlobal(e[0],e[1]),this._updateCanvasNodePositions()},close:function(){this._parentNode.removeChild(this._node)},_onClose:function(t){t.cancelBubble=!0,this.close()},_onPick:function(){this._callbackPick(),this.close()},_updateCanvasNodePositions:function(){var t=this._canvasSliderPos,e=this._canvasFieldPos;t[0]=t[1]=0,e[0]=e[1]=0;for(var n=this._canvasSlider;n;)t[0]+=n.offsetLeft,t[1]+=n.offsetTop,n=n.offsetParent;for(n=this._canvasField;n;)e[0]+=n.offsetLeft,e[1]+=n.offsetTop,n=n.offsetParent},setCallbackPick:function(t){this._callbackPick=t},setColorHEX:function(t){this._setColorHEX(t),this._updateColorFromHEX(),this._setColor()},setColorRGB:function(t,e,n){this._setColorRGB(t,e,n),this._updateColorHEXFromRGB(),this._updateColorHSVFromRGB(),this._setColor()},setColorRGBfv:function(t,e,n){this.setColorRGB(Math.floor(255*t),Math.floor(255*e),Math.floor(255*n))},setColorHSV:function(t,e,n){this._setColorHSV(t,e,n),this._updateColorRGBFromHSV(),this._updateColorHEXFromRGB(),this._setColor()},_setColor:function(){this._drawCanvasField(),this._drawCanvasSlider(),this._updateHandles(),this._setContrasPrevColor(this._valueR,this._valueG,this._valueB)},getR:function(){return this._valueR},getG:function(){return this._valueG},getB:function(){return this._valueB},getRGB:function(){return[this._valueR,this._valueG,this._valueB]},getHue:function(){return this._valueHue},getSat:function(){return this._valueSat},getVal:function(){return this._valueVal},getHSV:function(){return[this._valueHue,this._valueSat,this._valueVal]},getHEX:function(){return this._valueHEX},getRGBfv:function(){return[this._valueR/255,this._valueG/255,this._valueB/255]},getNode:function(){return this._node}},i.setup=function(t){return i._instance=new i(t)},i.get=function(){return i._instance},i.destroy=function(){i._instance=null},e.exports=i},{"../core/color/ColorUtil":52,"../core/document/CSS":53,"../core/document/DocumentEvent":54,"../core/document/Mouse":55,"../core/document/Node":56,"../core/document/NodeEvent":57,"./NumberInput_Internal":25}],31:[function(t,e,n){function i(t,e,n,i){i=i||{},i.lineWidth=i.lineWidth||2,i.lineColor=i.lineColor||[255,255,255],r.apply(this,arguments);var o=this._lineWidth=i.lineWidth,s=i.lineColor,a=this._grid=this._svgRoot.appendChild(this._createSVGObject("path"));a.style.stroke="rgb(26,29,31)";var l=this._path=this._svgRoot.appendChild(this._createSVGObject("path"));l.style.stroke="rgb("+s[0]+","+s[1]+","+s[2]+")",l.style.strokeWidth=o,l.style.fill="none"}var r=t("./SVGComponent");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,e.exports=i},{"./SVGComponent":34}],32:[function(t,e,n){function i(t,e,n,i){r.apply(this,arguments),i=i||{},i.onChange=i.onChange||this._onChange,i.step=i.step||h,i.dp=null!=i.dp?i.dp:c,this._onChange=i.onChange;var l=this._step=i.step,u=this._dp=i.dp,p=new o,d=this._inputMin=new s(l,u,this.pushHistoryState.bind(this),this._onInputMinChange.bind(this)),f=new o,m=this._inputMax=new s(l,u,this.pushHistoryState.bind(this),this._onInputMaxChange.bind(this)),g=(new o).setStyleClass(a.Wrap),v=(new o).setStyleClass(a.Wrap),y=(new o).setStyleClass(a.Wrap),_=(new o).setStyleClass(a.Wrap);p.setStyleClass(a.Label).setProperty("innerHTML","MIN"),f.setStyleClass(a.Label).setProperty("innerHTML","MAX");var A=this._obj[this._key];d.setValue(A[0]),m.setValue(A[1]);var b=this._wrapNode;g.addChild(p),v.addChild(d.getNode()),y.addChild(f),_.addChild(m.getNode()),b.addChild(g),b.addChild(v),b.addChild(y),b.addChild(_)}var r=t("../core/ObjectComponent"),o=t("../core/document/Node"),s=t("./NumberInput_Internal"),a=t("../core/document/CSS"),l=t("../core/event/Event"),u=t("../core/ComponentEvent"),h=1,c=2;i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._onInputChange=function(){this.dispatchEvent(new l(this,u.VALUE_UPDATED,null)),this._onChange()},i.prototype._updateValueMin=function(){var t=this._obj[this._key],e=this._inputMin,n=e.getValue();return n>=this._inputMax.getValue()?void e.setValue(t[0]):void(t[0]=n)},i.prototype._updateValueMax=function(){var t=this._obj[this._key],e=this._inputMax,n=e.getValue();return n<=this._inputMin.getValue()?void e.setValue(t[1]):void(t[1]=n)},i.prototype.onValueUpdate=function(t){if(t.data.origin!=this){null==t.data.origin;var e=this._obj,n=this._key;this._inputMin.setValue(e[n][0]),this._inputMax.setValue(e[n][1])}},i.prototype.setValue=function(t){var e=this._obj,n=this._key;e[n][0]=t[0],e[n][1]=t[1],this.dispatchEvent(new l(this,u.VALUE_UPDATED,null))},i.prototype._onInputMinChange=function(){this._updateValueMin(),this._onInputChange()},i.prototype._onInputMaxChange=function(){this._updateValueMax(),this._onInputChange()},e.exports=i},{"../core/ComponentEvent":42,"../core/ObjectComponent":46,"../core/document/CSS":53,"../core/document/Node":56,"../core/event/Event":59,"./NumberInput_Internal":25}],33:[function(t,e,n){function i(t,e){r.apply(this,arguments);var n=this._wrapNode;n.setStyleClass(o.CanvasWrap);var i=n.getWidth(),s=this._svg=this._createSVGObject("svg");s.setAttribute("version","1.2"),s.setAttribute("baseProfile","tiny"),s.setAttribute("preserveAspectRatio","true"),n.getElement().appendChild(s),this._svgSetSize(i,i),this._updateHeight(),this._node.setStyleClass(o.CanvasListItem),this._parent.addEventListener(a.GROUP_SIZE_CHANGE,this,"onGroupSizeChange"),this.addEventListener(a.GROUP_SIZE_UPDATE,this._parent,"onGroupSizeUpdate")}var r=t("./../core/Component"),o=t("../core/document/CSS"),s=t("./Metric"),a=t("../group/GroupEvent");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._updateHeight=function(){var t=Number(this._svg.getAttribute("height"));this._wrapNode.setHeight(t),this._node.setHeight(t+s.PADDING_WRAPPER)},i.prototype.onGroupSizeChange=function(){var t=this._wrapNode.getWidth();this._svgSetSize(t,t),this._updateHeight()},i.prototype._svgSetSize=function(t,e){var n=this._svg;n.setAttribute("width",t),n.setAttribute("height",e),n.setAttribute("viewbox","0 0 "+t+" "+e)},i.prototype.getSVG=function(){return this._svg},e.exports=i},{"../core/document/CSS":53,"../group/GroupEvent":65,"./../core/Component":41,"./Metric":23}],34:[function(t,e,n){function i(t,e,n,i){r.apply(this,arguments);var a=this._wrapNode;a.setStyleClass(o.SVGWrap);var l=a.getWidth(),u=this._svg=this._createSVGObject("svg");u.setAttribute("version","1.2"),u.setAttribute("baseProfile","tiny"),a.getElement().appendChild(u);var h=this._svgRoot=u.appendChild(this._createSVGObject("g"));h.setAttribute("transform","translate(0.5 0.5)"),this._svgSetSize(l,l),this._updateHeight(),this._node.setStyleClass(o.SVGListItem),this._parent.addEventListener(s.GROUP_SIZE_CHANGE,this,"onGroupSizeChange"),this.addEventListener(s.GROUP_SIZE_UPDATE,this._parent,"onGroupSizeUpdate")}var r=t("../core/ObjectComponent"),o=t("../core/document/CSS"),s=t("../group/GroupEvent"),a=t("./Metric");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._updateHeight=function(){var t=Number(this._svg.getAttribute("height"));this._wrapNode.setHeight(t),this._node.setHeight(t+a.PADDING_WRAPPER)},i.prototype._redraw=function(){},i.prototype.onGroupSizeChange=function(){var t=this._wrapNode.getWidth();
this._svgSetSize(t,t),this._updateHeight(),this._redraw()},i.prototype._createSVGObject=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},i.prototype._svgSetSize=function(t,e){var n=this._svg;n.setAttribute("width",t),n.setAttribute("height",e),n.setAttribute("viewbox","0 0 "+t+" "+e)},i.prototype._pathCmdMoveTo=function(t,e){return"M "+t+" "+e+" "},i.prototype._pathCmdLineTo=function(t,e){return"L "+t+" "+e+" "},i.prototype._pathCmdClose=function(){return"Z"},i.prototype._pathCmdLine=function(t,e,n,i){return"M "+t+" "+e+" L "+n+" "+i},i.prototype._pathCmdBezierCubic=function(t,e,n,i,r,o,s,a,l){return"M "+e+" "+n+" C "+i+" "+r+", "+o+" "+s+", "+a+" "+l},i.prototype._pathCmdBezierQuadratic=function(t,e,n,i,r,o,s){return"M "+e+" "+n+" Q "+i+" "+r+", "+o+" "+s},e.exports=i},{"../core/ObjectComponent":46,"../core/document/CSS":53,"../group/GroupEvent":65,"./Metric":23}],35:[function(t,e,n){function i(t,e,n,i){r.apply(this,arguments),i=i||{},i.onChange=i.onChange||this._onChange,this._onChange=i.onChange;var a=this._obj,l=this._key,u=this._targetKey=i.target,c=this._values=a[l];this._selectedIndex=-1,this._selected=null;var m=this._select=new o(o.INPUT_BUTTON);if(m.setStyleClass(s.Select),m.addEventListener(h.MOUSE_DOWN,this._onOptionTrigger.bind(this)),this._hasTarget()){for(var g=a[u]||"",v=-1;++v<c.length;)g==c[v]&&(this._selected=c[v]);m.setProperty("value",g.toString().length>0?g:c[0])}else m.setProperty("value",i.selected?c[i.selected]:f);this._wrapNode.addChild(m),d.get().addEventListener(p.TRIGGER,this,"onOptionTrigger"),this.addEventListener(p.TRIGGERED,d.get(),"onOptionTriggered")}var r=t("../core/ObjectComponent"),o=t("../core/document/Node"),s=t("../core/document/CSS"),a=t("./Options"),l=t("../core/History"),u=t("../core/event/Event"),h=t("../core/document/NodeEvent"),c=t("../core/ComponentEvent"),p=t("../core/OptionEvent"),d=t("../core/ObjectComponentNotifier"),f="Choose ...";i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.onOptionTrigger=function(t){return t.data.origin==this?(this._active=!this._active,this._updateAppearance(),void(this._active?this._buildOptions():a.get().clear())):(this._active=!1,void this._updateAppearance())},i.prototype._buildOptions=function(){var t=a.get(),e=this;t.build(this._values,this._selected,this._select,function(){e.applyValue(),e._active=!1,e._updateAppearance(),e._selectedIndex=t.getSelectedIndex(),e._onChange(e._selectedIndex),t.clear()},function(){e._active=!1,e._updateAppearance(),t.clear()},!1)},i.prototype._applySelected=function(t){this._select.setProperty("value",t),this.dispatchEvent(new u(this,c.VALUE_UPDATED),null)},i.prototype.applyValue=function(){var t=a.get().getSelectedIndex(),e=this._selected=this._values[t];this._hasTarget()&&(this.pushHistoryState(),this._obj[this._targetKey]=e),this._applySelected(e)},i.prototype.pushHistoryState=function(){var t=this._obj,e=this._targetKey;l.get().pushState(t,e,t[e])},i.prototype._onOptionTrigger=function(){this.dispatchEvent(new u(this,p.TRIGGERED,null))},i.prototype._updateAppearance=function(){this._select.setStyleClass(this._active?s.SelectActive:s.Select)},i.prototype.onValueUpdate=function(t){this._hasTarget()&&(this._selected=this._obj[this._targetKey],this._select.setProperty("value",this._selected.toString()))},i.prototype._hasTarget=function(){return null!=this._targetKey},i.prototype.setValue=function(t){return this._selectedIndex=t,-1==t?(this._selected=null,void this._select.setProperty("value",f)):(this._selected=this._values[this._selectedIndex],void this._applySelected(this._selected))},i.prototype.getData=function(){var t={};return t.selectedIndex=this._selectedIndex,t},e.exports=i},{"../core/ComponentEvent":42,"../core/History":44,"../core/ObjectComponent":46,"../core/ObjectComponentNotifier":47,"../core/OptionEvent":48,"../core/document/CSS":53,"../core/document/Node":56,"../core/document/NodeEvent":57,"../core/event/Event":59,"./Options":27}],36:[function(t,e,n){function i(t,e,n,i,a){a=a||{},a.label=a.label||n,r.apply(this,[t,e,i,a]),this._values=this._obj[this._key],this._targetKey=n,a.step=a.step||m,a.dp=void 0===a.dp||null==a.dp?g:a.dp,a.onChange=a.onChange||this._onChange,a.onFinish=a.onFinish||function(){},this._dp=a.dp,this._onChange=a.onChange,this._onFinish=a.onFinish;var l=this._values,h=this._obj,f=this._targetKey,v=this._wrapNode;v.setStyleClass(o.WrapSlider);var y=this._slider=new s(v,this._onSliderBegin.bind(this),this._onSliderMove.bind(this),this._onSliderEnd.bind(this));y.setBoundMax(l[1]),y.setBoundMin(l[0]),y.setValue(h[f]);var _=this._input=new u(a.step,a.dp,null,this._onInputChange.bind(this));_.setValue(h[f]),v.addChild(_.getNode()),this._parent.addEventListener(p.PANEL_MOVE_END,this,"onPanelMoveEnd"),this._parent.addEventListener(d.GROUP_SIZE_CHANGE,this,"onGroupWidthChange"),this._parent.addEventListener(c.WINDOW_RESIZE,this,"onWindowResize")}var r=t("../core/ObjectComponent"),o=t("../core/document/CSS"),s=t("./Slider_Internal"),a=t("../core/History"),l=t("./Range"),u=t("./NumberInput_Internal"),h=t("../core/event/Event"),c=t("../core/document/DocumentEvent"),p=t("../group/PanelEvent"),d=t("../group/GroupEvent"),f=t("../core/ComponentEvent"),m=1,g=2;i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.pushHistoryState=function(){var t=this._obj,e=this._targetKey;a.get().pushState(t,e,t[e])},i.prototype._onSliderBegin=function(){this.pushHistoryState()},i.prototype._onSliderMove=function(){this.applyValue(),this._updateValueField(),this.dispatchEvent(new h(this,f.VALUE_UPDATED,null)),this._onChange()},i.prototype._onSliderEnd=function(){this.applyValue(),this._updateValueField(),this.dispatchEvent(new h(this,f.VALUE_UPDATED,null)),this._onFinish()},i.prototype._onInputChange=function(){var t=this._input,e=this._values[0],n=this._values[1];t.getValue()>=n&&t.setValue(n),t.getValue()<=e&&t.setValue(e);var i=t.getValue();this._slider.setValue(i),this._obj[this._targetKey]=i,this.dispatchEvent(new h(this,f.VALUE_UPDATED,null)),this._onFinish()},i.prototype.applyValue=function(){var t=this._slider.getValue();this._obj[this._targetKey]=parseFloat(t.toFixed(this._dp)),this._input.setValue(t)},i.prototype.onValueUpdate=function(t){var e=t.data.origin;if(e!=this){var n=this._slider;if(e instanceof i)n.setValue(this._obj[this._targetKey]);else{var r=this._values;n.setBoundMin(r[0]),n.setBoundMax(r[1]),e instanceof l||n.setValue(this._obj[this._targetKey])}this.applyValue()}},i.prototype._updateValueField=function(){this._input.setValue(this._slider.getValue())},i.prototype.onPanelMoveEnd=i.prototype.onGroupWidthChange=i.prototype.onWindowResize=function(){this._slider.resetOffset()},i.prototype.setValue=function(t){-1!=t&&(this._obj[this._targetKey]=t,this.dispatchEvent(new h(this,f.VALUE_UPDATED,null)))},i.prototype.getData=function(){var t={};return t[this._targetKey]=this._obj[this._targetKey],t},e.exports=i},{"../core/ComponentEvent":42,"../core/History":44,"../core/ObjectComponent":46,"../core/document/CSS":53,"../core/document/DocumentEvent":54,"../core/event/Event":59,"../group/GroupEvent":65,"../group/PanelEvent":68,"./NumberInput_Internal":25,"./Range":32,"./Slider_Internal":37}],37:[function(t,e,n){function i(t,e,n,i){this._bounds=[0,1],this._value=0,this._intrpl=0,this._focus=!1,this._onBegin=e||function(){},this._onChange=n||function(){},this._onFinish=i||function(){};var l=(new r).setStyleClass(a.SliderWrap);t.addChild(l);var u=this._slot={node:(new r).setStyleClass(a.SliderSlot),offsetX:0,width:0,padding:3},h=this._handle={node:(new r).setStyleClass(a.SliderHandle),width:0,dragging:!1};l.addChild(u.node),u.node.addChild(h.node),u.offsetX=u.node.getPositionGlobalX(),u.width=Math.floor(u.node.getWidth()-2*u.padding),h.node.setWidth(h.width),u.node.addEventListener(s.MOUSE_DOWN,this._onSlotMouseDown.bind(this)),u.node.addEventListener(s.MOUSE_UP,this._onSlotMouseUp.bind(this)),document.addEventListener(o.MOUSE_MOVE,this._onDocumentMouseMove.bind(this)),document.addEventListener(o.MOUSE_UP,this._onDocumentMouseUp.bind(this))}var r=t("../core/document/Node"),o=t("../core/document/DocumentEvent"),s=t("../core/document/NodeEvent"),a=t("../core/document/CSS"),l=t("../core/document/Mouse");i.prototype._onDocumentMouseMove=function(){this._handle.dragging&&(this._update(),this._onChange())},i.prototype._onDocumentMouseUp=function(){this._handle.dragging&&this._onFinish(),this._handle.dragging=!1},i.prototype._onSlotMouseDown=function(){this._onBegin(),this._focus=!0,this._handle.dragging=!0,this._handle.node.getElement().focus(),this._update()},i.prototype._onSlotMouseUp=function(){if(this._focus){var t=this._handle;t.dragging&&this._onFinish(),t.dragging=!1}this._focus=!1},i.prototype._update=function(){var t=l.get().getX(),e=this._slot.offsetX,n=this._slot.width,i=e>t?0:t>e+n?n:t-e;this._handle.node.setWidth(Math.round(i)),this._intrpl=i/n,this._interpolateValue()},i.prototype._updateHandle=function(){var t=this._slot.width,e=Math.round(this._intrpl*t);this._handle.node.setWidth(Math.min(e,t))},i.prototype._interpolateValue=function(){var t=this._intrpl,e=this._bounds;this._value=e[0]*(1-t)+e[1]*t},i.prototype.resetOffset=function(){var t=this._slot;t.offsetX=t.node.getPositionGlobalX(),t.width=Math.floor(t.node.getWidth()-2*t.padding)},i.prototype.setBoundMin=function(t){var e=this._bounds;t>=e[1]||(e[0]=t,this._updateFromBounds())},i.prototype.setBoundMax=function(t){var e=this._bounds;t<=e[0]||(e[1]=t,this._updateFromBounds())},i.prototype._updateFromBounds=function(){var t=this._bounds[0],e=this._bounds[1];this._value=Math.max(t,Math.min(this._value,e)),this._intrpl=Math.abs((this._value-t)/(t-e)),this._updateHandle()},i.prototype.setValue=function(t){var e=this._bounds[0],n=this._bounds[1];e>t||t>n||(this._intrpl=Math.abs((t-e)/(e-n)),this._updateHandle(),this._value=t)},i.prototype.getValue=function(){return this._value},e.exports=i},{"../core/document/CSS":53,"../core/document/DocumentEvent":54,"../core/document/Mouse":55,"../core/document/Node":56,"../core/document/NodeEvent":57}],38:[function(t,e,n){function i(t,e,n,i){r.apply(this,arguments),i=i||{},i.onChange=i.onChange||this._onChange,i.presets=i.presets||f,this._onChange=i.onChange;var h=this._input=new o(o.INPUT_TEXT),c=this._wrapNode,m=i.presets;if(m){var g=new o;g.setStyleClass(s.WrapInputWPreset),c.addChild(g),g.addChild(h);var v=a.get(),y=new l(this._wrapNode),_=function(){v.clear(),y.deactivate()},A=this,b=function(){v.build(m,h.getProperty("value"),h,function(){h.setProperty("value",m[v.getSelectedIndex()]),A.pushHistoryState(),A.applyValue()},_,u.PADDING_PRESET,!1)};y.setOnActive(b),y.setOnDeactive(_)}else c.addChild(h);h.setProperty("value",this._obj[this._key]),h.addEventListener(p.KEY_UP,this._onInputKeyUp.bind(this)),h.addEventListener(p.CHANGE,this._onInputChange.bind(this)),h.addEventListener(p.MOUSE_DOWN,this._onInputDragStart.bind(this)),this.addEventListener(d.INPUT_SELECT_DRAG,this._parent,"onComponentSelectDrag")}var r=t("../core/ObjectComponent"),o=t("../core/document/Node"),s=t("../core/document/CSS"),a=t("./Options"),l=t("./ButtonPreset"),u=t("./Metric"),h=t("../core/event/Event"),c=t("../core/document/DocumentEvent"),p=t("../core/document/NodeEvent"),d=t("../core/ComponentEvent"),f=null;i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._onInputKeyUp=function(t){this._keyIsChar(t.keyCode)&&this.pushHistoryState(),this.applyValue(),this._onChange()},i.prototype._onInputChange=function(t){this._keyIsChar(t.keyCode)&&this.pushHistoryState(),this.applyValue()},i.prototype._keyIsChar=function(t){return 17!=t&&18!=t&&20!=t&&37!=t&&38!=t&&39!=t&&40!=t&&16!=t},i.prototype.applyValue=function(){this._obj[this._key]=this._input.getProperty("value"),this.dispatchEvent(new h(this,d.VALUE_UPDATED,null))},i.prototype.onValueUpdate=function(t){t.data.origin!=this&&this._input.setProperty("value",this._obj[this._key])},i.prototype._onInputDragStart=function(){var t=c.MOUSE_MOVE,e=c.MOUSE_UP,n=d.INPUT_SELECT_DRAG,i=this,r=function(){i.dispatchEvent(new h(this,n,null))},o=function(){i.dispatchEvent(new h(this,n,null)),document.removeEventListener(t,r,!1),document.removeEventListener(t,o,!1)};this.dispatchEvent(new h(this,n,null)),document.addEventListener(t,r,!1),document.addEventListener(e,o,!1)},e.exports=i},{"../core/ComponentEvent":42,"../core/ObjectComponent":46,"../core/document/CSS":53,"../core/document/DocumentEvent":54,"../core/document/Node":56,"../core/document/NodeEvent":57,"../core/event/Event":59,"./ButtonPreset":15,"./Metric":23,"./Options":27}],39:[function(t,e,n){var i=t("./Output");StringOutput=function(t,e,n,r){i.apply(this,arguments)},StringOutput.prototype=Object.create(i.prototype),StringOutput.prototype.constructor=StringOutput,StringOutput.prototype._setValue=function(){if(!this._parent.isDisabled()){var t=this._obj[this._key];if(t!=this._prevString){var e,n=this._textArea,i=n.getElement();n.setProperty("value",t),e=i.scrollHeight,n.setHeight(e);var r=this._scrollBar;r&&(e<=this._wrapNode.getHeight()?r.disable():(r.enable(),r.update(),r.reset())),this._prevString=t}}},e.exports=StringOutput},{"./Output":28}],40:[function(t,e,n){function i(t,e,n,i){r.apply(this,arguments);var a=this._svg,l=Number(a.getAttribute("width")),u=Number(a.getAttribute("height"));i=i||{},i.height=i.height||u,i.resolution=i.resolution||s;for(var h=i.resolution,c=Math.floor(l/h),p=this._points=new Array(2*c),d=this._buffer0=new Array(c),f=this._buffer1=new Array(c),m=.5*this._lineWidth,g=-1;++g<c;)d[g]=f[g]=p[2*g]=p[2*g+1]=m;this._height=i.height=i.height<o.COMPONENT_MIN_HEIGHT?o.COMPONENT_MIN_HEIGHT:i.height,this._svgSetSize(u,Math.floor(i.height)),this._grid.style.stroke="rgb(39,44,46)",this._updateHeight(),this._drawValue()}var r=t("./Plotter"),o=t("./Metric"),s=1;i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._redraw=function(){for(var t=this._points,e=this._buffer0.length,n=Number(this._svg.getAttribute("width")),i=n/(e-1),r=-1;++r<e;)t[2*r]=n-r*i;this._drawValue()},i.prototype.onGroupSizeChange=function(){var t=this._wrapNode.getWidth(),e=this._height;this._svgSetSize(t,e),this._updateHeight(),this._drawGrid(),this._redraw()},i.prototype._drawValue=function(){this._drawCurve()},i.prototype._drawGrid=function(){var t=this._svg,e=Number(t.getAttribute("width")),n=Math.floor(.5*Number(t.getAttribute("height"))),i="";i+=this._pathCmdMoveTo(0,n),i+=this._pathCmdLineTo(e,n),this._grid.setAttribute("d",i)},i.prototype._drawCurve=function(){var t=this._svg,e=this._obj[this._key],n=this._buffer0,i=this._buffer1,r=this._points,o=n.length,s="",a=.5*Number(t.getAttribute("height")),l=a-.5*this._lineWidth;r[1]=n[0],n[o-1]=e*l*-1+Math.floor(a),s+=this._pathCmdMoveTo(r[0],r[1]);for(var u,h=0;++h<o;)u=2*h,i[h-1]=n[h],r[u+1]=n[h-1]=i[h-1],s+=this._pathCmdLineTo(r[u],r[u+1]);this._path.setAttribute("d",s)},i.prototype.update=function(){this._parent.isDisabled()||this._drawValue()},e.exports=i},{"./Metric":23,"./Plotter":31}],41:[function(t,e,n){function i(t,e){s.apply(this,arguments),e=t.usesLabels()?e:"none",this._parent=t,this._enabled=!0;var n=this._node=new r(r.LIST_ITEM),i=this._wrapNode=new r;if(i.setStyleClass(o.Wrap),n.addChild(i),void 0!==e){if(0!=e.length&&"none"!=e){var l=this._lablNode=new r(r.SPAN);l.setStyleClass(o.Label),l.setProperty("innerHTML",e),n.addChild(l)}"none"==e&&(i.setStyleProperty("marginLeft","0"),i.setStyleProperty("width","100%"))}this._parent.addEventListener(a.ENABLE,this,"onEnable"),this._parent.addEventListener(a.DISABLE,this,"onDisable"),this._parent.addComponentNode(n)}var r=t("./document/Node"),o=t("./document/CSS"),s=t("./event/EventDispatcher"),a=t("./ComponentEvent");i.prototype=Object.create(s.prototype),i.prototype.constructor=i,i.prototype.enable=function(){this._enabled=!0},i.prototype.disable=function(){this._enabled=!1},i.prototype.isEnabled=function(){return this._enabled},i.prototype.isDisabled=function(){return!this._enabled},i.prototype.onEnable=function(){this.enable()},i.prototype.onDisable=function(){this.disable()},e.exports=i},{"./ComponentEvent":42,"./document/CSS":53,"./document/Node":56,"./event/EventDispatcher":60}],42:[function(t,e,n){var i={VALUE_UPDATED:"valueUpdated",UPDATE_VALUE:"updateValue",INPUT_SELECT_DRAG:"inputSelectDrag",ENABLE:"enable",DISABLE:"disable"};e.exports=i},{}],43:[function(t,e,n){function i(t,e){Error.apply(this),Error.captureStackTrace(this,i),this.name="ComponentObjectError",this.message="Object of type "+t.constructor.name+" has no member "+e+"."}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,e.exports=i},{}],44:[function(t,e,n){function i(){r.apply(this,arguments),this._states=[],this._enabled=!1}var r=t("./event/EventDispatcher"),o=t("./event/Event"),s=t("./HistoryEvent"),a=30;i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.pushState=function(t,e,n){if(!this._enabled){var i=this._states;i.length>=a&&i.shift(),i.push({object:t,key:e,value:n}),this.dispatchEvent(new o(this,s.STATE_PUSH,null))}},i.prototype.getState=function(t,e){var n=this._states,i=n.length;if(0==i)return null;for(var r,o,s=-1;++s<i;)if(r=n[s],r.object===t&&r.key===e){o=r.value;break}return o},i.prototype.popState=function(){if(!this._enabled){var t=this._states;if(!(t.length<1)){var e=t.pop();e.object[e.key]=e.value,this.dispatchEvent(new o(this,s.STATE_POP,null))}}},i.prototype.getNumStates=function(){return this._states.length},i._instance=null,i.setup=function(){return i._instance=new i},i.get=function(){return i._instance},i.prototype.enable=function(){this._enabled=!1},i.prototype.disable=function(){this._enabled=!0},e.exports=i},{"./HistoryEvent":45,"./event/Event":59,"./event/EventDispatcher":60}],45:[function(t,e,n){var i={STATE_PUSH:"historyStatePush",STATE_POP:"historyStatePop"};e.exports=i},{}],46:[function(t,e,n){function i(t,e,n,i){if(void 0===e[n])throw new l(e,n);i=i||{},i.label=i.label||n,o.apply(this,[t,i.label]),this._obj=e,this._key=n,this._onChange=function(){},a.get().addEventListener(s.UPDATE_VALUE,this,"onValueUpdate"),this.addEventListener(s.VALUE_UPDATED,a.get(),"onValueUpdated")}var r=t("./History"),o=t("./Component"),s=t("./ComponentEvent"),a=t("./ObjectComponentNotifier"),l=t("./ComponentObjectError"),u=t("./event/Event");i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype.applyValue=function(){},i.prototype.onValueUpdate=function(t){},i.prototype.pushHistoryState=function(){var t=this._obj,e=this._key;r.get().pushState(t,e,t[e])},i.prototype.setValue=function(t){this._obj[this._key]=t,this.dispatchEvent(new u(this,s.VALUE_UPDATED,null))},i.prototype.getData=function(){var t={};return t[this._key]=this._obj[this._key],t},e.exports=i},{"./Component":41,"./ComponentEvent":42,"./ComponentObjectError":43,"./History":44,"./ObjectComponentNotifier":47,"./event/Event":59}],47:[function(t,e,n){function i(){r.apply(this)}var r=t("./event/EventDispatcher"),o=t("./event/Event"),s=t("./ComponentEvent"),a=t("./OptionEvent");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.onValueUpdated=function(t){this.dispatchEvent(new o(this,s.UPDATE_VALUE,{origin:t.sender}))},i.prototype.onOptionTriggered=function(t){this.dispatchEvent(new o(this,a.TRIGGER,{origin:t.sender}))};var l=null;i.get=function(){return l||(l=new i),l},i.destroy=function(){l=null},e.exports=i},{"./ComponentEvent":42,"./OptionEvent":48,"./event/Event":59,"./event/EventDispatcher":60}],48:[function(t,e,n){var i={TRIGGERED:"selectTrigger",TRIGGER:"triggerSelect"};e.exports=i},{}],49:[function(t,e,n){function i(){var t=320,e=200,n=window.open("","","        width="+t+",        height="+e+",        left="+(window.screenX+.5*window.innerWidth-.5*t)+",        top="+(window.screenY+.5*window.innerHeight-.5*e)+",        location=0,        titlebar=0,        resizable=0");return n.document.documentElement.innerHTML=s,n}function r(t){var e=i(),n=e.document;n.body.innerHTML+=a,n.getElementById("save").addEventListener("click",function(){var t=n.getElementById("state").value,e=new Blob([t],{type:"application:json"}),i=n.getElementById("filename").value,r=document.createElement("a");r.download=i,window.webkitURL?r.href=window.webkitURL.createObjectURL(e):(r.href=window.createObjectURL(e),r.style.display="none",r.addEventListener("click",function(){n.body.removeChild(r)}),n.body.appendChild(r)),r.click()}),n.getElementById("state").innerText=JSON.stringify(t)}function o(t){function e(){try{var t=JSON.parse(o.value);t&&"object"==typeof t&&null!==t&&(s.disabled=!1)}catch(e){s.disabled=!0}}var n=i(),r=n.document;r.body.innerHTML+=l;var o=r.getElementById("state"),s=r.getElementById("load");s.disabled=!0,o.addEventListener("input",function(){e()}),r.getElementById("load").addEventListener("click",function(){var e=o.value;t(JSON.parse(e).data),n.close()});var a=r.getElementById("load-disk");a.addEventListener("change",function(){var t=new FileReader;t.addEventListener("loadend",function(t){o.value=t.target.result,e()}),t.readAsText(a.files[0],"utf-8")})}var s='<head>\n   <title>ControlKit State</title>\n   <style type="text/css">\n      body{\n          box-sizing: border-box;\n          padding: 20px;\n          margin: 0;\n          font-family: Arial, sans-serif;\n          width: 100%;\n      }\n      textarea{\n          margin-bottom:10px;\n          box-sizing: border-box;\n          padding: 0;\n          border: 0;\n          border: 1px solid #dedede;\n          outline: none;\n          font-family: Monaco, monospace;\n          font-size: 11px;\n          resize: none;\n          word-wrap: break-word;\n          display: block;\n          width: 100%;\n          overflow-y: scroll;\n          height: 125px;\n      }\n      button{\n          margin: 0;\n          padding: 0 5px 3px 5px;\n          height: 20px;\n      }\n      #save,#filename,#load{\n          float: right;\n      }\n      input[type="text"]{\n          margin: 0;\n          padding: 0;\n          width: 45%;\n          height:20px;\n      }\n   </style>\n</head>\n<body>\n   <textarea name="state" id="state"></textarea>\n</body>',a='<button type="button" id="save">Save</button>\n<input type="text" id="filename" value="ck-state.json"></input>',l='<input type="file" id="load-disk"></button><button type="button" id="load">Load</button>';e.exports={load:o,save:r}},{}],50:[function(t,e,n){function i(t){Error.apply(this),Error.captureStackTrace(this,i),this.name="ColorFormatError",this.message=t}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,e.exports=i},{}],51:[function(t,e,n){var i={RGB:"rgb",HSV:"hsv",HEX:"hex",RGBfv:"rgbfv"};e.exports=i},{}],52:[function(t,e,n){var i={HSV2RGB:function(t,e,n){var i=360,r=100,o=100,s=0,a=0;if(t%=i,n=Math.max(a,Math.min(n,o))/o*255,s>=e)return n=Math.round(n),[n,n,n];e>r&&(e=r),e/=r;var l=Math.floor(t/60)%6,u=t/60-l,h=n*(1-e),c=n*(1-u*e),p=n*(1-(1-u)*e),d=0,f=0,m=0;switch(l){case 0:d=n,f=p,m=h;break;case 1:d=c,f=n,m=h;break;case 2:d=h,f=n,m=p;break;case 3:d=h,f=c,m=n;break;case 4:d=p,f=h,m=n;break;case 5:d=n,f=h,m=c}return d=Math.round(d),f=Math.round(f),m=Math.round(m),[d,f,m]},RGB2HSV:function(t,e,n){var i=0,r=0,o=0;t/=255,e/=255,n/=255;var s=Math.min(t,Math.min(e,n)),a=Math.max(t,Math.max(e,n));if(s==a)return o=s,[0,0,Math.round(o)];var l=t==s?e-n:n==s?t-e:n-t,u=t==s?3:n==s?1:5;return i=Math.round(60*(u-l/(a-s))),r=Math.round((a-s)/a*100),o=Math.round(100*a),[i,r,o]},RGB2HEX:function(t,e,n){return"#"+((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},RGBfv2HEX:function(t,e,n){return i.RGB2HEX(Math.floor(255*t),Math.floor(255*e),Math.floor(255*n))},HSV2HEX:function(t,e,n){var i=ControlKit.ColorUtil.HSV2RGB(t,e,n);return ControlKit.ColorUtil.RGB2HEX(i[0],i[1],i[2])},HEX2RGB:function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,n,i){return e+e+n+n+i+i});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null},isValidHEX:function(t){return/^#[0-9A-F]{6}$/i.test(t)},isValidRGB:function(t,e,n){return t>=0&&255>=t&&e>=0&&255>=e&&n>=0&&255>=n},isValidRGBfv:function(t,e,n){return t>=0&&1>=t&&e>=0&&1>=e&&n>=0&&1>=n}};e.exports=i},{}],53:[function(t,e,n){var i={ControlKit:"controlKit",Panel:"panel",Head:"head",Label:"label",Menu:"menu",Wrap:"wrap",ButtonMenuClose:"button-menu-close",ButtonMenuHide:"button-menu-hide",ButtonMenuShow:"button-menu-show",ButtonMenuUndo:"button-menu-undo",ButtonMenuLoad:"button-menu-load",ButtonMenuSave:"button-menu-save",MenuActive:"menu-active",Button:"button",ButtonPreset:"button-preset",ButtonPresetActive:"button-preset-active",WrapInputWPreset:"input-with-preset-wrap",WrapColorWPreset:"color-with-preset-wrap",HeadInactive:"head-inactive",PanelHeadInactive:"panel-head-inactive",GroupList:"group-list",Group:"group",SubGroupList:"sub-group-list",SubGroup:"sub-group",TextAreaWrap:"textarea-wrap",WrapSlider:"wrap-slider",SliderWrap:"slider-wrap",SliderSlot:"slider-slot",SliderHandle:"slider-handle",ArrowBMin:"arrow-b-min",ArrowBMax:"arrow-b-max",ArrowBSubMin:"arrow-b-sub-min",ArrowBSubMax:"arrow-b-sub-max",ArrowSMin:"arrow-s-min",ArrowSMax:"arrow-s-max",Select:"select",SelectActive:"select-active",Options:"options",OptionsSelected:"li-selected",CanvasListItem:"canvas-list-item",CanvasWrap:"canvas-wrap",SVGListItem:"svg-list-item",SVGWrap:"svg-wrap",GraphSliderXWrap:"graph-slider-x-wrap",GraphSliderYWrap:"graph-slider-y-wrap",GraphSliderX:"graph-slider-x",GraphSliderY:"graph-slider-y",GraphSliderXHandle:"graph-slider-x-handle",GraphSliderYHandle:"graph-slider-y-handle",Picker:"picker",PickerFieldWrap:"field-wrap",PickerInputWrap:"input-wrap",PickerInputField:"input-field",PickerControlsWrap:"controls-wrap",PickerColorContrast:"color-contrast",PickerHandleField:"indicator",PickerHandleSlider:"indicator",Color:"color",ScrollBar:"scrollBar",ScrollWrap:"scroll-wrap",ScrollBarBtnUp:"btnUp",ScrollBarBtnDown:"btnDown",ScrollBarTrack:"track",ScrollBarThumb:"thumb",ScrollBuffer:"scroll-buffer"};e.exports=i},{}],54:[function(t,e,n){var i={MOUSE_MOVE:"mousemove",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_WHEEL:"mousewheel",WINDOW_RESIZE:"resize"};e.exports=i},{}],55:[function(t,e,n){function i(){r.apply(this),this._pos=[0,0],this._wheelDirection=0,this._hoverElement=null;var t=this;this._onDocumentMouseMove=function(e){var n=0,i=0;e||(e=window.event),e.pageX?(n=e.pageX,i=e.pageY):e.clientX&&(n=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),t._pos[0]=n,t._pos[1]=i,t._hoverElement=document.elementFromPoint(n,i)},this._onDocumentMouseWheel=function(e){t._wheelDirection=e.detail<0?1:e.wheelDelta>0?1:-1,t.dispatchEvent(new o(t,s.MOUSE_WHEEL,e))},document.addEventListener(s.MOUSE_MOVE,this._onDocumentMouseMove),document.addEventListener(s.MOUSE_WHEEL,this._onDocumentMouseWheel)}var r=t("../event/EventDispatcher"),o=t("../event/Event"),s=t("./DocumentEvent"),a=null;i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._removeDocumentListener=function(){document.removeEventListener(s.MOUSE_MOVE,this._onDocumentMouseMove),document.removeEventListener(s.MOUSE_WHEEL,this._onDocumentMouseWheel)},i.prototype.getPosition=function(){return this._pos},i.prototype.getX=function(){return this._pos[0]},i.prototype.getY=function(){return this._pos[1]},i.prototype.getWheelDirection=function(){return this._wheelDirection},i.prototype.getHoverElement=function(){return this._hoverElement},i.setup=function(){return a=a||new i},i.get=function(){return a},i.destroy=function(){a._removeDocumentListener(),a=null},e.exports=i},{"../event/Event":59,"../event/EventDispatcher":60,"./DocumentEvent":54}],56:[function(t,e,n){function i(){switch(this._element=null,arguments.length){case 1:var t=arguments[0];t!=i.INPUT_TEXT&&t!=i.INPUT_BUTTON&&t!=i.INPUT_SELECT&&t!=i.INPUT_CHECKBOX?this._element=document.createElement(t):(this._element=document.createElement("input"),this._element.type=t);break;case 0:this._element=document.createElement("div")}}i.DIV="div",i.INPUT_TEXT="text",i.INPUT_BUTTON="button",i.INPUT_SELECT="select",i.INPUT_CHECKBOX="checkbox",i.OPTION="option",i.LIST="ul",i.LIST_ITEM="li",i.SPAN="span",i.TEXTAREA="textarea",i.prototype={addChild:function(t){return this._element.appendChild(t.getElement()),t},addChildren:function(){for(var t=-1,e=arguments.length,n=this._element;++t<e;)n.appendChild(arguments[t].getElement());return this},addChildAt:function(t,e){return this._element.insertBefore(t.getElement(),this._element.children[e]),t},removeChild:function(t){return this.contains(t)?(this._element.removeChild(t.getElement()),t):null},removeChildren:function(){for(var t=-1,e=arguments.length,n=this._element;++t<e;)n.removeChild(arguments[t].getElement());return this},removeChildAt:function(t,e){return this.contains(t)?(this._element.removeChild(t.getElement()),t):null},removeAllChildren:function(){for(var t=this._element;t.hasChildNodes();)t.removeChild(t.lastChild);return this},setWidth:function(t){return this._element.style.width=t+"px",this},getWidth:function(){return this._element.offsetWidth},setHeight:function(t){return this._element.style.height=t+"px",this},getHeight:function(){return this._element.offsetHeight},setPosition:function(t,e){return this.setPosition(t).setPosition(e)},setPositionX:function(t){return this._element.style.marginLeft=t+"px",this},setPositionY:function(t){return this._element.style.marginTop=t+"px",this},setPositionGlobal:function(t,e){return this.setPositionGlobalX(t).setPositionGlobalY(e)},setPositionGlobalX:function(t){return this._element.style.left=t+"px",this},setPositionGlobalY:function(t){return this._element.style.top=t+"px",this},getPosition:function(){return[this.getPositionX(),this.getPositionY()]},getPositionX:function(){return this._element.offsetLeft},getPositionY:function(){return this._element.offsetTop},getPositionGlobal:function(){for(var t=[0,0],e=this._element;e;)t[0]+=e.offsetLeft,t[1]+=e.offsetTop,e=e.offsetParent;return t},getPositionGlobalX:function(){for(var t=0,e=this._element;e;)t+=e.offsetLeft,e=e.offsetParent;return t},getPositionGlobalY:function(){for(var t=0,e=this._element;e;)t+=e.offsetTop,e=e.offsetParent;return t},addEventListener:function(t,e,n){return this._element.addEventListener(t,e,n),this},removeEventListener:function(t,e,n){return this._element.removeEventListener(t,e,n),this},dispatchEvent:function(t){return this._element.dispatchEvent(t),this},setStyleClass:function(t){return this._element.className=t,this},setStyleProperty:function(t,e){return this._element.style[t]=e,this},getStyleProperty:function(t){return this._element.style[t]},setStyleProperties:function(t){for(var e in t)this._element.style[e]=t[e];return this},deleteStyleClass:function(){return this._element.className="",this},deleteStyleProperty:function(t){return this._element.style[t]="",this},deleteStyleProperties:function(t){for(var e in t)this._element.style[e]="";return this},getChildAt:function(t){return(new i).setElement(this._element.children[t])},getChildIndex:function(t){return this._indexOf(this._element,t.getElement())},getNumChildren:function(){return this._element.children.length},getFirstChild:function(){return(new i).setElement(this._element.firstChild)},getLastChild:function(){return(new i).setElement(this._element.lastChild)},hasChildren:function(){return 0!=this._element.children.length},contains:function(t){return-1!=this._indexOf(this._element,t.getElement())},_indexOf:function(t,e){return Array.prototype.indexOf.call(t.children,e)},setProperty:function(t,e){return this._element[t]=e,this},setProperties:function(t){for(var e in t)this._element[e]=t[e];return this},getProperty:function(t){return this._element[t]},setElement:function(t){return this._element=t,this},getElement:function(){return this._element},getStyle:function(){return this._element.style},getParent:function(){
return(new i).setElement(this._element.parentNode)}},i.getNodeByElement=function(t){return(new i).setElement(t)},i.getNodeById=function(t){return(new i).setElement(document.getElementById(t))},e.exports=i},{}],57:[function(t,e,n){var i={MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",KEY_DOWN:"keydown",KEY_UP:"keyup",CHANGE:"change",FINISH:"finish",DBL_CLICK:"dblclick",ON_CLICK:"click",SELECT_START:"selectstart",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_OVER:"dragover",DRAG_LEAVE:"dragleave",RESIZE:"resize"};e.exports=i},{}],58:[function(t,e,n){var i={string:"#controlKit{position:absolute;top:0;left:0;width:100%;height:100%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}#controlKit .panel{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;pointer-events:auto;position:relative;z-index:1;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;opacity:1;float:left;width:200px;border-radius:3px;-moz-border-radius:3px;box-shadow:0 2px 2px rgba(0,0,0,.25);margin:0;padding:0;background-color:#1a1a1a;font-family:Arial,sans-serif}#controlKit .panel .wrap{width:auto;height:auto;margin:0;padding:0;position:relative;overflow:hidden}#controlKit .panel ul{margin:0;padding:0;list-style:none}#controlKit .panel .color,#controlKit .panel input[type=text],#controlKit .panel textarea,#controlKit .picker input[type=text]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;width:100%;height:25px;padding:0 0 0 8px;font-family:Arial,sans-serif;font-size:11px;color:#fff;text-shadow:1px 1px #000;outline:0;background:#222729;background-image:-o-linear-gradient(rgba(0,0,0,.075) 0,rgba(0,0,0,.125) 100%);background-image:linear-gradient(rgba(0,0,0,.075) 0,rgba(0,0,0,.125) 100%);border:none;box-shadow:0 0 0 1px #1f1f1f inset;border-radius:2px;-moz-border-radius:2px}#controlKit .panel .button,#controlKit .panel .select,#controlKit .panel .select-active,#controlKit .picker .button{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;cursor:pointer;width:100%;height:26px;margin:0;background-image:-o-linear-gradient(#404040 0,#3b3b3b 100%);background-image:linear-gradient(#404040 0,#3b3b3b 100%);border:none;outline:0;border-radius:2px;box-shadow:0 0 0 1px #1f1f1f inset,-1px 2px 0 0 #4a4a4a inset;font-family:Arial,sans-serif;color:#fff}#controlKit .panel textarea{padding:5px 8px 2px;overflow:hidden;resize:none;vertical-align:top;white-space:nowrap}#controlKit .panel .textarea-wrap{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;width:100%;padding:0;float:left;height:100%;overflow:hidden;border:none;border-radius:2px;-moz-border-radius:2px;background-color:#222729;box-shadow:0 0 1px 2px rgba(0,0,0,.0125) inset,0 0 1px 1px #111314 inset;background-image:-o-linear-gradient(rgba(0,0,0,.075) 0,rgba(0,0,0,.125) 100%);background-image:linear-gradient(rgba(0,0,0,.075) 0,rgba(0,0,0,.125) 100%)}#controlKit .panel .textarea-wrap textarea{border:none;border-radius:2px;-moz-border-radius:2px;box-shadow:none;background:0 0}#controlKit .panel .textarea-wrap .scrollBar{border:1px solid #101213;border-bottom-right-radius:2px;border-top-right-radius:2px;border-left:none;box-shadow:0 0 1px 2px rgba(0,0,0,.0125) inset,0 0 1px 1px #111314 inset}#controlKit .panel canvas{cursor:pointer;vertical-align:bottom;border:none;box-shadow:0 0 0 1px #1f1f1f inset;border-radius:2px;-moz-border-radius:2px}#controlKit .panel .canvas-wrap,#controlKit .panel .svg-wrap{margin:6px 0 0;position:relative;width:70%;float:right;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:none;border-radius:2px;-moz-border-radius:2px;background:#1e2224;background-image:-o-linear-gradient(transparent 0,rgba(0,0,0,.05) 100%);background-image:linear-gradient(transparent 0,rgba(0,0,0,.05) 100%)}#controlKit .panel .canvas-wrap svg,#controlKit .panel .svg-wrap svg{position:absolute;left:0;top:0;cursor:pointer;vertical-align:bottom;border:none;box-shadow:0 0 0 1px #1f1f1f inset;border-radius:2px;-moz-border-radius:2px}#controlKit .panel .button,#controlKit .picker .button{font-size:10px;font-weight:700;text-shadow:0 1px #000;text-transform:uppercase}#controlKit .panel .button:hover,#controlKit .picker .button:hover{background-image:-o-linear-gradient(#454545 0,#3b3b3b 100%);background-image:linear-gradient(#454545 0,#3b3b3b 100%)}#controlKit .panel .button:active,#controlKit .picker .button:active{background-image:-o-linear-gradient(#404040 0,#3b3b3b 100%);background-image:linear-gradient(#404040 0,#3b3b3b 100%)}#controlKit .panel .color-with-preset-wrap,#controlKit .panel .input-with-preset-wrap{width:100%;float:left}#controlKit .panel .color-with-preset-wrap .color,#controlKit .panel .input-with-preset-wrap input[type=text]{padding-right:25px;border-top-right-radius:2px;border-bottom-right-radius:2px;float:left}#controlKit .panel .button-preset,#controlKit .panel .button-preset-active{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;right:0;width:20px;height:25px;margin:0;cursor:pointer;float:right;border:none;border-top-right-radius:2px;border-bottom-right-radius:2px;box-shadow:0 0 0 1px #1f1f1f inset,-1px 2px 0 0 #4a4a4a inset;outline:0}#controlKit .panel .button-preset-active,#controlKit .panel .button-preset:hover{background:url(data:image/png;base64,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) 50% 50% no-repeat,linear-gradient(#454545 0,#3b3b3b 100%)}#controlKit .panel .button-preset{background:url(data:image/png;base64,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) 50% 50% no-repeat,linear-gradient(#404040 0,#3b3b3b 100%)}#controlKit .panel input[type=checkbox]{margin:6px 0 0}#controlKit .panel .select,#controlKit .panel .select-active{padding-left:10px;padding-right:20px;font-size:11px;text-align:left;text-shadow:1px 1px #000;cursor:pointer;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#controlKit .panel .select{background:url(data:image/png;base64,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) 100% 50% no-repeat,linear-gradient(#404040 0,#3b3b3b 100%)}#controlKit .panel .select-active,#controlKit .panel .select:hover{background:url(data:image/png;base64,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) 100% 50% no-repeat,linear-gradient(#454545 0,#3b3b3b 100%)}#controlKit .panel .slider-handle,#controlKit .panel .slider-slot,#controlKit .panel .slider-wrap,#controlKit .panel .wrap-slider{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}#controlKit .panel .wrap-slider{width:70%;padding:6px 0 0;float:right;height:100%}#controlKit .panel .wrap-slider input[type=text]{width:25%;text-align:center;padding:0;float:right}#controlKit .panel .slider-wrap{float:left;cursor:ew-resize;width:70%}#controlKit .panel .slider-slot{width:100%;height:25px;padding:3px;background-color:#1e2224;border:none;box-shadow:0 0 0 1px #1f1f1f inset;border-radius:2px;-moz-border-radius:2px}#controlKit .panel .slider-handle{position:relative;width:100%;height:100%;background:#b32435;background-image:-o-linear-gradient(transparent 0,rgba(0,0,0,.1) 100%);background-image:linear-gradient(transparent 0,rgba(0,0,0,.1) 100%);box-shadow:0 1px 0 0 #0f0f0f}#controlKit .panel .color{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;width:100%;height:25px;padding:0;border:none;background:#fff;box-shadow:0 0 0 1px #111314 inset;text-align:center;line-height:25px;border-radius:2px;-moz-border-radius:2px}#controlKit .panel .graph-slider-x-wrap,#controlKit .panel .graph-slider-y-wrap{position:absolute;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}#controlKit .panel .graph-slider-x-wrap{bottom:0;left:0;width:100%;padding:6px 20px 6px 6px}#controlKit .panel .graph-slider-y-wrap{top:0;right:0;height:100%;padding:6px 6px 20px}#controlKit .panel .graph-slider-x,#controlKit .panel .graph-slider-y{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border-radius:2px;-moz-border-radius:2px;background:rgba(24,27,29,.5);border:1px solid #181b1d}#controlKit .panel .graph-slider-x{height:8px}#controlKit .panel .graph-slider-y{width:8px;height:100%}#controlKit .panel .graph-slider-x-handle,#controlKit .panel .graph-slider-y-handle{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;cursor:pointer;border:1px solid #181b1d;background:#303639}#controlKit .panel .graph-slider-x-handle{width:20px;height:100%;border-top:none;border-bottom:none}#controlKit .panel .graph-slider-y-handle{width:100%;height:20px;border-left:none;border-right:none}#controlKit .sub-group .wrap .wrap .wrap{width:25%!important;padding:0!important;float:left!important}#controlKit .sub-group .wrap .wrap .wrap .label{width:100%!important;padding:8px 0 0!important;color:#878787!important;text-align:center!important;text-transform:uppercase!important;font-weight:700!important;text-shadow:1px 1px #1a1a1a!important}#controlKit .sub-group .wrap .wrap .wrap input[type=text]{padding:0;text-align:center}#controlKit .options{pointer-events:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #1f1f1f;border-radius:2px;-moz-border-radius:2px;position:absolute;z-index:2147483638;left:0;top:0;width:auto;height:auto;box-shadow:0 1px 0 0 #4a4a4a inset;background-color:#454545;font-family:Arial,sans-serif;font-size:11px;color:#fff;text-shadow:1px 1px #000;overflow:hidden}#controlKit .options ul{width:100%;list-style:none;margin:0;padding:0}#controlKit .options ul li{margin:0;width:100%;height:25px;line-height:25px;padding:0 20px 0 10px;overflow:hidden;white-space:normal;text-overflow:ellipsis;cursor:pointer}#controlKit .options ul li:hover{background-color:#1f2325}#controlKit .options ul .li-selected{background-color:#292d30}#controlKit .options .color{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}#controlKit .options .color .li-selected,#controlKit .options .color li{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0;height:25px;line-height:25px;text-align:center}#controlKit .options .color .li-selected:hover,#controlKit .options .color li:hover{background:0 0;font-weight:700}#controlKit .options .color .li-selected{font-weight:700}#controlKit .panel .label,#controlKit .picker .label{width:100%;float:left;font-size:11px;font-weight:700;text-shadow:0 1px #000;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:default}#controlKit .panel .head,#controlKit .panel .panel-head-inactive,#controlKit .picker .head{height:30px;padding:0 10px;background:#1a1a1a;overflow:hidden}#controlKit .panel .head .wrap,#controlKit .panel .panel-head-inactive .wrap,#controlKit .picker .head .wrap{width:auto;height:auto;margin:0;padding:0;position:relative;overflow:hidden}#controlKit .panel .head .label,#controlKit .picker .head .label{cursor:pointer;line-height:30px;color:#65696b}#controlKit .panel .group-list .group .head{height:38px;padding:0 10px;border-top:1px solid #4f4f4f;border-bottom:1px solid #262626;background-image:-o-linear-gradient(#454545 0,#3b3b3b 100%);background-image:linear-gradient(#454545 0,#3b3b3b 100%);cursor:pointer}#controlKit .panel .group-list .group .head .label{font-size:12px;line-height:38px;color:#fff}#controlKit .panel .group-list .group .head:hover{border-top:1px solid #525252;background-image:-o-linear-gradient(#454545 0,#404040 100%);background-image:linear-gradient(#454545 0,#404040 100%)}#controlKit .panel .group-list .group li{height:35px;padding:0 10px}#controlKit .panel .group-list .group .sub-group-list .sub-group:last-of-type{border-bottom:none}#controlKit .panel .group-list .group .sub-group-list .sub-group{padding:0;height:auto;border-bottom:1px solid #242424}#controlKit .panel .group-list .group .sub-group-list .sub-group ul{overflow:hidden}#controlKit .panel .group-list .group .sub-group-list .sub-group ul li{background:#2e2e2e;border-bottom:1px solid #222729}#controlKit .panel .group-list .group .sub-group-list .sub-group ul li:last-of-type{border-bottom:none}#controlKit .panel .group-list .group .sub-group-list .sub-group:first-child{margin-top:0}#controlKit .panel .group-list .group .sub-group-list .sub-group .head,#controlKit .panel .group-list .group .sub-group-list .sub-group .head-inactive{cursor:pointer}#controlKit .panel .group-list .group .sub-group-list .sub-group .head{height:27px;padding:0 10px;border-top:none;border-bottom:1px solid #242424;background-image:none;background-color:#272727}#controlKit .panel .group-list .group .sub-group-list .sub-group .head:hover{background-image:none;background-color:#272727}#controlKit .panel .group-list .group .sub-group-list .sub-group .head-inactive{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;height:27px;padding:0 10px;box-shadow:0 1px 0 0 #404040 inset;background-image:-o-linear-gradient(#3b3b3b 0,#383838 100%);background-image:linear-gradient(#3b3b3b 0,#383838 100%)}#controlKit .panel .group-list .group .sub-group-list .sub-group .head-inactive:hover{box-shadow:0 1px 0 0 #474747 inset;background-image:none;background-image:-o-linear-gradient(#404040 0,#3b3b3b 100%);background-image:linear-gradient(#404040 0,#3b3b3b 100%)}#controlKit .panel .group-list .group .sub-group-list .sub-group .head .label,#controlKit .panel .group-list .group .sub-group-list .sub-group .head-inactive .label{margin:0;padding:0;line-height:27px;color:#fff;font-weight:700;font-size:11px;text-shadow:1px 1px #000;text-transform:capitalize}#controlKit .panel .group-list .group .sub-group-list .sub-group .head .wrap .label,#controlKit .panel .group-list .group .sub-group-list .sub-group .head-inactive .wrap .label{width:100%;font-weight:700;color:#fff;padding:0}#controlKit .panel .group-list .group .sub-group-list .sub-group .wrap .label{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;height:100%;width:30%;padding:12px 5px 0 0;float:left;font-size:11px;font-weight:400;color:#aeb5b8;text-shadow:1px 1px #000}#controlKit .panel .group-list .group .sub-group-list .sub-group .wrap .wrap{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;width:70%;padding:5px 0 0;float:right;height:100%}#controlKit .panel .group-list .group:last-child .scroll-buffer:nth-of-type(3),#controlKit .panel .group-list .group:last-child .sub-group-list{border-bottom:none}#controlKit .panel .scroll-wrap{position:relative;overflow:hidden}#controlKit .panel .scroll-buffer{width:100%;height:8px;border-top:1px solid #3b4447;border-bottom:1px solid #1e2224}#controlKit .panel .scrollBar{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;width:15px;height:100%;float:right;top:0;padding:0;margin:0;position:relative;background:#212628;background-image:linear-gradient(to right,#242424 0,#2e2e2e 100%)}#controlKit .panel .scrollBar .track{padding:0 3px 0 2px}#controlKit .panel .scrollBar .track .thumb{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;width:11px;position:absolute;cursor:pointer;background-color:#343434;border:1px solid #1b1f21;border-radius:10px;-moz-border-radius:10px;box-shadow:inset 0 1px 0 0 #434b50}#controlKit .panel .menu,#controlKit .panel .menu-active,#controlKit .picker .menu{float:right;padding:5px 0 0}#controlKit .panel .menu input[type=button],#controlKit .panel .menu-active input[type=button],#controlKit .picker .menu input[type=button]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;cursor:pointer;height:20px;border:none;vertical-align:top;border-radius:2px;-moz-border-radius:2px;font-family:Arial,sans-serif;font-size:10px;font-weight:700;color:#aaa;text-shadow:0 -1px #000;text-transform:uppercase;box-shadow:0 0 0 1px #131313 inset,-1px 2px 0 0 #212527 inset;outline:0}#controlKit .panel .menu .button-menu-close,#controlKit .panel .menu .button-menu-hide,#controlKit .panel .menu .button-menu-show,#controlKit .panel .menu-active .button-menu-close,#controlKit .panel .menu-active .button-menu-hide,#controlKit .panel .menu-active .button-menu-show,#controlKit .picker .menu .button-menu-close,#controlKit .picker .menu .button-menu-hide,#controlKit .picker .menu .button-menu-show{width:20px;margin-left:4px}#controlKit .panel .menu .button-menu-hide,#controlKit .panel .menu-active .button-menu-hide,#controlKit .picker .menu .button-menu-hide{background:url(data:image/png;base64,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) 50% 50% no-repeat,#1a1d1f}#controlKit .panel .menu .button-menu-hide:hover,#controlKit .panel .menu-active .button-menu-hide:hover,#controlKit .picker .menu .button-menu-hide:hover{background:url(data:image/png;base64,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) 50% 50% no-repeat,#000;box-shadow:#fff 0,#000 100%}#controlKit .panel .menu .button-menu-show,#controlKit .panel .menu-active .button-menu-show,#controlKit .picker .menu .button-menu-show{background:url(data:image/png;base64,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) 50% 50% no-repeat,#1a1d1f}#controlKit .panel .menu .button-menu-show:hover,#controlKit .panel .menu-active .button-menu-show:hover,#controlKit .picker .menu .button-menu-show:hover{background:url(data:image/png;base64,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) 50% 50% no-repeat,#000;box-shadow:#fff 0,#000 100%}#controlKit .panel .menu .button-menu-close,#controlKit .panel .menu-active .button-menu-close,#controlKit .picker .menu .button-menu-close{background:url(data:image/png;base64,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) 50% 50% no-repeat,#1a1d1f}#controlKit .panel .menu .button-menu-close:hover,#controlKit .panel .menu-active .button-menu-close:hover,#controlKit .picker .menu .button-menu-close:hover{background:url(data:image/png;base64,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) 50% 50% no-repeat,#000;box-shadow:#fff 0,#000 100%}#controlKit .panel .menu .button-menu-undo,#controlKit .panel .menu-active .button-menu-undo{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAALCAYAAABLcGxfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAYVJREFUeNpckD1IW1EYhp9z7rm3oqkhzZ/xD6tR1EpFKelghlBonVwKDpaWDnbq2lVF0MHBUbdCp5aCUigdnISgoUPAqWMlYsGlNtYK1Zhzzr1dVG7zbt/L97x87yceTz0lrHKp+BJYBHqurG/AfC5f+AwgwkC5VHybyrTPdvdmA9f1BEJQO//LYWWfk+OfS7l8YeEGKJeKr7ND99aT6QzWmHPgE+AAM47rcnR4wI/K/qS8Ts90dq+lMh1YY1aBFuAF8AyQVuvNrrt9xOKJjyIau/MOGJp49ORhrXZh9r7ubgPPc/nCr3A36TjG931HDY+OTyjP6w8AKR01MvagcFqtxoH/gLPT3wexRDKrIrdbd6Tj9AshcD0PQaTa3BI5oUFa13sIAiTwyrd2wWqNqV/uAR3AccOrPyRSbUrX63/Ulbfk+34FxJdyqdgELAO3gDgwPTBy/3pvRoWC3gMkUm3pSDT6RkqJcl3iyXQQWIs1ZgXYUo239g4M1sKz1fo7MAdsAPwbAL9hftvTlNkdAAAAAElFTkSuQmCC) 20% 50% no-repeat,#1a1d1f;padding:0 6px 1px 0;width:38px;vertical-align:top;text-align:end}#controlKit .panel .menu .button-menu-undo:hover,#controlKit .panel .menu-active .button-menu-undo:hover{background:url(data:image/png;base64,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) 20% 50% no-repeat,#000;box-shadow:#fff 0,#000 100%}#controlKit .panel .menu .button-menu-load,#controlKit .panel .menu-active .button-menu-load{margin-right:2px}#controlKit .panel .menu .button-menu-load,#controlKit .panel .menu .button-menu-save,#controlKit .panel .menu-active .button-menu-load,#controlKit .panel .menu-active .button-menu-save{background:#1a1d1f;font-size:9px!important}#controlKit .panel .menu .button-menu-load:hover,#controlKit .panel .menu .button-menu-save:hover,#controlKit .panel .menu-active .button-menu-load:hover,#controlKit .panel .menu-active .button-menu-save:hover{background:#000}#controlKit .panel .menu .wrap{display:none}#controlKit .panel .menu-active{width:100%;float:left}#controlKit .panel .menu-active .wrap{display:inline}#controlKit .panel .menu-active .button-menu-close,#controlKit .panel .menu-active .button-menu-hide,#controlKit .panel .menu-active .button-menu-show{float:right}#controlKit .panel .arrow-s-max{background:url(data:image/png;base64,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) center no-repeat}#controlKit .panel .arrow-s-min{background:url(data:image/png;base64,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) center no-repeat}#controlKit .panel .arrow-s-max,#controlKit .panel .arrow-s-min{width:100%;height:20px}#controlKit .panel .arrow-b-max{background:url(data:image/png;base64,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) center no-repeat}#controlKit .panel .arrow-b-min{background:url(data:image/png;base64,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) center no-repeat}#controlKit .panel .arrow-b-sub-max{background:url(data:image/png;base64,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) center no-repeat}#controlKit .panel .arrow-b-sub-min{background:url(data:image/png;base64,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) center no-repeat}#controlKit .panel .arrow-b-max,#controlKit .panel .arrow-b-min,#controlKit .panel .arrow-b-sub-max,#controlKit .panel .arrow-b-sub-min{width:10px;height:100%;float:right}#controlKit .picker{pointer-events:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border-radius:3px;-moz-border-radius:3px;background-color:#3b3b3b;font-family:Arial,sans-serif;font-size:11px;color:#fff;text-shadow:1px 1px #000;overflow:hidden;position:absolute;z-index:2147483631;width:360px;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-shadow:0 2px 2px rgba(0,0,0,.25)}#controlKit .picker canvas{vertical-align:bottom;cursor:pointer}#controlKit .picker .wrap{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:10px;float:left}#controlKit .picker .field-wrap{padding:3px}#controlKit .picker .slider-wrap{padding:3px 13px 3px 3px}#controlKit .picker .field-wrap,#controlKit .picker .input-wrap,#controlKit .picker .slider-wrap{height:auto;overflow:hidden;float:left}#controlKit .picker .input-wrap{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #242424;border-radius:2px;-moz-border-radius:2px;width:140px;float:right;padding:5px 10px 1px 0}#controlKit .picker .input-field{width:50%;float:right;margin-bottom:4px}#controlKit .picker .input-field .label{padding:8px 0 0;color:#878787;text-align:center;text-transform:uppercase;font-weight:700;text-shadow:1px 1px #1a1a1a;width:40%}#controlKit .picker .input-field .wrap{padding:0;width:60%;height:auto;float:right}#controlKit .picker .controls-wrap{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;width:100%;height:auto;float:right;padding:9px 0 0}#controlKit .picker .controls-wrap input[type=button]{float:right;width:65px;margin:0 0 0 10px}#controlKit .picker .color-contrast{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:none;box-shadow:0 0 0 1px #1f1f1f inset;border-radius:2px;-moz-border-radius:2px;height:25px;padding:3px;width:80%;margin-bottom:4px;float:right}#controlKit .picker .color-contrast div{width:50%;height:100%;float:left}#controlKit .picker input[type=text]{padding:0;text-align:center;width:60%;float:right}#controlKit .picker .wrap .input-wrap:nth-of-type(3){border-bottom-left-radius:0;border-bottom-right-radius:0}#controlKit .picker .wrap .input-wrap:nth-of-type(4){border-top:none;border-top-left-radius:0;border-top-right-radius:0}#controlKit .picker .wrap .input-wrap:nth-of-type(4) .input-field{width:100%}#controlKit .picker .wrap .input-wrap:nth-of-type(4) .input-field .label{width:20%}#controlKit .picker .wrap .input-wrap:nth-of-type(4) input[type=text]{width:80%}#controlKit .picker .field-wrap,#controlKit .picker .slider-wrap{background:#1e2224;border:none;box-shadow:0 0 0 1px #1f1f1f inset;border-radius:2px;-moz-border-radius:2px;position:relative;margin-right:5px}#controlKit .picker .field-wrap .indicator,#controlKit .picker .slider-wrap .indicator{position:absolute;border:2px solid #fff;box-shadow:0 1px black,0 1px #000 inset;cursor:pointer}#controlKit .picker .field-wrap .indicator{width:8px;height:8px;left:50%;top:50%;border-radius:50%;-moz-border-radius:50%}#controlKit .picker .slider-wrap .indicator{width:14px;height:3px;border-radius:8px;-moz-border-radius:8px;left:1px;top:1px}#controlKit .picker .slider-wrap .indicator:after{content:'';width:0;height:0;border-top:4.5px solid transparent;border-bottom:4.5px solid transparent;border-right:4px solid #fff;float:right;position:absolute;top:-2px;left:19px}#controlKit .picker .slider-wrap .indicator:before{content:'';width:0;height:0;border-top:4.5px solid transparent;border-bottom:4.5px solid transparent;border-right:4px solid #000;float:right;position:absolute;top:-3px;left:19px}"
};e.exports=i},{}],59:[function(t,e,n){function i(t,e,n){this.sender=t,this.type=e,this.data=n}e.exports=i},{}],60:[function(t,e,n){function i(){this._listeners=[]}i.prototype={addEventListener:function(t,e,n){this._listeners[t]=this._listeners[t]||[],this._listeners[t].push({obj:e,method:n})},dispatchEvent:function(t){var e=t.type;if(this.hasEventListener(e))for(var n,i,r=this._listeners[e],o=-1,s=r.length;++o<s;){if(n=r[o].obj,i=r[o].method,!n[i])throw n+" has no method "+i;n[i](t)}},removeEventListener:function(t,e,n){if(this.hasEventListener(t))for(var i=this._listeners[t],r=i.length;--r>-1;)if(i[r].obj==e&&i[r].method==n){i.splice(r,1),0==i.length&&delete this._listeners[t];break}},removeAllEventListeners:function(){this._listeners=[]},hasEventListener:function(t){return void 0!=this._listeners[t]&&null!=this._listeners[t]}},e.exports=i},{}],61:[function(t,e,n){var i={LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",NONE:"none"};e.exports=i},{}],62:[function(t,e,n){function i(t,e,n){this._parentNode=t,this._targetNode=e,this._wrapHeight=n;var i=this._wrapNode=(new r).setStyleClass(s.ScrollWrap),l=this._node=(new r).setStyleClass(s.ScrollBar),u=this._trackNode=(new r).setStyleClass(s.ScrollBarTrack),h=this._thumbNode=(new r).setStyleClass(s.ScrollBarThumb);t.removeChild(e),t.addChild(i),t.addChildAt(l,0),i.addChild(e),l.addChild(u),u.addChild(h),this._mouseThumbOffset=0,this._scrollHeight=0,this._scrollUnit=0,this._scrollMin=0,this._scrollMax=0,h.setPositionY(o.SCROLLBAR_TRACK_PADDING),h.addEventListener(a.MOUSE_DOWN,this._onThumbDragStart.bind(this)),this._isValid=!1,this._enabled=!1;var c=l.getElement(),p=h.getElement(),d=this;this._onMouseWheel=function(t){var e=t.sender,n=e.getHoverElement();if(n==c||n==p){var i=.0125*d._scrollHeight;d._scroll(h.getPositionY()+e.getWheelDirection()*i*-1),t.data.preventDefault()}},this.addMouseListener()}var r=t("../document/Node"),o=t("../../component/Metric"),s=t("../document/CSS"),a=t("../document/DocumentEvent"),l=(t("../document/NodeEvent"),t("../document/Mouse"));i.prototype.update=function(){var t=this._targetNode,e=this._thumbNode,n=o.SCROLLBAR_TRACK_PADDING,i=this._wrapHeight,r=t.getHeight(),s=i-2*n;e.setHeight(s);var a=i/r;if(this._isValid=!1,!(a>1)){var l=s*a;this._scrollHeight=s,this._scrollUnit=r-this._scrollHeight-2*n,this._scrollMin=n,this._scrollMax=n+s-l,e.setHeight(l),this._isValid=!0}},i.prototype._scroll=function(t){var e=this._scrollMin,n=this._scrollMax,i=Math.max(e,Math.min(t,n)),r=(i-e)/(n-e);this._thumbNode.setPositionY(i),this._targetNode.setPositionY(r*this._scrollUnit*-1)},i.prototype._onThumbDragStart=function(){if(this._isValid&&!this._enabled){var t=a.MOUSE_MOVE,e=a.MOUSE_UP,n=l.get(),i=this._trackNode.getPositionGlobalY();this._mouseThumbOffset=n.getY()-this._thumbNode.getPositionGlobalY();var r=this,o=function(){r._scroll(n.getY()-i-r._mouseThumbOffset)},s=function(){document.removeEventListener(t,o,!1),document.removeEventListener(e,s,!1)};document.addEventListener(t,o,!1),document.addEventListener(e,s,!1),this._scroll(n.getY()-i-r._mouseThumbOffset)}},i.prototype.enable=function(){this._enabled=!1,this._updateAppearance()},i.prototype.disable=function(){this._enabled=!0,this._updateAppearance()},i.prototype.reset=function(){this._scroll(0)},i.prototype._updateAppearance=function(){this._enabled?(this._node.setStyleProperty("display","none"),this._targetNode.setPositionY(0),this._thumbNode.setPositionY(o.SCROLLBAR_TRACK_PADDING)):this._node.setStyleProperty("display","block")},i.prototype.isValid=function(){return this._isValid},i.prototype.setWrapHeight=function(t){this._wrapHeight=t,this.update()},i.prototype.removeTargetNode=function(){return this._wrapNode.removeChild(this._targetNode)},i.prototype.removeMouseListener=function(){l.get().removeEventListener(a.MOUSE_WHEEL,this,"_onMouseWheel")},i.prototype.addMouseListener=function(){l.get().addEventListener(a.MOUSE_WHEEL,this,"_onMouseWheel")},i.prototype.removeFromParent=function(){var t=this._parentNode,e=this._node,n=this._targetNode;return e.removeChild(n),t.removeChild(this._wrapNode),t.removeChild(e),n},i.prototype.getWrapNode=function(){return this._wrapNode},i.prototype.getNode=function(){return this._node},i.prototype.getTargetNode=function(){return this._targetNode},e.exports=i},{"../../component/Metric":23,"../document/CSS":53,"../document/DocumentEvent":54,"../document/Mouse":55,"../document/Node":56,"../document/NodeEvent":57}],63:[function(t,e,n){function i(t,e){r.apply(this,arguments),e=e||{},e.height=e.height||null,e.enable=void 0===e.enable?!0:e.enable,this._parent=t,this._height=e.height,this._enabled=e.enable,this._scrollBar=null,this._node=new o(o.LIST_ITEM),this._wrapNode=new o,this._listNode=new o(o.LIST),this._parent.getList().addChild(this._node)}var r=t("../core/event/EventDispatcher"),o=t("../core/document/Node"),s=t("../core/layout/ScrollBar");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.addScrollWrap=function(){var t=this._wrapNode,e=this.getMaxHeight();this._scrollBar=new s(t,this._listNode,e),this.isEnabled()&&t.setHeight(e)},i.prototype.preventSelectDrag=function(){this._parent.preventSelectDrag(),this.hasScrollWrap()&&(this._wrapNode.getElement().scrollTop=0)},i.prototype.hasMaxHeight=function(){return null!=this._height},i.prototype.getMaxHeight=function(){return this._height},i.prototype.hasScrollWrap=function(){return null!=this._scrollBar},i.prototype.hasLabel=function(){return null!=this._lablNode},i.prototype.disable=function(){this._enabled=!1,this._updateAppearance()},i.prototype.enable=function(){this._enabled=!0,this._updateAppearance()},i.prototype.isDisabled=function(){return!this._enabled},i.prototype.isEnabled=function(){return this._enabled},i.prototype.getList=function(){return this._listNode},e.exports=i},{"../core/document/Node":56,"../core/event/EventDispatcher":60,"../core/layout/ScrollBar":62}],64:[function(t,e,n){function i(t,e){e=e||{},e.label=e.label||null,e.useLabels=e.useLabels||!0,e.enable=void 0===e.enable?!0:e.enable,o.apply(this,arguments),this._components=[],this._subGroups=[];var n=this._node,i=this._wrapNode,r=this._listNode;n.setStyleClass(s.Group),i.setStyleClass(s.Wrap),r.setStyleClass(s.SubGroupList),i.addChild(r);var l=e.label;if(l){var u=new a,f=new a,m=new a(a.SPAN),g=this._indiNode=new a;u.setStyleClass(s.Head),f.setStyleClass(s.Wrap),m.setStyleClass(s.Label),g.setStyleClass(s.ArrowBMax),m.setProperty("innerHTML",l),u.addChild(g),f.addChild(m),u.addChild(f),n.addChild(u),u.addEventListener(c.MOUSE_DOWN,this._onHeadTrigger.bind(this)),this.addEventListener(d.GROUP_LIST_SIZE_CHANGE,t,"onGroupListSizeChange"),this._updateAppearance()}if(this.hasMaxHeight()&&this.addScrollWrap(),n.addChild(i),this.hasMaxHeight()){if(!l){var v=this._scrollBufferTop=new a;v.setStyleClass(s.ScrollBuffer),n.addChildAt(v,0)}var y=this._scrollBufferBottom=new a;y.setStyleClass(s.ScrollBuffer),n.addChild(y)}t=this._parent,t.addEventListener(p.PANEL_MOVE_BEGIN,this,"onPanelMoveBegin"),t.addEventListener(p.PANEL_MOVE,this,"onPanelMove"),t.addEventListener(p.PANEL_MOVE_END,this,"onPanelMoveEnd"),t.addEventListener(p.PANEL_HIDE,this,"onPanelHide"),t.addEventListener(p.PANEL_SHOW,this,"onPanelShow"),t.addEventListener(p.PANEL_SCROLL_WRAP_ADDED,this,"onPanelScrollWrapAdded"),t.addEventListener(p.PANEL_SCROLL_WRAP_REMOVED,this,"onPanelScrollWrapRemoved"),t.addEventListener(p.PANEL_SIZE_CHANGE,this,"onPanelSizeChange"),t.addEventListener(h.WINDOW_RESIZE,this,"onWindowResize"),this.addEventListener(d.GROUP_SIZE_CHANGE,t,"onGroupListSizeChange")}function r(t){return t instanceof f&&!(t instanceof m)&&!(t instanceof g)}var o=t("./AbstractGroup"),s=t("../core/document/CSS"),a=t("../core/document/Node"),l=t("./SubGroup"),u=t("../core/event/Event"),h=t("../core/document/DocumentEvent"),c=t("../core/document/NodeEvent"),p=t("./PanelEvent"),d=t("./GroupEvent"),f=t("../core/ObjectComponent"),m=t("../component/ValuePlotter"),g=t("../component/FunctionPlotter");i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype.onPanelMoveBegin=function(){this.dispatchEvent(new u(this,p.PANEL_MOVE_BEGIN,null))},i.prototype.onPanelMove=function(){this.dispatchEvent(new u(this,p.PANEL_MOVE,null))},i.prototype.onPanelMoveEnd=function(){this.dispatchEvent(new u(this,p.PANEL_MOVE_END,null))},i.prototype.onPanelScrollWrapAdded=function(){this.dispatchEvent(new u(this,d.GROUP_SIZE_CHANGE,null))},i.prototype.onPanelScrollWrapRemoved=function(){this.dispatchEvent(new u(this,d.GROUP_SIZE_CHANGE,null))},i.prototype.onPanelHide=function(){this.dispatchEvent(new u(this,d.SUBGROUP_DISABLE,null))},i.prototype.onPanelShow=function(){this.dispatchEvent(new u(this,d.SUBGROUP_ENABLE,null))},i.prototype.onPanelSizeChange=function(){this.dispatchEvent(new u(this,d.GROUP_SIZE_CHANGE,null))},i.prototype.onWindowResize=function(t){this.dispatchEvent(t)},i.prototype.onSubGroupTrigger=function(){if(this._updateHeight(),this.hasMaxHeight()){var t=this._scrollBar,e=this._wrapNode,n=this._scrollBufferTop,i=this._scrollBufferBottom;t.update(),t.isValid()?(t.enable(),e.setHeight(this.getMaxHeight()),n&&n.setStyleProperty("display","block"),i&&i.setStyleProperty("display","block")):(t.disable(),e.setHeight(e.getChildAt(1).getHeight()),n&&n.setStyleProperty("display","none"),i&&i.setStyleProperty("display","none")),this.dispatchEvent(new u(this,d.GROUP_SIZE_CHANGE,null))}},i.prototype._onHeadTrigger=function(){this._enabled=!this._enabled,this._updateAppearance(),this.dispatchEvent(new u(this,d.GROUP_LIST_SIZE_CHANGE,null))},i.prototype.addComponent=function(){var t=arguments[0],e=Array.prototype.slice.call(arguments);e.shift(),e.unshift(this._getSubGroup());var n=Object.create(t.prototype);t.apply(n,e),this._components.push(n),this._updateHeight()},i.prototype._updateHeight=function(){this._getSubGroup().update(),this.dispatchEvent(new u(this,d.GROUP_SIZE_CHANGE,null)),this.hasMaxHeight()&&this._scrollBar.update()},i.prototype._updateAppearance=function(){var t=this._wrapNode,e=this._indiNode,n=this._scrollBar,i=this._scrollBufferTop,r=this._scrollBufferBottom;if(this.isDisabled())return t.setHeight(0),e&&e.setStyleClass(s.ArrowBMin),void(n&&(i&&i.setStyleProperty("display","none"),r&&r.setStyleProperty("display","none")));if(this.hasMaxHeight()){var o=this.getMaxHeight(),a=t.getChildAt(1).getHeight();t.setHeight(o>a?a:o),n.isValid()&&(i&&i.setStyleProperty("display","block"),r&&r.setStyleProperty("display","block"))}else t.deleteStyleProperty("height");e&&e.setStyleClass(s.ArrowBMax)},i.prototype.onGroupSizeUpdate=function(){this._updateAppearance(),this.hasMaxHeight()&&this._scrollBar.update()},i.prototype.addSubGroup=function(t){return this._subGroups.push(new l(this,t)),this._updateHeight(),this},i.prototype._getSubGroup=function(){var t=this._subGroups;return 0==t.length&&t.push(new l(this)),t[t.length-1]},i.prototype.getComponents=function(){return this._components},i.prototype.setData=function(t){for(var e,n,i=this._components,o=-1,s=0,a=i.length;++o<a;)e=i[o],r(e)&&(n=t[s++],e.setValue(n[Object.keys(n)[0]]))},i.prototype.getData=function(){for(var t,e=this._components,n=-1,i=e.length,o=[];++n<i;)t=e[n],r(t)&&o.push(t.getData());return o},e.exports=i},{"../component/FunctionPlotter":20,"../component/ValuePlotter":40,"../core/ObjectComponent":46,"../core/document/CSS":53,"../core/document/DocumentEvent":54,"../core/document/Node":56,"../core/document/NodeEvent":57,"../core/event/Event":59,"./AbstractGroup":63,"./GroupEvent":65,"./PanelEvent":68,"./SubGroup":69}],65:[function(t,e,n){var i={GROUP_SIZE_CHANGE:"groupSizeChange",GROUP_LIST_SIZE_CHANGE:"groupListSizeChange",GROUP_SIZE_UPDATE:"groupSizeUpdate",SUBGROUP_TRIGGER:"subGroupTrigger",SUBGROUP_ENABLE:"enableSubGroup",SUBGROUP_DISABLE:"disableSubGroup"};e.exports=i},{}],66:[function(t,e,n){var i={UPDATE_MENU:"updateMenu"};e.exports=i},{}],67:[function(t,e,n){function i(t,e){h.apply(this,arguments),this._parent=t,e=e||{},e.valign=e.valign||U,e.align=e.align||V,e.position=e.position||L,e.width=e.width||N,e.height=e.height||I,e.ratio=e.ratio||F,e.label=e.label||B,e.opacity=e.opacity||z,e.fixed=void 0===e.fixed?j:e.fixed,e.enable=void 0===e.enable?H:e.enable,e.vconstrain=void 0===e.vconstrain?q:e.vconstrain,e.dock&&(e.dock.align=e.dock.align||G.align,e.dock.resizable=e.dock.resizable||G.resizable),this._width=Math.max(k,Math.min(e.width,D)),this._height=e.height?Math.max(0,Math.min(e.height,window.innerHeight)):null,this._fixed=e.fixed,this._dock=e.dock,this._position=e.position,this._vConstrain=e.vconstrain,this._label=e.label,this._enabled=e.enable,this._groups=[];var n=this._width,i=this._fixed,o=this._dock,s=this._position,c=this._label,f=e.align,g=e.opacity,v=this._node=(new r).setStyleClass(a.Panel),y=this._headNode=(new r).setStyleClass(a.Head),_=(new r).setStyleClass(a.Menu),A=(new r).setStyleClass(a.Wrap),b=new r(r.SPAN).setStyleClass(a.Label),x=this._wrapNode=new r(r.DIV).setStyleClass(a.Wrap),w=this._listNode=new r(r.LIST).setStyleClass(a.GroupList);if(v.setWidth(n),b.setProperty("innerHTML",c),A.addChild(b),y.addChild(_),y.addChild(A),x.addChild(w),v.addChild(y),v.addChild(x),t.getNode().addChild(v),o){var T=o.align;(T==l.LEFT||T==l.RIGHT)&&(f=T,this._height=window.innerHeight),T==l.TOP||T==l.BOTTOM,v.setStyleProperty("float",f)}else{var E=this._menuHide=new r(r.INPUT_BUTTON);if(E.setStyleClass(a.ButtonMenuHide),E.addEventListener(d.MOUSE_DOWN,this._onMenuHideMouseDown.bind(this)),_.addChild(E),this._parent.panelsAreClosable()){var S=new r(r.INPUT_BUTTON);S.setStyleClass(a.ButtonMenuClose),S.addEventListener(d.MOUSE_DOWN,this.disable.bind(this)),_.addChild(S)}if(this.hasMaxHeight()&&this._addScrollWrap(),i){if(s){var M=s[0],C=s[1];0!=C&&v.setPositionY(C),0!=M&&(f==l.RIGHT?v.getElement().marginRight=M:v.setPositionX(M))}v.setStyleProperty("float",f)}else s?f==l.LEFT||f==l.TOP||f==l.BOTTOM?v.setPositionGlobal(s[0],s[1]):(v.setPositionGlobal(window.innerWidth-n-s[0],s[1]),this._position=v.getPosition()):this._position=v.getPosition(),this._mouseOffset=[0,0],v.setStyleProperty("position","absolute"),y.addEventListener(d.MOUSE_DOWN,this._onHeadDragStart.bind(this))}var P=this._parent,R=P.historyIsEnabled(),O=P.statesAreEnabled();(R||O)&&_.addChildAt(new r,0).setStyleClass(a.Wrap),R&&(this._menuUndo=_.getChildAt(0).addChild(new r(r.INPUT_BUTTON)).setStyleClass(a.ButtonMenuUndo).setProperty("value",u.get().getNumStates()).addEventListener(d.MOUSE_DOWN,function(){u.get().popState()}),P.addEventListener(m.UPDATE_MENU,this,"onUpdateMenu")),O&&(_.getChildAt(0).addChild(new r(r.INPUT_BUTTON)).setStyleClass(a.ButtonMenuLoad).setProperty("value","Load").addEventListener(d.MOUSE_DOWN,function(){t._loadState()}),_.getChildAt(0).addChild(new r(r.INPUT_BUTTON)).setStyleClass(a.ButtonMenuSave).setProperty("value","Save").addEventListener(d.MOUSE_DOWN,function(){t._saveState()})),(R||O)&&(y.addEventListener(d.MOUSE_OVER,function(){_.setStyleClass(a.MenuActive)}),y.addEventListener(d.MOUSE_OUT,function(){_.setStyleClass(a.Menu)})),1!=g&&0!=g&&v.setStyleProperty("opacity",g),window.addEventListener(p.WINDOW_RESIZE,this._onWindowResize.bind(this)),this._updateAppearance()}var r=t("../core/document/Node"),o=t("./Group"),s=t("../core/layout/ScrollBar"),a=t("../core/document/CSS"),l=t("../core/layout/LayoutMode"),u=t("../core/History"),h=t("../core/event/EventDispatcher"),c=t("../core/event/Event"),p=t("../core/document/DocumentEvent"),d=t("../core/document/NodeEvent"),f=t("./PanelEvent"),m=t("./MenuEvent"),g=t("../core/document/Mouse"),v=t("../component/StringInput"),y=t("../component/NumberInput"),_=t("../component/Range"),A=t("../component/Checkbox"),b=t("../component/Color"),x=t("../component/Button"),w=t("../component/Select"),T=t("../component/Slider"),E=t("../component/FunctionPlotter"),S=t("../component/Pad"),M=t("../component/ValuePlotter"),C=t("../component/NumberOutput"),P=t("../component/StringOutput"),R=t("../component/Canvas"),O=t("../component/SVG"),L=null,N=200,I=null,k=100,D=600,F=40,B="Control Panel",U=l.TOP,V=l.RIGHT,G={align:l.RIGHT,resizable:!0},H=!0,z=1,j=!0,q=!0;i.prototype=Object.create(h.prototype),i.prototype.constructor=i,i.prototype._onMenuHideMouseDown=function(){this._enabled=!this._enabled,this._updateAppearance()},i.prototype.onUpdateMenu=function(){this._menuUndo.setProperty("value",u.get().getNumStates())},i.prototype._onMenuUndoTrigger=function(){u.get().popState()},i.prototype._updateAppearance=function(){var t=this._node,e=this._headNode,n=this._menuHide;this._enabled?(t.setHeight(e.getHeight()+this._wrapNode.getHeight()),t.deleteStyleProperty("height"),n.setStyleClass(a.ButtonMenuHide),e.setStyleClass(a.Head),this.dispatchEvent(new c(this,f.PANEL_SHOW,null))):(e.getStyle().borderBottom="none",t.setHeight(e.getHeight()),n.setStyleClass(a.ButtonMenuShow),this.dispatchEvent(new c(this,f.PANEL_HIDE,null)))},i.prototype._onHeadDragStart=function(){var t=this._parent.getNode(),e=this._node,n=e.getPositionGlobal(),i=g.get().getPosition(),r=this._mouseOffset;r[0]=i[0]-n[0],r[1]=i[1]-n[1];var o=p.MOUSE_MOVE,s=p.MOUSE_UP,a=this,l=function(){a._updatePosition()},u=function(){document.removeEventListener(o,l,!1),document.removeEventListener(s,u,!1),a.dispatchEvent(new c(this,f.PANEL_MOVE_END,null))};t.removeChild(e),t.addChild(e),document.addEventListener(o,l,!1),document.addEventListener(s,u,!1),this.dispatchEvent(new c(this,f.PANEL_MOVE_BEGIN,null))},i.prototype._updatePosition=function(){var t=g.get().getPosition(),e=this._mouseOffset,n=this._position;n[0]=t[0]-e[0],n[1]=t[1]-e[1],this._constrainHeight(),this._constrainPosition(),this.dispatchEvent(new c(this,f.PANEL_MOVE,null))},i.prototype._onWindowResize=function(){if(this.isDocked()){var t=this._dock;if(t.align==l.RIGHT||t.align==l.LEFT){var e=window.innerHeight,n=this._listNode.getHeight(),i=this._headNode.getHeight();this._height=e,e-i>n?this._scrollBar.disable():this._scrollBar.enable(),this.dispatchEvent(new c(this,f.PANEL_SIZE_CHANGE))}}else this.isFixed()||this._constrainPosition();this._constrainHeight(),this.dispatchEvent(new c(this,p.WINDOW_RESIZE))},i.prototype._constrainPosition=function(){var t=this._node,e=window.innerWidth-t.getWidth(),n=window.innerHeight-t.getHeight(),i=this._position;i[0]=Math.max(0,Math.min(i[0],e)),i[1]=Math.max(0,Math.min(i[1],n)),t.setPositionGlobal(i[0],i[1])},i.prototype._constrainHeight=function(){if(this._vConstrain){var t,e=this.hasMaxHeight(),n=this.hasScrollWrap(),i=this._headNode,r=this._wrapNode,o=this._scrollBar,s=this.isDocked()?0:this.isFixed()?0:this._position[1],a=e?this.getMaxHeight():n?o.getTargetNode().getHeight():r.getHeight(),l=s+a,u=i.getHeight(),h=window.innerHeight,p=h-l-u;if(0>p){if(t=a+p,!n)return this._addScrollWrap(t),void this.dispatchEvent(new c(this,f.PANEL_SCROLL_WRAP_ADDED,null));o.setWrapHeight(t),r.setHeight(t)}else!e&&n&&(o.removeFromParent(),r.addChild(this._listNode),r.deleteStyleProperty("height"),this._scrollBar.removeMouseListener(),this._scrollBar=null,this.dispatchEvent(new c(this,f.PANEL_SCROLL_WRAP_REMOVED,null)))}},i.prototype.onGroupListSizeChange=function(){this.hasScrollWrap()&&this._updateScrollWrap(),this._constrainHeight()},i.prototype._updateScrollWrap=function(){var t=this._wrapNode,e=this._scrollBar,n=this.hasMaxHeight()?this.getMaxHeight():100,i=this._listNode.getHeight();t.setHeight(n>i?i:n),e.update(),e.isValid()?(e.enable(),t.setHeight(n)):(e.disable(),t.setHeight(t.getChildAt(1).getHeight()))},i.prototype._addScrollWrap=function(){var t=this._wrapNode,e=this._listNode,n=0==arguments.length?this.getMaxHeight():arguments[0];this._scrollBar=new s(t,e,n),this.isEnabled()&&t.setHeight(n)},i.prototype.hasScrollWrap=function(){return null!=this._scrollBar},i.prototype.preventSelectDrag=function(){this.hasScrollWrap()&&(this._wrapNode.getElement().scrollTop=0)},i.prototype.enable=function(){this._node.setStyleProperty("display","block"),this._enabled=!0,this._updateAppearance()},i.prototype.disable=function(){this._node.setStyleProperty("display","none"),this._enabled=!1,this._updateAppearance()},i.prototype.isEnabled=function(){return this._enabled},i.prototype.isDisabled=function(){return!this._enabled},i.prototype.hasMaxHeight=function(){return null!=this._height},i.prototype.getMaxHeight=function(){return this._height},i.prototype.isDocked=function(){return this._dock},i.prototype.isFixed=function(){return this._fixed},i.prototype.getGroups=function(){return this._groups},i.prototype.getNode=function(){return this._node},i.prototype.getList=function(){return this._listNode},i.prototype.getWidth=function(){return this._width},i.prototype.getPosition=function(){return this._position},i.prototype.getParent=function(){return this._parent},i.prototype.addGroup=function(t){var e=new o(this,t);return this._groups.push(e),this.isDocked()&&this.dispatchEvent(new c(this,f.PANEL_SIZE_CHANGE)),this},i.prototype.addSubGroup=function(t){var e=this._groups;return 0==e.length&&this.addGroup(),e[e.length-1].addSubGroup(t),this},i.prototype._addComponent=function(){var t,e=this._groups;return 0==e.length&&e.push(new o(this)),t=e[e.length-1],t.addComponent.apply(t,arguments),this},i.prototype.addStringInput=function(t,e,n){return this._addComponent(v,t,e,n)},i.prototype.addNumberInput=function(t,e,n){return this._addComponent(y,t,e,n)},i.prototype.addRange=function(t,e,n){return this._addComponent(_,t,e,n)},i.prototype.addCheckbox=function(t,e,n){return this._addComponent(A,t,e,n)},i.prototype.addColor=function(t,e,n){return this._addComponent(b,t,e,n)},i.prototype.addButton=function(t,e,n){return this._addComponent(x,t,e,n)},i.prototype.addSelect=function(t,e,n){return this._addComponent(w,t,e,n)},i.prototype.addSlider=function(t,e,n,i){return this._addComponent(T,t,e,n,i)},i.prototype.addFunctionPlotter=function(t,e,n){return this._addComponent(E,t,e,n)},i.prototype.addPad=function(t,e,n){return this._addComponent(S,t,e,n)},i.prototype.addValuePlotter=function(t,e,n){return this._addComponent(M,t,e,n)},i.prototype.addNumberOutput=function(t,e,n){return this._addComponent(C,t,e,n)},i.prototype.addStringOutput=function(t,e,n){return this._addComponent(P,t,e,n)},i.prototype.addCanvas=function(t){return this._addComponent(R,t)},i.prototype.addSVG=function(t){return this._addComponent(O,t)},i.prototype.setData=function(t){for(var e=this._groups,n=-1,i=e.length;++n<i;)e[n].setData(t[n])},i.prototype.getData=function(){for(var t=this._groups,e=-1,n=t.length,i=[];++e<n;)i.push(t[e].getData());return i},e.exports=i},{"../component/Button":14,"../component/Canvas":16,"../component/Checkbox":17,"../component/Color":18,"../component/FunctionPlotter":20,"../component/NumberInput":24,"../component/NumberOutput":26,"../component/Pad":29,"../component/Range":32,"../component/SVG":33,"../component/Select":35,"../component/Slider":36,"../component/StringInput":38,"../component/StringOutput":39,"../component/ValuePlotter":40,"../core/History":44,"../core/document/CSS":53,"../core/document/DocumentEvent":54,"../core/document/Mouse":55,"../core/document/Node":56,"../core/document/NodeEvent":57,"../core/event/Event":59,"../core/event/EventDispatcher":60,"../core/layout/LayoutMode":61,"../core/layout/ScrollBar":62,"./Group":64,"./MenuEvent":66,"./PanelEvent":68}],68:[function(t,e,n){var i={PANEL_MOVE_BEGIN:"panelMoveBegin",PANEL_MOVE:"panelMove",PANEL_MOVE_END:"panelMoveEnd",PANEL_SHOW:"panelShow",PANEL_HIDE:"panelHide",PANEL_SCROLL_WRAP_ADDED:"panelScrollWrapAdded",PANEL_SCROLL_WRAP_REMOVED:"panelScrollWrapRemoved",PANEL_SIZE_CHANGE:"panelSizeChange"};e.exports=i},{}],69:[function(t,e,n){function i(t,e){e=e||{},e.label=e.label||null,e.useLabels=void 0===e.useLabels?!0:e.useLabels,r.apply(this,arguments);var n=this._node,i=this._wrapNode,a=this._listNode;n.setStyleClass(s.SubGroup),i.setStyleClass(s.Wrap),i.addChild(a),n.addChild(i),this._useLabels=e.useLabels;var c=e.label;if(c&&0!=c.length&&"none"!=c){var p=this._headNode=new o,d=new o,f=new o(o.SPAN);p.setStyleClass(s.Head),d.setStyleClass(s.Wrap),f.setStyleClass(s.Label),f.setProperty("innerHTML",c),d.addChild(f),p.addChild(d);var m=this._indiNode=new o;m.setStyleClass(s.ArrowBSubMax),p.addChildAt(m,0),n.addChildAt(p,0),this.addEventListener(h.SUBGROUP_TRIGGER,this._parent,"onSubGroupTrigger"),p.addEventListener(l.MOUSE_DOWN,this._onHeadMouseDown.bind(this)),this._updateAppearance()}this.hasMaxHeight()&&this.addScrollWrap(),this._parent.addEventListener(h.SUBGROUP_ENABLE,this,"onEnable"),this._parent.addEventListener(h.SUBGROUP_DISABLE,this,"onDisable"),this._parent.addEventListener(u.PANEL_MOVE_END,this,"onPanelMoveEnd"),this._parent.addEventListener(h.GROUP_SIZE_CHANGE,this,"onGroupSizeChange"),this._parent.addEventListener(u.PANEL_SIZE_CHANGE,this,"onPanelSizeChange"),this._parent.addEventListener(l.WINDOW_RESIZE,this,"onWindowResize"),this.addEventListener(h.GROUP_SIZE_UPDATE,this._parent,"onGroupSizeUpdate")}var r=t("./AbstractGroup"),o=t("../core/document/Node"),s=t("../core/document/CSS"),a=t("../core/event/Event"),l=t("../core/document/DocumentEvent"),u=t("./PanelEvent"),h=t("./GroupEvent"),c=t("../core/ComponentEvent");i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype._onHeadMouseDown=function(){this._enabled=!this._enabled,this._onTrigger();var t=l.MOUSE_UP,e=this,n=function(){e._onTrigger(),document.removeEventListener(t,n)};document.addEventListener(t,n)},i.prototype._onTrigger=function(){this._updateAppearance(),this.dispatchEvent(new a(this,h.SUBGROUP_TRIGGER,null))},i.prototype._updateAppearance=function(){this.isDisabled()?(this._wrapNode.setHeight(0),this.hasLabel()&&(this._headNode.setStyleClass(s.HeadInactive),this._indiNode.setStyleClass(s.ArrowBSubMin))):(this.hasMaxHeight()?this._wrapNode.setHeight(this.getMaxHeight()):this._wrapNode.deleteStyleProperty("height"),this.hasLabel()&&(this._headNode.setStyleClass(s.Head),this._indiNode.setStyleClass(s.ArrowBSubMax)))},i.prototype.update=function(){this.hasMaxHeight()&&this._scrollBar.update()},i.prototype.onComponentSelectDrag=function(){this.preventSelectDrag()},i.prototype.onEnable=function(){this.isDisabled()||this.dispatchEvent(new a(this,c.ENABLE,null))},i.prototype.onDisable=function(){this.isDisabled()||this.dispatchEvent(new a(this,c.DISABLE,null))},i.prototype.onGroupSizeChange=function(){this.dispatchEvent(new a(this,h.GROUP_SIZE_CHANGE,null))},i.prototype.onGroupSizeUpdate=function(){this.dispatchEvent(new a(this,h.GROUP_SIZE_UPDATE,null))},i.prototype.onPanelMoveEnd=function(){this.dispatchEvent(new a(this,u.PANEL_MOVE_END,null))},i.prototype.onPanelSizeChange=function(){this._updateAppearance()},i.prototype.onWindowResize=function(t){this.dispatchEvent(t)},i.prototype.hasLabel=function(){return null!=this._headNode},i.prototype.addComponentNode=function(t){this._listNode.addChild(t)},i.prototype.usesLabels=function(){return this._useLabels},e.exports=i},{"../core/ComponentEvent":42,"../core/document/CSS":53,"../core/document/DocumentEvent":54,"../core/document/Node":56,"../core/event/Event":59,"./AbstractGroup":63,"./GroupEvent":65,"./PanelEvent":68}],70:[function(t,e,n){"use strict";e.exports=function(t){if("string"!=typeof t)throw new TypeError("expected a string");return t=t.replace(/([a-z])([A-Z])/g,"$1-$2"),t=t.replace(/[ \t\W]/g,"-"),t=t.replace(/^-+|-+$/g,""),t.toLowerCase()}},{}],71:[function(t,e,n){e.exports=function(t,e,n){function i(){var u=Date.now()-a;e>u&&u>=0?r=setTimeout(i,e-u):(r=null,n||(l=t.apply(s,o),s=o=null))}var r,o,s,a,l;null==e&&(e=100);var u=function(){s=this,o=arguments,a=Date.now();var u=n&&!r;return r||(r=setTimeout(i,e)),u&&(l=t.apply(s,o),s=o=null),l};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(l=t.apply(s,o),s=o=null,clearTimeout(r),r=null)},u}},{}],72:[function(t,e,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,n,i,o,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,o=new Array(i-1),l=1;i>l;l++)o[l-1]=arguments[l];n.apply(this,o)}else if(s(n)){for(i=arguments.length,o=new Array(i-1),l=1;i>l;l++)o[l-1]=arguments[l];for(u=n.slice(),i=u.length,l=0;i>l;l++)u[l].apply(this,o)}return!0},i.prototype.addListener=function(t,e){var n;if(!r(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;n=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},i.prototype.removeListener=function(t,e){var n,i,o,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?r(t._events[e])?1:t._events[e].length:0}},{}],73:[function(t,e,n){e.exports=function(t){"string"==typeof t&&(t=[t]);for(var e=[].slice.call(arguments,1),n=[],i=0;i<t.length-1;i++)n.push(t[i],e[i]||"");return n.push(t[i]),n.join("")}},{}],74:[function(t,e,n){(function(t){var n="undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window;(n._gsQueue||(n._gsQueue=[])).push(function(){"use strict";n._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var i=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},r=function(t,e,n){var i,r,o=t.cycle;for(i in o)r=o[i],t[i]="function"==typeof r?r(n,e[n]):r[n%r.length];delete t.cycle},o=function(t,e,i){n.call(this,t,e,i),this._cycle=0,this._yoyo=this.vars.yoyo===!0||!!this.vars.yoyoEase,
this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=o.prototype.render},s=1e-10,a=n._internals,l=a.isSelector,u=a.isArray,h=o.prototype=n.to({},.1,{}),c=[];o.version="1.20.2",h.constructor=o,h.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=n.killTweensOf,o.getTweensOf=n.getTweensOf,o.lagSmoothing=n.lagSmoothing,o.ticker=n.ticker,o.render=n.render,h.invalidate=function(){return this._yoyo=this.vars.yoyo===!0||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),n.prototype.invalidate.call(this)},h.updateTo=function(t,e){var i,r=this.ratio,o=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(i in t)this.vars[i]=t[i];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var s=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(s,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var a,l=1/(1-r),u=this._firstPT;u;)a=u.s+u.c,u.c*=l,u.s=a-u.c,u=u._next;return this},h.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,o,l,u,h,c,p,d,f,m=this._dirty?this.totalDuration():this._totalDuration,g=this._time,v=this._totalTime,y=this._cycle,_=this._duration,A=this._rawPrevTime;if(t>=m-1e-7&&t>=0?(this._totalTime=m,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=_,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,o="onComplete",i=i||this._timeline.autoRemoveChildren),0===_&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0>A||0>=t&&t>=-1e-7||A===s&&"isPause"!==this.data)&&A!==t&&(i=!0,A>s&&(o="onReverseComplete")),this._rawPrevTime=d=!e||t||A===t?t:s)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==v||0===_&&A>0)&&(o="onReverseComplete",r=this._reversed),0>t&&(this._active=!1,0===_&&(this._initted||!this.vars.lazy||i)&&(A>=0&&(i=!0),this._rawPrevTime=d=!e||t||A===t?t:s)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(u=_+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&t>=v&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!==(1&this._cycle)&&(this._time=_-this._time,f=this._yoyoEase||this.vars.yoyoEase,f&&(this._yoyoEase||(f!==!0||this._initted?this._yoyoEase=f=f===!0?this._ease:f instanceof Ease?f:Ease.map[f]:(f=this.vars.ease,this._yoyoEase=f=f?f instanceof Ease?f:"function"==typeof f?new Ease(f,this.vars.easeParams):Ease.map[f]||n.defaultEase:n.defaultEase)),this.ratio=f?1-f.getRatio((_-this._time)/_):0)),this._time>_?this._time=_:this._time<0&&(this._time=0)),this._easeType&&!f?(h=this._time/_,c=this._easeType,p=this._easePower,(1===c||3===c&&h>=.5)&&(h=1-h),3===c&&(h*=2),1===p?h*=h:2===p?h*=h*h:3===p?h*=h*h*h:4===p&&(h*=h*h*h*h),this.ratio=1===c?1-h:2===c?h:this._time/_<.5?h/2:1-h/2):f||(this.ratio=this._ease.getRatio(this._time/_))),g===this._time&&!i&&y===this._cycle)return void(v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=g,this._totalTime=v,this._rawPrevTime=A,this._cycle=y,a.lazyTweens.push(this),void(this._lazy=[t,e]);!this._time||r||f?r&&this._ease._calcEnd&&!f&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/_)}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==g&&t>=0&&(this._active=!0),0===v&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,i):o||(o="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===_)&&(e||this._callback("onStart"))),l=this._firstPT;l;)l.f?l.t[l.p](l.c*this.ratio+l.s):l.t[l.p]=l.c*this.ratio+l.s,l=l._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==v||o)&&this._callback("onUpdate")),this._cycle!==y&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),o&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o),0===_&&this._rawPrevTime===s&&d!==s&&(this._rawPrevTime=0))},o.to=function(t,e,n){return new o(t,e,n)},o.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new o(t,e,n)},o.fromTo=function(t,e,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new o(t,e,i)},o.staggerTo=o.allTo=function(t,e,s,a,h,p,d){a=a||0;var f,m,g,v,y=0,_=[],A=function(){s.onComplete&&s.onComplete.apply(s.onCompleteScope||this,arguments),h.apply(d||s.callbackScope||this,p||c)},b=s.cycle,x=s.startAt&&s.startAt.cycle;for(u(t)||("string"==typeof t&&(t=n.selector(t)||t),l(t)&&(t=i(t))),t=t||[],0>a&&(t=i(t),t.reverse(),a*=-1),f=t.length-1,g=0;f>=g;g++){m={};for(v in s)m[v]=s[v];if(b&&(r(m,t,g),null!=m.duration&&(e=m.duration,delete m.duration)),x){x=m.startAt={};for(v in s.startAt)x[v]=s.startAt[v];r(m.startAt,t,g)}m.delay=y+(m.delay||0),g===f&&h&&(m.onComplete=A),_[g]=new o(t[g],e,m),y+=a}return _},o.staggerFrom=o.allFrom=function(t,e,n,i,r,s,a){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,o.staggerTo(t,e,n,i,r,s,a)},o.staggerFromTo=o.allFromTo=function(t,e,n,i,r,s,a,l){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,o.staggerTo(t,e,i,r,s,a,l)},o.delayedCall=function(t,e,n,i,r){return new o(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,useFrames:r,overwrite:0})},o.set=function(t,e){return new o(t,0,e)},o.isTweening=function(t){return n.getTweensOf(t,!0).length>0};var p=function(t,e){for(var i=[],r=0,o=t._first;o;)o instanceof n?i[r++]=o:(e&&(i[r++]=o),i=i.concat(p(o,e)),r=i.length),o=o._next;return i},d=o.getAllTweens=function(e){return p(t._rootTimeline,e).concat(p(t._rootFramesTimeline,e))};o.killAll=function(t,n,i,r){null==n&&(n=!0),null==i&&(i=!0);var o,s,a,l=d(0!=r),u=l.length,h=n&&i&&r;for(a=0;u>a;a++)s=l[a],(h||s instanceof e||(o=s.target===s.vars.onComplete)&&i||n&&!o)&&(t?s.totalTime(s._reversed?0:s.totalDuration()):s._enabled(!1,!1))},o.killChildTweensOf=function(t,e){if(null!=t){var r,s,h,c,p,d=a.tweenLookup;if("string"==typeof t&&(t=n.selector(t)||t),l(t)&&(t=i(t)),u(t))for(c=t.length;--c>-1;)o.killChildTweensOf(t[c],e);else{r=[];for(h in d)for(s=d[h].target.parentNode;s;)s===t&&(r=r.concat(d[h].tweens)),s=s.parentNode;for(p=r.length,c=0;p>c;c++)e&&r[c].totalTime(r[c].totalDuration()),r[c]._enabled(!1,!1)}}};var f=function(t,n,i,r){n=n!==!1,i=i!==!1,r=r!==!1;for(var o,s,a=d(r),l=n&&i&&r,u=a.length;--u>-1;)s=a[u],(l||s instanceof e||(o=s.target===s.vars.onComplete)&&i||n&&!o)&&s.paused(t)};return o.pauseAll=function(t,e,n){f(!0,t,e,n)},o.resumeAll=function(t,e,n){f(!1,t,e,n)},o.globalTimeScale=function(e){var i=t._rootTimeline,r=n.ticker.time;return arguments.length?(e=e||s,i._startTime=r-(r-i._startTime)*i._timeScale/e,i=t._rootFramesTimeline,r=n.ticker.frame,i._startTime=r-(r-i._startTime)*i._timeScale/e,i._timeScale=t._rootTimeline._timeScale=e,e):i._timeScale},h.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},h.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},h.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},h.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},h.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},h.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},h.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},h.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o},!0),n._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var r=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var n,i,r=this.vars;for(i in r)n=r[i],u(n)&&-1!==n.join("").indexOf("{self}")&&(r[i]=this._swapSelfInParams(n));u(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},o=1e-10,s=i._internals,a=r._internals={},l=s.isSelector,u=s.isArray,h=s.lazyTweens,c=s.lazyRender,p=n._gsDefine.globals,d=function(t){var e,n={};for(e in t)n[e]=t[e];return n},f=function(t,e,n){var i,r,o=t.cycle;for(i in o)r=o[i],t[i]="function"==typeof r?r(n,e[n]):r[n%r.length];delete t.cycle},m=a.pauseCallback=function(){},g=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},v=r.prototype=new e;return r.version="1.20.2",v.constructor=r,v.kill()._gc=v._forcingPlayhead=v._hasPause=!1,v.to=function(t,e,n,r){var o=n.repeat&&p.TweenMax||i;return e?this.add(new o(t,e,n),r):this.set(t,n,r)},v.from=function(t,e,n,r){return this.add((n.repeat&&p.TweenMax||i).from(t,e,n),r)},v.fromTo=function(t,e,n,r,o){var s=r.repeat&&p.TweenMax||i;return e?this.add(s.fromTo(t,e,n,r),o):this.set(t,r,o)},v.staggerTo=function(t,e,n,o,s,a,u,h){var c,p,m=new r({onComplete:a,onCompleteParams:u,callbackScope:h,smoothChildTiming:this.smoothChildTiming}),v=n.cycle;for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],l(t)&&(t=g(t)),o=o||0,0>o&&(t=g(t),t.reverse(),o*=-1),p=0;p<t.length;p++)c=d(n),c.startAt&&(c.startAt=d(c.startAt),c.startAt.cycle&&f(c.startAt,t,p)),v&&(f(c,t,p),null!=c.duration&&(e=c.duration,delete c.duration)),m.to(t[p],e,c,p*o);return this.add(m,s)},v.staggerFrom=function(t,e,n,i,r,o,s,a){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(t,e,n,i,r,o,s,a)},v.staggerFromTo=function(t,e,n,i,r,o,s,a,l){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,this.staggerTo(t,e,i,r,o,s,a,l)},v.call=function(t,e,n,r){return this.add(i.delayedCall(0,t,e,n),r)},v.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},r.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var n,o,s=new r(t),a=s._timeline;for(null==e&&(e=!0),a._remove(s,!0),s._startTime=0,s._rawPrevTime=s._time=s._totalTime=a._time,n=a._first;n;)o=n._next,e&&n instanceof i&&n.target===n.vars.onComplete||s.add(n,n._startTime-n._delay),n=o;return a.add(s,0),s},v.add=function(n,o,s,a){var l,h,c,p,d,f;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,n)),!(n instanceof t)){if(n instanceof Array||n&&n.push&&u(n)){for(s=s||"normal",a=a||0,l=o,h=n.length,c=0;h>c;c++)u(p=n[c])&&(p=new r({tweens:p})),this.add(p,l),"string"!=typeof p&&"function"!=typeof p&&("sequence"===s?l=p._startTime+p.totalDuration()/p._timeScale:"start"===s&&(p._startTime-=p.delay())),l+=a;return this._uncache(!0)}if("string"==typeof n)return this.addLabel(n,o);if("function"!=typeof n)throw"Cannot add "+n+" into the timeline; it is not a tween, timeline, function, or string.";n=i.delayedCall(0,n)}if(e.prototype.add.call(this,n,o),n._time&&n.render((this.rawTime()-n._startTime)*n._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=this,f=d.rawTime()>n._startTime;d._timeline;)f&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},v.remove=function(e){if(e instanceof t){this._remove(e,!1);var n=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:n._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&u(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},v._remove=function(t,n){e.prototype._remove.call(this,t,n);var i=this._last;return i?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},v.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},v.insert=v.insertMultiple=function(t,e,n,i){return this.add(t,e||0,n,i)},v.appendMultiple=function(t,e,n,i){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),n,i)},v.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},v.addPause=function(t,e,n,r){var o=i.delayedCall(0,m,n,r||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},v.removeLabel=function(t){return delete this._labels[t],this},v.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},v._parseTimeOrLabel=function(e,n,i,r){var o,s;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&u(r)))for(s=r.length;--s>-1;)r[s]instanceof t&&r[s].timeline===this&&this.remove(r[s]);if(o=this.duration()>99999999999?this.recent().endTime(!1):this._duration,"string"==typeof n)return this._parseTimeOrLabel(n,i&&"number"==typeof e&&null==this._labels[n]?e-o:0,i);if(n=n||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=o);else{if(s=e.indexOf("="),-1===s)return null==this._labels[e]?i?this._labels[e]=o+n:n:this._labels[e]+n;n=parseInt(e.charAt(s-1)+"1",10)*Number(e.substr(s+1)),e=s>1?this._parseTimeOrLabel(e.substr(0,s-1),0,i):o}return Number(e)+n},v.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},v.stop=function(){return this.paused(!0)},v.gotoAndPlay=function(t,e){return this.play(t,e)},v.gotoAndStop=function(t,e){return this.pause(t,e)},v.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var i,r,s,a,l,u,p,d=this._dirty?this.totalDuration():this._totalDuration,f=this._time,m=this._startTime,g=this._timeScale,v=this._paused;if(t>=d-1e-7&&t>=0)this._totalTime=this._time=d,this._reversed||this._hasPausedChild()||(r=!0,a="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=t&&t>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===o)&&this._rawPrevTime!==t&&this._first&&(l=!0,this._rawPrevTime>o&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,t=d+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==f||0===this._duration&&this._rawPrevTime!==o&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(a="onReverseComplete",r=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=r=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,0===t&&r)for(i=this._first;i&&0===i._startTime;)i._duration||(r=!1),i=i._next;t=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=f)for(i=this._first;i&&i._startTime<=t&&!u;)i._duration||"isPause"!==i.data||i.ratio||0===i._startTime&&0===this._rawPrevTime||(u=i),i=i._next;else for(i=this._last;i&&i._startTime>=t&&!u;)i._duration||"isPause"===i.data&&i._rawPrevTime>0&&(u=i),i=i._prev;u&&(this._time=t=u._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==f&&this._first||n||l||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&t>0&&(this._active=!0),0===f&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),p=this._time,p>=f)for(i=this._first;i&&(s=i._next,p===this._time&&(!this._paused||v));)(i._active||i._startTime<=p&&!i._paused&&!i._gc)&&(u===i&&this.pause(),i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)),i=s;else for(i=this._last;i&&(s=i._prev,p===this._time&&(!this._paused||v));){if(i._active||i._startTime<=f&&!i._paused&&!i._gc){if(u===i){for(u=i._prev;u&&u.endTime()>this._time;)u.render(u._reversed?u.totalDuration()-(t-u._startTime)*u._timeScale:(t-u._startTime)*u._timeScale,e,n),u=u._prev;u=null,this.pause()}i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)}i=s}this._onUpdate&&(e||(h.length&&c(),this._callback("onUpdate"))),a&&(this._gc||(m===this._startTime||g!==this._timeScale)&&(0===this._time||d>=this.totalDuration())&&(r&&(h.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a)))}},v._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof r&&t._hasPausedChild())return!0;t=t._next}return!1},v.getChildren=function(t,e,n,r){r=r||-9999999999;for(var o=[],s=this._first,a=0;s;)s._startTime<r||(s instanceof i?e!==!1&&(o[a++]=s):(n!==!1&&(o[a++]=s),t!==!1&&(o=o.concat(s.getChildren(!0,e,n)),a=o.length))),s=s._next;return o},v.getTweensOf=function(t,e){var n,r,o=this._gc,s=[],a=0;for(o&&this._enabled(!0,!0),n=i.getTweensOf(t),r=n.length;--r>-1;)(n[r].timeline===this||e&&this._contains(n[r]))&&(s[a++]=n[r]);return o&&this._enabled(!1,!0),s},v.recent=function(){return this._recent},v._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},v.shiftChildren=function(t,e,n){n=n||0;for(var i,r=this._first,o=this._labels;r;)r._startTime>=n&&(r._startTime+=t),r=r._next;if(e)for(i in o)o[i]>=n&&(o[i]+=t);return this._uncache(!0)},v._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var n=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),i=n.length,r=!1;--i>-1;)n[i]._kill(t,e)&&(r=!0);return r},v.clear=function(t){var e=this.getChildren(!1,!0,!0),n=e.length;for(this._time=this._totalTime=0;--n>-1;)e[n]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},v.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},v._enabled=function(t,n){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return e.prototype._enabled.call(this,t,n)},v.totalTime=function(e,n,i){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},v.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},v.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,n,i=0,r=this._last,o=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>o&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):o=r._startTime,r._startTime<0&&!r._paused&&(i-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),o=0),n=r._startTime+r._totalDuration/r._timeScale,n>i&&(i=n),r=e;this._duration=this._totalDuration=i,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},v.paused=function(e){if(!e)for(var n=this._first,i=this._time;n;)n._startTime===i&&"isPause"===n.data&&(n._rawPrevTime=0),n=n._next;return t.prototype.paused.apply(this,arguments)},v.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},v.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},r},!0),n._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var r=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},o=1e-10,s=e._internals,a=s.lazyTweens,l=s.lazyRender,u=n._gsDefine.globals,h=new i(null,null,1,0),c=r.prototype=new t;return c.constructor=r,c.kill()._gc=!1,r.version="1.20.2",c.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},c.addCallback=function(t,n,i,r){return this.add(e.delayedCall(0,t,i,r),n)},c.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var n=this.getTweensOf(t,!1),i=n.length,r=this._parseTimeOrLabel(e);--i>-1;)n[i]._startTime===r&&n[i]._enabled(!1,!1);return this},c.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},c.tweenTo=function(t,n){n=n||{};var i,r,o,s={ease:h,useFrames:this.usesFrames(),immediateRender:!1},a=n.repeat&&u.TweenMax||e;for(r in n)s[r]=n[r];return s.time=this._parseTimeOrLabel(t),i=Math.abs(Number(s.time)-this._time)/this._timeScale||.001,o=new a(this,i,s),s.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&i===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),n.onStart&&n.onStart.apply(n.onStartScope||n.callbackScope||o,n.onStartParams||[])},o},c.tweenFromTo=function(t,e,n){n=n||{},t=this._parseTimeOrLabel(t),n.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},n.immediateRender=n.immediateRender!==!1;var i=this.tweenTo(e,n);return i.duration(Math.abs(i.vars.time-t)/this._timeScale||.001)},c.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var i,r,s,u,h,c,p,d,f=this._dirty?this.totalDuration():this._totalDuration,m=this._duration,g=this._time,v=this._totalTime,y=this._startTime,_=this._timeScale,A=this._rawPrevTime,b=this._paused,x=this._cycle;if(t>=f-1e-7&&t>=0)this._locked||(this._totalTime=f,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(r=!0,u="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=t&&t>=-1e-7||0>A||A===o)&&A!==t&&this._first&&(h=!0,A>o&&(u="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=m,t=m+1e-4);else if(1e-7>t)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==g||0===m&&A!==o&&(A>0||0>t&&A>=0)&&!this._locked)&&(u="onReverseComplete",r=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=r=!0,u="onReverseComplete"):A>=0&&this._first&&(h=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=m||!e||t||this._rawPrevTime===t?t:o,0===t&&r)for(i=this._first;i&&0===i._startTime;)i._duration||(r=!1),i=i._next;t=0,this._initted||(h=!0)}else if(0===m&&0>A&&(h=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(c=m+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&t>=v&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!==(1&this._cycle)&&(this._time=m-this._time),this._time>m?(this._time=m,t=m+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(t=this._time,t>=g||this._repeat&&x!==this._cycle)for(i=this._first;i&&i._startTime<=t&&!p;)i._duration||"isPause"!==i.data||i.ratio||0===i._startTime&&0===this._rawPrevTime||(p=i),i=i._next;else for(i=this._last;i&&i._startTime>=t&&!p;)i._duration||"isPause"===i.data&&i._rawPrevTime>0&&(p=i),i=i._prev;p&&p._startTime<m&&(this._time=t=p._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==x&&!this._locked){var w=this._yoyo&&0!==(1&x),T=w===(this._yoyo&&0!==(1&this._cycle)),E=this._totalTime,S=this._cycle,M=this._rawPrevTime,C=this._time;if(this._totalTime=x*m,this._cycle<x?w=!w:this._totalTime+=m,this._time=g,this._rawPrevTime=0===m?A-1e-4:A,this._cycle=x,this._locked=!0,g=w?0:m,this.render(g,e,0===m),e||this._gc||this.vars.onRepeat&&(this._cycle=S,this._locked=!1,this._callback("onRepeat")),g!==this._time)return;if(T&&(this._cycle=x,this._locked=!0,g=w?m+1e-4:-1e-4,this.render(g,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=C,this._totalTime=E,this._cycle=S,this._rawPrevTime=M}if(!(this._time!==g&&this._first||n||h||p))return void(v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&t>0&&(this._active=!0),0===v&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),d=this._time,d>=g)for(i=this._first;i&&(s=i._next,d===this._time&&(!this._paused||b));)(i._active||i._startTime<=this._time&&!i._paused&&!i._gc)&&(p===i&&this.pause(),i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)),i=s;else for(i=this._last;i&&(s=i._prev,d===this._time&&(!this._paused||b));){if(i._active||i._startTime<=g&&!i._paused&&!i._gc){if(p===i){for(p=i._prev;p&&p.endTime()>this._time;)p.render(p._reversed?p.totalDuration()-(t-p._startTime)*p._timeScale:(t-p._startTime)*p._timeScale,e,n),p=p._prev;p=null,this.pause()}i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)}i=s}this._onUpdate&&(e||(a.length&&l(),this._callback("onUpdate"))),u&&(this._locked||this._gc||(y===this._startTime||_!==this._timeScale)&&(0===this._time||f>=this.totalDuration())&&(r&&(a.length&&l(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[u]&&this._callback(u)))},c.getActive=function(t,e,n){null==t&&(t=!0),null==e&&(e=!0),null==n&&(n=!1);var i,r,o=[],s=this.getChildren(t,e,n),a=0,l=s.length;for(i=0;l>i;i++)r=s[i],r.isActive()&&(o[a++]=r);return o},c.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,n=this.getLabelsArray(),i=n.length;for(e=0;i>e;e++)if(n[e].time>t)return n[e].name;return null},c.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),n=e.length;--n>-1;)if(e[n].time<t)return e[n].name;return null},c.getLabelsArray=function(){var t,e=[],n=0;for(t in this._labels)e[n++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},c.invalidate=function(){return this._locked=!1,t.prototype.invalidate.call(this)},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},c.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},c.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},r},!0),function(){var t=180/Math.PI,e=[],i=[],r=[],o={},s=n._gsDefine.globals,a=function(t,e,n,i){n===i&&(n=i-(i-e)/1e6),t===e&&(e=t+(n-t)/1e6),this.a=t,this.b=e,this.c=n,this.d=i,this.da=i-t,this.ca=n-t,this.ba=e-t},l=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",u=function(t,e,n,i){var r={a:t},o={},s={},a={c:i},l=(t+e)/2,u=(e+n)/2,h=(n+i)/2,c=(l+u)/2,p=(u+h)/2,d=(p-c)/8;return r.b=l+(t-l)/4,o.b=c+d,r.c=o.a=(r.b+o.b)/2,o.c=s.a=(c+p)/2,s.b=p-d,a.b=h+(i-h)/4,s.c=a.a=(s.b+a.b)/2,[r,o,s,a]},h=function(t,n,o,s,a){var l,h,c,p,d,f,m,g,v,y,_,A,b,x=t.length-1,w=0,T=t[0].a;for(l=0;x>l;l++)d=t[w],h=d.a,c=d.d,p=t[w+1].d,a?(_=e[l],A=i[l],b=(A+_)*n*.25/(s?.5:r[l]||.5),f=c-(c-h)*(s?.5*n:0!==_?b/_:0),m=c+(p-c)*(s?.5*n:0!==A?b/A:0),g=c-(f+((m-f)*(3*_/(_+A)+.5)/4||0))):(f=c-(c-h)*n*.5,m=c+(p-c)*n*.5,g=c-(f+m)/2),f+=g,m+=g,d.c=v=f,d.b=0!==l?T:T=d.a+.6*(d.c-d.a),d.da=c-h,d.ca=v-h,d.ba=T-h,o?(y=u(h,T,v,c),t.splice(w,1,y[0],y[1],y[2],y[3]),w+=4):w++,T=m;d=t[w],d.b=T,d.c=T+.4*(d.d-T),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=T-d.a,o&&(y=u(d.a,T,d.c,d.d),t.splice(w,1,y[0],y[1],y[2],y[3]))},c=function(t,n,r,o){var s,l,u,h,c,p,d=[];if(o)for(t=[o].concat(t),l=t.length;--l>-1;)"string"==typeof(p=t[l][n])&&"="===p.charAt(1)&&(t[l][n]=o[n]+Number(p.charAt(0)+p.substr(2)));if(s=t.length-2,0>s)return d[0]=new a(t[0][n],0,0,t[0][n]),d;for(l=0;s>l;l++)u=t[l][n],h=t[l+1][n],d[l]=new a(u,0,0,h),r&&(c=t[l+2][n],e[l]=(e[l]||0)+(h-u)*(h-u),i[l]=(i[l]||0)+(c-h)*(c-h));return d[l]=new a(t[l][n],0,0,t[l+1][n]),d},p=function(t,n,s,a,u,p){var d,f,m,g,v,y,_,A,b={},x=[],w=p||t[0];u="string"==typeof u?","+u+",":l,null==n&&(n=1);for(f in t[0])x.push(f);if(t.length>1){for(A=t[t.length-1],_=!0,d=x.length;--d>-1;)if(f=x[d],Math.abs(w[f]-A[f])>.05){_=!1;break}_&&(t=t.concat(),p&&t.unshift(p),t.push(t[1]),p=t[t.length-3])}for(e.length=i.length=r.length=0,d=x.length;--d>-1;)f=x[d],o[f]=-1!==u.indexOf(","+f+","),b[f]=c(t,f,o[f],p);for(d=e.length;--d>-1;)e[d]=Math.sqrt(e[d]),i[d]=Math.sqrt(i[d]);if(!a){for(d=x.length;--d>-1;)if(o[f])for(m=b[x[d]],y=m.length-1,g=0;y>g;g++)v=m[g+1].da/i[g]+m[g].da/e[g]||0,r[g]=(r[g]||0)+v*v;for(d=r.length;--d>-1;)r[d]=Math.sqrt(r[d])}for(d=x.length,g=s?4:1;--d>-1;)f=x[d],m=b[f],h(m,n,s,a,o[f]),_&&(m.splice(0,g),m.splice(m.length-g,g));return b},d=function(t,e,n){e=e||"soft";var i,r,o,s,l,u,h,c,p,d,f,m={},g="cubic"===e?3:2,v="soft"===e,y=[];if(v&&n&&(t=[n].concat(t)),null==t||t.length<g+1)throw"invalid Bezier data";for(p in t[0])y.push(p);for(u=y.length;--u>-1;){for(p=y[u],m[p]=l=[],d=0,c=t.length,h=0;c>h;h++)i=null==n?t[h][p]:"string"==typeof(f=t[h][p])&&"="===f.charAt(1)?n[p]+Number(f.charAt(0)+f.substr(2)):Number(f),v&&h>1&&c-1>h&&(l[d++]=(i+l[d-2])/2),l[d++]=i;for(c=d-g+1,d=0,h=0;c>h;h+=g)i=l[h],r=l[h+1],o=l[h+2],s=2===g?0:l[h+3],l[d++]=f=3===g?new a(i,r,o,s):new a(i,(2*r+i)/3,(2*r+o)/3,o);l.length=d}return m},f=function(t,e,n){for(var i,r,o,s,a,l,u,h,c,p,d,f=1/n,m=t.length;--m>-1;)for(p=t[m],o=p.a,s=p.d-o,a=p.c-o,l=p.b-o,i=r=0,h=1;n>=h;h++)u=f*h,c=1-u,i=r-(r=(u*u*s+3*c*(u*a+c*l))*u),d=m*n+h-1,e[d]=(e[d]||0)+i*i},m=function(t,e){
e=e>>0||6;var n,i,r,o,s=[],a=[],l=0,u=0,h=e-1,c=[],p=[];for(n in t)f(t[n],s,e);for(r=s.length,i=0;r>i;i++)l+=Math.sqrt(s[i]),o=i%e,p[o]=l,o===h&&(u+=l,o=i/e>>0,c[o]=p,a[o]=u,l=0,p=[]);return{length:u,lengths:a,segments:c}},g=n._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(t,e,n){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var i,r,o,s,a,l=e.values||[],u={},h=l[0],c=e.autoRotate||n.vars.orientToBezier;this._autoRotate=c?c instanceof Array?c:[["x","y","rotation",c===!0?0:Number(c)||0]]:null;for(i in h)this._props.push(i);for(o=this._props.length;--o>-1;)i=this._props[o],this._overwriteProps.push(i),r=this._func[i]="function"==typeof t[i],u[i]=r?t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(t[i]),a||u[i]!==l[0][i]&&(a=u);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?p(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,a):d(l,e.type,u),this._segCount=this._beziers[i].length,this._timeRes){var f=m(this._beziers,this._timeRes);this._length=f.length,this._lengths=f.lengths,this._segments=f.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(c=this._autoRotate)for(this._initialRotations=[],c[0]instanceof Array||(this._autoRotate=c=[c]),o=c.length;--o>-1;){for(s=0;3>s;s++)i=c[o][s],this._func[i]="function"==typeof t[i]?t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]:!1;i=c[o][2],this._initialRotations[o]=(this._func[i]?this._func[i].call(this._target):this._target[i])||0,this._overwriteProps.push(i)}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(e){var n,i,r,o,s,a,l,u,h,c,p=this._segCount,d=this._func,f=this._target,m=e!==this._startRatio;if(this._timeRes){if(h=this._lengths,c=this._curSeg,e*=this._length,r=this._li,e>this._l2&&p-1>r){for(u=p-1;u>r&&(this._l2=h[++r])<=e;);this._l1=h[r-1],this._li=r,this._curSeg=c=this._segments[r],this._s2=c[this._s1=this._si=0]}else if(e<this._l1&&r>0){for(;r>0&&(this._l1=h[--r])>=e;);0===r&&e<this._l1?this._l1=0:r++,this._l2=h[r],this._li=r,this._curSeg=c=this._segments[r],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(n=r,e-=this._l1,r=this._si,e>this._s2&&r<c.length-1){for(u=c.length-1;u>r&&(this._s2=c[++r])<=e;);this._s1=c[r-1],this._si=r}else if(e<this._s1&&r>0){for(;r>0&&(this._s1=c[--r])>=e;);0===r&&e<this._s1?this._s1=0:r++,this._s2=c[r],this._si=r}a=(r+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else n=0>e?0:e>=1?p-1:p*e>>0,a=(e-n*(1/p))*p;for(i=1-a,r=this._props.length;--r>-1;)o=this._props[r],s=this._beziers[o][n],l=(a*a*s.da+3*i*(a*s.ca+i*s.ba))*a+s.a,this._mod[o]&&(l=this._mod[o](l,f)),d[o]?f[o](l):f[o]=l;if(this._autoRotate){var g,v,y,_,A,b,x,w=this._autoRotate;for(r=w.length;--r>-1;)o=w[r][2],b=w[r][3]||0,x=w[r][4]===!0?1:t,s=this._beziers[w[r][0]],g=this._beziers[w[r][1]],s&&g&&(s=s[n],g=g[n],v=s.a+(s.b-s.a)*a,_=s.b+(s.c-s.b)*a,v+=(_-v)*a,_+=(s.c+(s.d-s.c)*a-_)*a,y=g.a+(g.b-g.a)*a,A=g.b+(g.c-g.b)*a,y+=(A-y)*a,A+=(g.c+(g.d-g.c)*a-A)*a,l=m?Math.atan2(A-y,_-v)*x+b:this._initialRotations[r],this._mod[o]&&(l=this._mod[o](l,f)),d[o]?f[o](l):f[o]=l)}}}),v=g.prototype;g.bezierThrough=p,g.cubicToQuadratic=u,g._autoCSS=!0,g.quadraticToCubic=function(t,e,n){return new a(t,(2*e+t)/3,(2*e+n)/3,n)},g._cssRegister=function(){var t=s.CSSPlugin;if(t){var e=t._internals,n=e._parseToProxy,i=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,s,a,l){e instanceof Array&&(e={values:e}),l=new g;var u,h,c,p=e.values,d=p.length-1,f=[],m={};if(0>d)return a;for(u=0;d>=u;u++)c=n(t,p[u],s,a,l,d!==u),f[u]=c.end;for(h in e)m[h]=e[h];return m.values=f,a=new r(t,"bezier",0,0,c.pt,2),a.data=c,a.plugin=l,a.setRatio=i,0===m.autoRotate&&(m.autoRotate=!0),!m.autoRotate||m.autoRotate instanceof Array||(u=m.autoRotate===!0?0:Number(m.autoRotate),m.autoRotate=null!=c.end.left?[["left","top","rotation",u,!1]]:null!=c.end.x?[["x","y","rotation",u,!1]]:!1),m.autoRotate&&(s._transform||s._enableTransforms(!1),c.autoRotate=s._target._gsTransform,c.proxy.rotation=c.autoRotate.rotation||0,s._overwriteProps.push("rotation")),l._onInitTween(c.proxy,m,s._tween),a}})}},v._mod=function(t){for(var e,n=this._overwriteProps,i=n.length;--i>-1;)e=t[n[i]],e&&"function"==typeof e&&(this._mod[n[i]]=e)},v._kill=function(t){var e,n,i=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],n=i.length;--n>-1;)i[n]===e&&i.splice(n,1);if(i=this._autoRotate)for(n=i.length;--n>-1;)t[i[n][2]]&&i.splice(n,1);return this._super._kill.call(this,t)}}(),n._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,r,o,s,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},l=n._gsDefine.globals,u={},h=a.prototype=new t("css");h.constructor=a,a.version="1.20.0",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,h="px",a.suffixMap={top:h,right:h,bottom:h,left:h,width:h,height:h,fontSize:h,padding:h,margin:h,perspective:h,lineHeight:""};var c,p,d,f,m,g,v,y,_=/(?:\-|\.|\b)(\d|\.|e\-)+/g,A=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,b=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,x=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,T=/opacity *= *([^)]*)/i,E=/opacity:([^;]*)/i,S=/alpha\(opacity *=.+?\)/i,M=/^(rgb|hsl)/,C=/([A-Z])/g,P=/-([a-z])/gi,R=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,O=function(t,e){return e.toUpperCase()},L=/(?:Left|Right|Width)/i,N=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,I=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,k=/,(?=[^\)]*(?:\(|$))/gi,D=/[\s,\(]/i,F=Math.PI/180,B=180/Math.PI,U={},V={style:{}},G=n.document||{createElement:function(){return V}},H=function(t,e){return G.createElementNS?G.createElementNS(e||"http://www.w3.org/1999/xhtml",t):G.createElement(t)},z=H("div"),j=H("img"),q=a._internals={_specialProps:u},W=(n.navigator||{}).userAgent||"",X=function(){var t=W.indexOf("Android"),e=H("a");return d=-1!==W.indexOf("Safari")&&-1===W.indexOf("Chrome")&&(-1===t||parseFloat(W.substr(t+8,2))>3),m=d&&parseFloat(W.substr(W.indexOf("Version/")+8,2))<6,f=-1!==W.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W))&&(g=parseFloat(RegExp.$1)),e?(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity)):!1}(),K=function(t){return T.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(t){n.console&&console.log(t)},Z="",Q="",J=function(t,e){e=e||z;var n,i,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),n=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===r[n[i]+t];);return i>=0?(Q=3===i?"ms":n[i],Z="-"+Q.toLowerCase()+"-",Q+t):null},$=G.defaultView?G.defaultView.getComputedStyle:function(){},tt=a.getStyle=function(t,e,n,i,r){var o;return X||"opacity"!==e?(!i&&t.style[e]?o=t.style[e]:(n=n||$(t))?o=n[e]||n.getPropertyValue(e)||n.getPropertyValue(e.replace(C,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):K(t)},et=q.convertToPixels=function(t,n,i,r,o){if("px"===r||!r&&"lineHeight"!==n)return i;if("auto"===r||!i)return 0;var s,l,u,h=L.test(n),c=t,p=z.style,d=0>i,f=1===i;if(d&&(i=-i),f&&(i*=100),"lineHeight"!==n||r)if("%"===r&&-1!==n.indexOf("border"))s=i/100*(h?t.clientWidth:t.clientHeight);else{if(p.cssText="border:0 solid red;position:"+tt(t,"position")+";line-height:0;","%"!==r&&c.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)p[h?"borderLeftWidth":"borderTopWidth"]=i+r;else{if(c=t.parentNode||G.body,-1!==tt(c,"display").indexOf("flex")&&(p.position="absolute"),l=c._gsCache,u=e.ticker.frame,l&&h&&l.time===u)return l.width*i/100;p[h?"width":"height"]=i+r}c.appendChild(z),s=parseFloat(z[h?"offsetWidth":"offsetHeight"]),c.removeChild(z),h&&"%"===r&&a.cacheWidths!==!1&&(l=c._gsCache=c._gsCache||{},l.time=u,l.width=s/i*100),0!==s||o||(s=et(t,n,i,r,!0))}else l=$(t).lineHeight,t.style.lineHeight=i,s=parseFloat($(t).lineHeight),t.style.lineHeight=l;return f&&(s/=100),d?-s:s},nt=q.calculateOffset=function(t,e,n){if("absolute"!==tt(t,"position",n))return 0;var i="left"===e?"Left":"Top",r=tt(t,"margin"+i,n);return t["offset"+i]-(et(t,e,parseFloat(r),r.replace(w,""))||0)},it=function(t,e){var n,i,r,o={};if(e=e||$(t,null))if(n=e.length)for(;--n>-1;)r=e[n],(-1===r.indexOf("-transform")||Rt===r)&&(o[r.replace(P,O)]=e.getPropertyValue(r));else for(n in e)(-1===n.indexOf("Transform")||Pt===n)&&(o[n]=e[n]);else if(e=t.currentStyle||t.style)for(n in e)"string"==typeof n&&void 0===o[n]&&(o[n.replace(P,O)]=e[n]);return X||(o.opacity=K(t)),i=jt(t,e,!1),o.rotation=i.rotation,o.skewX=i.skewX,o.scaleX=i.scaleX,o.scaleY=i.scaleY,o.x=i.x,o.y=i.y,Lt&&(o.z=i.z,o.rotationX=i.rotationX,o.rotationY=i.rotationY,o.scaleZ=i.scaleZ),o.filters&&delete o.filters,o},rt=function(t,e,n,i,r){var o,s,a,l={},u=t.style;for(s in n)"cssText"!==s&&"length"!==s&&isNaN(s)&&(e[s]!==(o=n[s])||r&&r[s])&&-1===s.indexOf("Origin")&&("number"==typeof o||"string"==typeof o)&&(l[s]="auto"!==o||"left"!==s&&"top"!==s?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[s]||""===e[s].replace(x,"")?o:0:nt(t,s),void 0!==u[s]&&(a=new _t(u,s,u[s],a)));if(i)for(s in i)"className"!==s&&(l[s]=i[s]);return{difs:l,firstMPT:a}},ot={width:["Left","Right"],height:["Top","Bottom"]},st=["marginLeft","marginRight","marginTop","marginBottom"],at=function(t,e,n){if("svg"===(t.nodeName+"").toLowerCase())return(n||$(t))[e]||0;if(t.getCTM&&Gt(t))return t.getBBox()[e]||0;var i=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=ot[e],o=r.length;for(n=n||$(t,null);--o>-1;)i-=parseFloat(tt(t,"padding"+r[o],n,!0))||0,i-=parseFloat(tt(t,"border"+r[o]+"Width",n,!0))||0;return i},lt=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";(null==t||""===t)&&(t="0 0");var n,i=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],o=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];if(i.length>3&&!e){for(i=t.split(", ").join(",").split(","),t=[],n=0;n<i.length;n++)t.push(lt(i[n]));return t.join(",")}return null==o?o="center"===r?"50%":"0":"center"===o&&(o="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t=r+" "+o+(i.length>2?" "+i[2]:""),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==o.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===o.charAt(1),e.ox=parseFloat(r.replace(x,"")),e.oy=parseFloat(o.replace(x,"")),e.v=t),e||t},ut=function(t,e){return"function"==typeof t&&(t=t(y,v)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ht=function(t,e){return"function"==typeof t&&(t=t(y,v)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ct=function(t,e,n,i){var r,o,s,a,l,u=1e-6;return"function"==typeof t&&(t=t(y,v)),null==t?a=e:"number"==typeof t?a=t:(r=360,o=t.split("_"),l="="===t.charAt(1),s=(l?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===t.indexOf("rad")?1:B)-(l?0:e),o.length&&(i&&(i[n]=e+s),-1!==t.indexOf("short")&&(s%=r,s!==s%(r/2)&&(s=0>s?s+r:s-r)),-1!==t.indexOf("_cw")&&0>s?s=(s+9999999999*r)%r-(s/r|0)*r:-1!==t.indexOf("ccw")&&s>0&&(s=(s-9999999999*r)%r-(s/r|0)*r)),a=e+s),u>a&&a>-u&&(a=0),a},pt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},dt=function(t,e,n){return t=0>t?t+1:t>1?t-1:t,255*(1>6*t?e+(n-e)*t*6:.5>t?n:2>3*t?e+(n-e)*(2/3-t)*6:e)+.5|0},ft=a.parseColor=function(t,e){var n,i,r,o,s,a,l,u,h,c,p;if(t)if("number"==typeof t)n=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),pt[t])n=pt[t];else if("#"===t.charAt(0))4===t.length&&(i=t.charAt(1),r=t.charAt(2),o=t.charAt(3),t="#"+i+i+r+r+o+o),t=parseInt(t.substr(1),16),n=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(n=p=t.match(_),e){if(-1!==t.indexOf("="))return t.match(A)}else s=Number(n[0])%360/360,a=Number(n[1])/100,l=Number(n[2])/100,r=.5>=l?l*(a+1):l+a-l*a,i=2*l-r,n.length>3&&(n[3]=Number(t[3])),n[0]=dt(s+1/3,i,r),n[1]=dt(s,i,r),n[2]=dt(s-1/3,i,r);else n=t.match(_)||pt.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=pt.black;return e&&!p&&(i=n[0]/255,r=n[1]/255,o=n[2]/255,u=Math.max(i,r,o),h=Math.min(i,r,o),l=(u+h)/2,u===h?s=a=0:(c=u-h,a=l>.5?c/(2-u-h):c/(u+h),s=u===i?(r-o)/c+(o>r?6:0):u===r?(o-i)/c+2:(i-r)/c+4,s*=60),n[0]=s+.5|0,n[1]=100*a+.5|0,n[2]=100*l+.5|0),n},mt=function(t,e){var n,i,r,o=t.match(gt)||[],s=0,a="";if(!o.length)return t;for(n=0;n<o.length;n++)i=o[n],r=t.substr(s,t.indexOf(i,s)-s),s+=r.length+i.length,i=ft(i,e),3===i.length&&i.push(1),a+=r+(e?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return a+t.substr(s)},gt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(h in pt)gt+="|"+h+"\\b";gt=new RegExp(gt+")","gi"),a.colorStringFilter=function(t){var e,n=t[0]+" "+t[1];gt.test(n)&&(e=-1!==n.indexOf("hsl(")||-1!==n.indexOf("hsla("),t[0]=mt(t[0],e),t[1]=mt(t[1],e)),gt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=a.colorStringFilter);var vt=function(t,e,n,i){if(null==t)return function(t){return t};var r,o=e?(t.match(gt)||[""])[0]:"",s=t.split(o).join("").match(b)||[],a=t.substr(0,t.indexOf(s[0])),l=")"===t.charAt(t.length-1)?")":"",u=-1!==t.indexOf(" ")?" ":",",h=s.length,c=h>0?s[0].replace(_,""):"";return h?r=e?function(t){var e,p,d,f;if("number"==typeof t)t+=c;else if(i&&k.test(t)){for(f=t.replace(k,"|").split("|"),d=0;d<f.length;d++)f[d]=r(f[d]);return f.join(",")}if(e=(t.match(gt)||[o])[0],p=t.split(e).join("").match(b)||[],d=p.length,h>d--)for(;++d<h;)p[d]=n?p[(d-1)/2|0]:s[d];return a+p.join(u)+u+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,o,p;if("number"==typeof t)t+=c;else if(i&&k.test(t)){for(o=t.replace(k,"|").split("|"),p=0;p<o.length;p++)o[p]=r(o[p]);return o.join(",")}if(e=t.match(b)||[],p=e.length,h>p--)for(;++p<h;)e[p]=n?e[(p-1)/2|0]:s[p];return a+e.join(u)+l}:function(t){return t}},yt=function(t){return t=t.split(","),function(e,n,i,r,o,s,a){var l,u=(n+"").split(" ");for(a={},l=0;4>l;l++)a[t[l]]=u[l]=u[l]||u[(l-1)/2>>0];return r.parse(e,a,o,s)}},_t=(q._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,n,i,r,o,s=this.data,a=s.proxy,l=s.firstMPT,u=1e-6;l;)e=a[l.v],l.r?e=Math.round(e):u>e&&e>-u&&(e=0),l.t[l.p]=e,l=l._next;if(s.autoRotate&&(s.autoRotate.rotation=s.mod?s.mod(a.rotation,this.t):a.rotation),1===t||0===t)for(l=s.firstMPT,o=1===t?"e":"b";l;){if(n=l.t,n.type){if(1===n.type){for(r=n.xs0+n.s+n.xs1,i=1;i<n.l;i++)r+=n["xn"+i]+n["xs"+(i+1)];n[o]=r}}else n[o]=n.s+n.xs0;l=l._next}},function(t,e,n,i,r){this.t=t,this.p=e,this.v=n,this.r=r,i&&(i._prev=this,this._next=i)}),At=(q._parseToProxy=function(t,e,n,i,r,o){var s,a,l,u,h,c=i,p={},d={},f=n._transform,m=U;for(n._transform=null,U=e,i=h=n.parse(t,e,i,r),U=m,o&&(n._transform=f,c&&(c._prev=null,c._prev&&(c._prev._next=null)));i&&i!==c;){if(i.type<=1&&(a=i.p,d[a]=i.s+i.c,p[a]=i.s,o||(u=new _t(i,"s",a,u,i.r),i.c=0),1===i.type))for(s=i.l;--s>0;)l="xn"+s,a=i.p+"_"+l,d[a]=i.data[l],p[a]=i[l],o||(u=new _t(i,l,a,u,i.rxp[l]));i=i._next}return{proxy:p,end:d,firstMPT:u,pt:h}},q.CSSPropTween=function(t,e,n,r,o,a,l,u,h,c,p){this.t=t,this.p=e,this.s=n,this.c=r,this.n=l||e,t instanceof At||s.push(this.n),this.r=u,this.type=a||0,h&&(this.pr=h,i=!0),this.b=void 0===c?n:c,this.e=void 0===p?n+r:p,o&&(this._next=o,o._prev=this)}),bt=function(t,e,n,i,r,o){var s=new At(t,e,n,i-n,r,-1,o);return s.b=n,s.e=s.xs0=i,s},xt=a.parseComplex=function(t,e,n,i,r,o,s,l,u,h){n=n||o||"","function"==typeof i&&(i=i(y,v)),s=new At(t,e,0,0,s,h?2:1,null,!1,l,n,i),i+="",r&&gt.test(i+n)&&(i=[n,i],a.colorStringFilter(i),n=i[0],i=i[1]);var p,d,f,m,g,b,x,w,T,E,S,M,C,P=n.split(", ").join(",").split(" "),R=i.split(", ").join(",").split(" "),O=P.length,L=c!==!1;for((-1!==i.indexOf(",")||-1!==n.indexOf(","))&&(P=P.join(" ").replace(k,", ").split(" "),R=R.join(" ").replace(k,", ").split(" "),O=P.length),O!==R.length&&(P=(o||"").split(" "),O=P.length),s.plugin=u,s.setRatio=h,gt.lastIndex=0,p=0;O>p;p++)if(m=P[p],g=R[p],w=parseFloat(m),w||0===w)s.appendXtra("",w,ut(g,w),g.replace(A,""),L&&-1!==g.indexOf("px"),!0);else if(r&&gt.test(m))M=g.indexOf(")")+1,M=")"+(M?g.substr(M):""),C=-1!==g.indexOf("hsl")&&X,E=g,m=ft(m,C),g=ft(g,C),T=m.length+g.length>6,T&&!X&&0===g[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(R[p]).join("transparent")):(X||(T=!1),C?s.appendXtra(E.substr(0,E.indexOf("hsl"))+(T?"hsla(":"hsl("),m[0],ut(g[0],m[0]),",",!1,!0).appendXtra("",m[1],ut(g[1],m[1]),"%,",!1).appendXtra("",m[2],ut(g[2],m[2]),T?"%,":"%"+M,!1):s.appendXtra(E.substr(0,E.indexOf("rgb"))+(T?"rgba(":"rgb("),m[0],g[0]-m[0],",",!0,!0).appendXtra("",m[1],g[1]-m[1],",",!0).appendXtra("",m[2],g[2]-m[2],T?",":M,!0),T&&(m=m.length<4?1:m[3],s.appendXtra("",m,(g.length<4?1:g[3])-m,M,!1))),gt.lastIndex=0;else if(b=m.match(_)){if(x=g.match(A),!x||x.length!==b.length)return s;for(f=0,d=0;d<b.length;d++)S=b[d],E=m.indexOf(S,f),s.appendXtra(m.substr(f,E-f),Number(S),ut(x[d],S),"",L&&"px"===m.substr(E+S.length,2),0===d),f=E+S.length;s["xs"+s.l]+=m.substr(f)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+g:g;if(-1!==i.indexOf("=")&&s.data){for(M=s.xs0+s.data.s,p=1;p<s.l;p++)M+=s["xs"+p]+s.data["xn"+p];s.e=M+s["xs"+p]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},wt=9;for(h=At.prototype,h.l=h.pr=0;--wt>0;)h["xn"+wt]=0,h["xs"+wt]="";h.xs0="",h._next=h._prev=h.xfirst=h.data=h.plugin=h.setRatio=h.rxp=null,h.appendXtra=function(t,e,n,i,r,o){var s=this,a=s.l;return s["xs"+a]+=o&&(a||s["xs"+a])?" "+t:t||"",n||0===a||s.plugin?(s.l++,s.type=s.setRatio?2:1,s["xs"+s.l]=i||"",a>0?(s.data["xn"+a]=e+n,s.rxp["xn"+a]=r,s["xn"+a]=e,s.plugin||(s.xfirst=new At(s,"xn"+a,e,n,s.xfirst||s,0,s.n,r,s.pr),s.xfirst.xs0=0),s):(s.data={s:e+n},s.rxp={},s.s=e,s.c=n,s.r=r,s)):(s["xs"+a]+=e+(i||""),s)};var Tt=function(t,e){e=e||{},this.p=e.prefix?J(t)||t:t,u[t]=u[this.p]=this,this.format=e.formatter||vt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Et=q._registerComplexSpecialProp=function(t,e,n){"object"!=typeof e&&(e={parser:n});var i,r,o=t.split(","),s=e.defaultValue;for(n=n||[s],i=0;i<o.length;i++)e.prefix=0===i&&e.prefix,e.defaultValue=n[i]||s,r=new Tt(o[i],e)},St=q._registerPluginProp=function(t){if(!u[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Et(t,{parser:function(t,n,i,r,o,s,a){var h=l.com.greensock.plugins[e];return h?(h._cssRegister(),u[i].parse(t,n,i,r,o,s,a)):(Y("Error: "+e+" js file not loaded."),o)}})}};h=Tt.prototype,h.parseComplex=function(t,e,n,i,r,o){var s,a,l,u,h,c,p=this.keyword;if(this.multi&&(k.test(n)||k.test(e)?(a=e.replace(k,"|").split("|"),l=n.replace(k,"|").split("|")):p&&(a=[e],l=[n])),l){for(u=l.length>a.length?l.length:a.length,s=0;u>s;s++)e=a[s]=a[s]||this.dflt,n=l[s]=l[s]||this.dflt,p&&(h=e.indexOf(p),c=n.indexOf(p),h!==c&&(-1===c?a[s]=a[s].split(p).join(""):-1===h&&(a[s]+=" "+p)));e=a.join(", "),n=l.join(", ")}return xt(t,this.p,e,n,this.clrs,this.dflt,i,this.pr,r,o)},h.parse=function(t,e,n,i,r,s,a){return this.parseComplex(t.style,this.format(tt(t,this.p,o,!1,this.dflt)),this.format(e),r,s)},a.registerSpecialProp=function(t,e,n){Et(t,{parser:function(t,i,r,o,s,a,l){var u=new At(t,r,0,0,s,2,r,!1,n);return u.plugin=a,u.setRatio=e(t,i,o._tween,r),u},priority:n})},a.useSVGTransformAttr=!0;var Mt,Ct="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Pt=J("transform"),Rt=Z+"transform",Ot=J("transformOrigin"),Lt=null!==J("perspective"),Nt=q.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=a.defaultForce3D!==!1&&Lt?a.defaultForce3D||"auto":!1},It=n.SVGElement,kt=function(t,e,n){var i,r=G.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(i in n)r.setAttributeNS(null,i.replace(o,"$1-$2").toLowerCase(),n[i]);return e.appendChild(r),r},Dt=G.documentElement||{},Ft=function(){var t,e,i,r=g||/Android/i.test(W)&&!n.chrome;return G.createElementNS&&!r&&(t=kt("svg",Dt),e=kt("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[Ot]="50% 50%",e.style[Pt]="scaleX(0.5)",r=i===e.getBoundingClientRect().width&&!(f&&Lt),Dt.removeChild(t)),r}(),Bt=function(t,e,n,i,r,o){var s,l,u,h,c,p,d,f,m,g,v,y,_,A,b=t._gsTransform,x=zt(t,!0);b&&(_=b.xOrigin,A=b.yOrigin),(!i||(s=i.split(" ")).length<2)&&(d=t.getBBox(),0===d.x&&0===d.y&&d.width+d.height===0&&(d={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),e=lt(e).split(" "),s=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*d.width:parseFloat(e[0]))+d.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*d.height:parseFloat(e[1]))+d.y]),n.xOrigin=h=parseFloat(s[0]),n.yOrigin=c=parseFloat(s[1]),i&&x!==Ht&&(p=x[0],d=x[1],f=x[2],m=x[3],g=x[4],v=x[5],y=p*m-d*f,y&&(l=h*(m/y)+c*(-f/y)+(f*v-m*g)/y,u=h*(-d/y)+c*(p/y)-(p*v-d*g)/y,h=n.xOrigin=s[0]=l,c=n.yOrigin=s[1]=u)),b&&(o&&(n.xOffset=b.xOffset,n.yOffset=b.yOffset,b=n),r||r!==!1&&a.defaultSmoothOrigin!==!1?(l=h-_,u=c-A,b.xOffset+=l*x[0]+u*x[2]-l,b.yOffset+=l*x[1]+u*x[3]-u):b.xOffset=b.yOffset=0),o||t.setAttribute("data-svg-origin",s.join(" "))},Ut=function(t){var e,n=H("svg",this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(Dt.appendChild(n),n.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Ut}catch(s){}else this._originalGetBBox&&(e=this._originalGetBBox());return r?i.insertBefore(this,r):i.appendChild(this),Dt.removeChild(n),this.style.cssText=o,e},Vt=function(t){try{return t.getBBox()}catch(e){return Ut.call(t,!0)}},Gt=function(t){return!(!(It&&t.getCTM&&Vt(t))||t.parentNode&&!t.ownerSVGElement)},Ht=[1,0,0,1,0,0],zt=function(t,e){var n,i,r,o,s,a,l=t._gsTransform||new Nt,u=1e5,h=t.style;if(Pt?i=tt(t,Rt,null,!0):t.currentStyle&&(i=t.currentStyle.filter.match(N),i=i&&4===i.length?[i[0].substr(4),Number(i[2].substr(4)),Number(i[1].substr(4)),i[3].substr(4),l.x||0,l.y||0].join(","):""),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,!Pt||!(a="none"===$(t).display)&&t.parentNode||(a&&(o=h.display,h.display="block"),t.parentNode||(s=1,Dt.appendChild(t)),i=tt(t,Rt,null,!0),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,o?h.display=o:a&&Kt(h,"display"),s&&Dt.removeChild(t)),(l.svg||t.getCTM&&Gt(t))&&(n&&-1!==(h[Pt]+"").indexOf("matrix")&&(i=h[Pt],n=0),r=t.getAttribute("transform"),n&&r&&(-1!==r.indexOf("matrix")?(i=r,n=0):-1!==r.indexOf("translate")&&(i="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",n=0))),n)return Ht;for(r=(i||"").match(_)||[],wt=r.length;--wt>-1;)o=Number(r[wt]),r[wt]=(s=o-(o|=0))?(s*u+(0>s?-.5:.5)|0)/u+o:o;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},jt=q.getTransform=function(t,n,i,r){if(t._gsTransform&&i&&!r)return t._gsTransform;var o,s,l,u,h,c,p=i?t._gsTransform||new Nt:new Nt,d=p.scaleX<0,f=2e-5,m=1e5,g=Lt?parseFloat(tt(t,Ot,n,!1,"0 0 0").split(" ")[2])||p.zOrigin||0:0,v=parseFloat(a.defaultTransformPerspective)||0;if(p.svg=!(!t.getCTM||!Gt(t)),p.svg&&(Bt(t,tt(t,Ot,n,!1,"50% 50%")+"",p,t.getAttribute("data-svg-origin")),Mt=a.useSVGTransformAttr||Ft),o=zt(t),o!==Ht){if(16===o.length){var y,_,A,b,x,w=o[0],T=o[1],E=o[2],S=o[3],M=o[4],C=o[5],P=o[6],R=o[7],O=o[8],L=o[9],N=o[10],I=o[12],k=o[13],D=o[14],F=o[11],U=Math.atan2(P,N);p.zOrigin&&(D=-p.zOrigin,I=O*D-o[12],k=L*D-o[13],D=N*D+p.zOrigin-o[14]),p.rotationX=U*B,U&&(b=Math.cos(-U),x=Math.sin(-U),y=M*b+O*x,_=C*b+L*x,A=P*b+N*x,O=M*-x+O*b,L=C*-x+L*b,N=P*-x+N*b,F=R*-x+F*b,M=y,C=_,P=A),U=Math.atan2(-E,N),p.rotationY=U*B,U&&(b=Math.cos(-U),x=Math.sin(-U),y=w*b-O*x,_=T*b-L*x,A=E*b-N*x,L=T*x+L*b,N=E*x+N*b,F=S*x+F*b,w=y,T=_,E=A),U=Math.atan2(T,w),p.rotation=U*B,U&&(b=Math.cos(U),x=Math.sin(U),y=w*b+T*x,_=M*b+C*x,A=O*b+L*x,T=T*b-w*x,C=C*b-M*x,L=L*b-O*x,w=y,M=_,O=A),p.rotationX&&Math.abs(p.rotationX)+Math.abs(p.rotation)>359.9&&(p.rotationX=p.rotation=0,p.rotationY=180-p.rotationY),U=Math.atan2(M,C),p.scaleX=(Math.sqrt(w*w+T*T+E*E)*m+.5|0)/m,p.scaleY=(Math.sqrt(C*C+P*P)*m+.5|0)/m,p.scaleZ=(Math.sqrt(O*O+L*L+N*N)*m+.5|0)/m,w/=p.scaleX,M/=p.scaleY,T/=p.scaleX,C/=p.scaleY,Math.abs(U)>f?(p.skewX=U*B,M=0,"simple"!==p.skewType&&(p.scaleY*=1/Math.cos(U))):p.skewX=0,p.perspective=F?1/(0>F?-F:F):0,p.x=I,p.y=k,p.z=D,p.svg&&(p.x-=p.xOrigin-(p.xOrigin*w-p.yOrigin*M),p.y-=p.yOrigin-(p.yOrigin*T-p.xOrigin*C))}else if(!Lt||r||!o.length||p.x!==o[4]||p.y!==o[5]||!p.rotationX&&!p.rotationY){var V=o.length>=6,G=V?o[0]:1,H=o[1]||0,z=o[2]||0,j=V?o[3]:1;p.x=o[4]||0,p.y=o[5]||0,l=Math.sqrt(G*G+H*H),u=Math.sqrt(j*j+z*z),h=G||H?Math.atan2(H,G)*B:p.rotation||0,c=z||j?Math.atan2(z,j)*B+h:p.skewX||0,p.scaleX=l,p.scaleY=u,p.rotation=h,p.skewX=c,Lt&&(p.rotationX=p.rotationY=p.z=0,p.perspective=v,p.scaleZ=1),p.svg&&(p.x-=p.xOrigin-(p.xOrigin*G+p.yOrigin*z),p.y-=p.yOrigin-(p.xOrigin*H+p.yOrigin*j))}Math.abs(p.skewX)>90&&Math.abs(p.skewX)<270&&(d?(p.scaleX*=-1,p.skewX+=p.rotation<=0?180:-180,p.rotation+=p.rotation<=0?180:-180):(p.scaleY*=-1,p.skewX+=p.skewX<=0?180:-180)),p.zOrigin=g;for(s in p)p[s]<f&&p[s]>-f&&(p[s]=0)}return i&&(t._gsTransform=p,p.svg&&(Mt&&t.style[Pt]?e.delayedCall(.001,function(){Kt(t.style,Pt)}):!Mt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),p},qt=function(t){var e,n,i=this.data,r=-i.rotation*F,o=r+i.skewX*F,s=1e5,a=(Math.cos(r)*i.scaleX*s|0)/s,l=(Math.sin(r)*i.scaleX*s|0)/s,u=(Math.sin(o)*-i.scaleY*s|0)/s,h=(Math.cos(o)*i.scaleY*s|0)/s,c=this.t.style,p=this.t.currentStyle;if(p){n=l,l=-u,u=-n,e=p.filter,c.filter="";var d,f,m=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==p.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+l+", M21="+u+", M22="+h,A=i.x+m*i.xPercent/100,b=i.y+v*i.yPercent/100;if(null!=i.ox&&(d=(i.oxp?m*i.ox*.01:i.ox)-m/2,f=(i.oyp?v*i.oy*.01:i.oy)-v/2,A+=d-(d*a+f*l),b+=f-(d*u+f*h)),y?(d=m/2,f=v/2,_+=", Dx="+(d-(d*a+f*l)+A)+", Dy="+(f-(d*u+f*h)+b)+")"):_+=", sizingMethod='auto expand')",c.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(I,_):_+" "+e,(0===t||1===t)&&1===a&&0===l&&0===u&&1===h&&(y&&-1===_.indexOf("Dx=0, Dy=0")||T.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&c.removeAttribute("filter")),!y){var x,E,S,M=8>g?1:-1;for(d=i.ieOffsetX||0,f=i.ieOffsetY||0,i.ieOffsetX=Math.round((m-((0>a?-a:a)*m+(0>l?-l:l)*v))/2+A),i.ieOffsetY=Math.round((v-((0>h?-h:h)*v+(0>u?-u:u)*m))/2+b),wt=0;4>wt;wt++)E=st[wt],x=p[E],n=-1!==x.indexOf("px")?parseFloat(x):et(this.t,E,parseFloat(x),x.replace(w,""))||0,S=n!==i[E]?2>wt?-i.ieOffsetX:-i.ieOffsetY:2>wt?d-i.ieOffsetX:f-i.ieOffsetY,c[E]=(i[E]=Math.round(n-S*(0===wt||2===wt?1:M)))+"px"}}},Wt=q.set3DTransformRatio=q.setTransformRatio=function(t){var e,n,i,r,o,s,a,l,u,h,c,p,d,m,g,v,y,_,A,b,x,w,T,E=this.data,S=this.t.style,M=E.rotation,C=E.rotationX,P=E.rotationY,R=E.scaleX,O=E.scaleY,L=E.scaleZ,N=E.x,I=E.y,k=E.z,D=E.svg,B=E.perspective,U=E.force3D,V=E.skewY,G=E.skewX;if(V&&(G+=V,M+=V),!(((1!==t&&0!==t||"auto"!==U||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&U||k||B||P||C||1!==L)&&(!Mt||!D)&&Lt))return void(M||G||D?(M*=F,w=G*F,T=1e5,n=Math.cos(M)*R,o=Math.sin(M)*R,i=Math.sin(M-w)*-O,s=Math.cos(M-w)*O,w&&"simple"===E.skewType&&(e=Math.tan(w-V*F),e=Math.sqrt(1+e*e),i*=e,s*=e,V&&(e=Math.tan(V*F),e=Math.sqrt(1+e*e),n*=e,o*=e)),D&&(N+=E.xOrigin-(E.xOrigin*n+E.yOrigin*i)+E.xOffset,I+=E.yOrigin-(E.xOrigin*o+E.yOrigin*s)+E.yOffset,Mt&&(E.xPercent||E.yPercent)&&(g=this.t.getBBox(),N+=.01*E.xPercent*g.width,I+=.01*E.yPercent*g.height),g=1e-6,g>N&&N>-g&&(N=0),g>I&&I>-g&&(I=0)),A=(n*T|0)/T+","+(o*T|0)/T+","+(i*T|0)/T+","+(s*T|0)/T+","+N+","+I+")",D&&Mt?this.t.setAttribute("transform","matrix("+A):S[Pt]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+A):S[Pt]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+R+",0,0,"+O+","+N+","+I+")");if(f&&(g=1e-4,g>R&&R>-g&&(R=L=2e-5),g>O&&O>-g&&(O=L=2e-5),!B||E.z||E.rotationX||E.rotationY||(B=0)),M||G)M*=F,v=n=Math.cos(M),y=o=Math.sin(M),G&&(M-=G*F,v=Math.cos(M),y=Math.sin(M),"simple"===E.skewType&&(e=Math.tan((G-V)*F),e=Math.sqrt(1+e*e),v*=e,y*=e,E.skewY&&(e=Math.tan(V*F),e=Math.sqrt(1+e*e),n*=e,o*=e))),i=-y,s=v;else{if(!(P||C||1!==L||B||D))return void(S[Pt]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) translate3d(":"translate3d(")+N+"px,"+I+"px,"+k+"px)"+(1!==R||1!==O?" scale("+R+","+O+")":""));n=s=1,i=o=0}h=1,r=a=l=u=c=p=0,d=B?-1/B:0,m=E.zOrigin,g=1e-6,b=",",x="0",M=P*F,M&&(v=Math.cos(M),y=Math.sin(M),l=-y,c=d*-y,r=n*y,a=o*y,h=v,d*=v,n*=v,o*=v),M=C*F,M&&(v=Math.cos(M),y=Math.sin(M),e=i*v+r*y,_=s*v+a*y,u=h*y,p=d*y,r=i*-y+r*v,a=s*-y+a*v,h*=v,d*=v,i=e,s=_),1!==L&&(r*=L,a*=L,h*=L,d*=L),1!==O&&(i*=O,s*=O,u*=O,p*=O),1!==R&&(n*=R,o*=R,l*=R,c*=R),(m||D)&&(m&&(N+=r*-m,I+=a*-m,k+=h*-m+m),D&&(N+=E.xOrigin-(E.xOrigin*n+E.yOrigin*i)+E.xOffset,I+=E.yOrigin-(E.xOrigin*o+E.yOrigin*s)+E.yOffset),g>N&&N>-g&&(N=x),g>I&&I>-g&&(I=x),g>k&&k>-g&&(k=0)),A=E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix3d(":"matrix3d(",A+=(g>n&&n>-g?x:n)+b+(g>o&&o>-g?x:o)+b+(g>l&&l>-g?x:l),A+=b+(g>c&&c>-g?x:c)+b+(g>i&&i>-g?x:i)+b+(g>s&&s>-g?x:s),C||P||1!==L?(A+=b+(g>u&&u>-g?x:u)+b+(g>p&&p>-g?x:p)+b+(g>r&&r>-g?x:r),A+=b+(g>a&&a>-g?x:a)+b+(g>h&&h>-g?x:h)+b+(g>d&&d>-g?x:d)+b):A+=",0,0,0,0,1,0,",A+=N+b+I+b+k+b+(B?1+-k/B:1)+")",S[Pt]=A};h=Nt.prototype,h.x=h.y=h.z=h.skewX=h.skewY=h.rotation=h.rotationX=h.rotationY=h.zOrigin=h.xPercent=h.yPercent=h.xOffset=h.yOffset=0,h.scaleX=h.scaleY=h.scaleZ=1,Et("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,n,i,r,s,l){if(i._lastParsedTransform===l)return r;i._lastParsedTransform=l;var u,h=l.scale&&"function"==typeof l.scale?l.scale:0;"function"==typeof l[n]&&(u=l[n],l[n]=e),h&&(l.scale=h(y,t));var c,p,d,f,m,g,_,A,b,x=t._gsTransform,w=t.style,T=1e-6,E=Ct.length,S=l,M={},C="transformOrigin",P=jt(t,o,!0,S.parseTransform),R=S.transform&&("function"==typeof S.transform?S.transform(y,v):S.transform);if(P.skewType=S.skewType||P.skewType||a.defaultSkewType,i._transform=P,R&&"string"==typeof R&&Pt)p=z.style,p[Pt]=R,p.display="block",p.position="absolute",G.body.appendChild(z),c=jt(z,null,!1),"simple"===P.skewType&&(c.scaleY*=Math.cos(c.skewX*F)),P.svg&&(g=P.xOrigin,_=P.yOrigin,c.x-=P.xOffset,c.y-=P.yOffset,(S.transformOrigin||S.svgOrigin)&&(R={},Bt(t,lt(S.transformOrigin),R,S.svgOrigin,S.smoothOrigin,!0),g=R.xOrigin,_=R.yOrigin,c.x-=R.xOffset-P.xOffset,c.y-=R.yOffset-P.yOffset),(g||_)&&(A=zt(z,!0),c.x-=g-(g*A[0]+_*A[2]),c.y-=_-(g*A[1]+_*A[3]))),G.body.removeChild(z),c.perspective||(c.perspective=P.perspective),null!=S.xPercent&&(c.xPercent=ht(S.xPercent,P.xPercent)),null!=S.yPercent&&(c.yPercent=ht(S.yPercent,P.yPercent));else if("object"==typeof S){if(c={
scaleX:ht(null!=S.scaleX?S.scaleX:S.scale,P.scaleX),scaleY:ht(null!=S.scaleY?S.scaleY:S.scale,P.scaleY),scaleZ:ht(S.scaleZ,P.scaleZ),x:ht(S.x,P.x),y:ht(S.y,P.y),z:ht(S.z,P.z),xPercent:ht(S.xPercent,P.xPercent),yPercent:ht(S.yPercent,P.yPercent),perspective:ht(S.transformPerspective,P.perspective)},m=S.directionalRotation,null!=m)if("object"==typeof m)for(p in m)S[p]=m[p];else S.rotation=m;"string"==typeof S.x&&-1!==S.x.indexOf("%")&&(c.x=0,c.xPercent=ht(S.x,P.xPercent)),"string"==typeof S.y&&-1!==S.y.indexOf("%")&&(c.y=0,c.yPercent=ht(S.y,P.yPercent)),c.rotation=ct("rotation"in S?S.rotation:"shortRotation"in S?S.shortRotation+"_short":"rotationZ"in S?S.rotationZ:P.rotation,P.rotation,"rotation",M),Lt&&(c.rotationX=ct("rotationX"in S?S.rotationX:"shortRotationX"in S?S.shortRotationX+"_short":P.rotationX||0,P.rotationX,"rotationX",M),c.rotationY=ct("rotationY"in S?S.rotationY:"shortRotationY"in S?S.shortRotationY+"_short":P.rotationY||0,P.rotationY,"rotationY",M)),c.skewX=ct(S.skewX,P.skewX),c.skewY=ct(S.skewY,P.skewY)}for(Lt&&null!=S.force3D&&(P.force3D=S.force3D,f=!0),d=P.force3D||P.z||P.rotationX||P.rotationY||c.z||c.rotationX||c.rotationY||c.perspective,d||null==S.scale||(c.scaleZ=1);--E>-1;)b=Ct[E],R=c[b]-P[b],(R>T||-T>R||null!=S[b]||null!=U[b])&&(f=!0,r=new At(P,b,P[b],R,r),b in M&&(r.e=M[b]),r.xs0=0,r.plugin=s,i._overwriteProps.push(r.n));return R=S.transformOrigin,P.svg&&(R||S.svgOrigin)&&(g=P.xOffset,_=P.yOffset,Bt(t,lt(R),c,S.svgOrigin,S.smoothOrigin),r=bt(P,"xOrigin",(x?P:c).xOrigin,c.xOrigin,r,C),r=bt(P,"yOrigin",(x?P:c).yOrigin,c.yOrigin,r,C),(g!==P.xOffset||_!==P.yOffset)&&(r=bt(P,"xOffset",x?g:P.xOffset,P.xOffset,r,C),r=bt(P,"yOffset",x?_:P.yOffset,P.yOffset,r,C)),R="0px 0px"),(R||Lt&&d&&P.zOrigin)&&(Pt?(f=!0,b=Ot,R=(R||tt(t,b,o,!1,"50% 50%"))+"",r=new At(w,b,0,0,r,-1,C),r.b=w[b],r.plugin=s,Lt?(p=P.zOrigin,R=R.split(" "),P.zOrigin=(R.length>2&&(0===p||"0px"!==R[2])?parseFloat(R[2]):p)||0,r.xs0=r.e=R[0]+" "+(R[1]||"50%")+" 0px",r=new At(P,"zOrigin",0,0,r,-1,r.n),r.b=p,r.xs0=r.e=P.zOrigin):r.xs0=r.e=R):lt(R+"",P)),f&&(i._transformType=P.svg&&Mt||!d&&3!==this._transformType?2:3),u&&(l[n]=u),h&&(l.scale=h),r},prefix:!0}),Et("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Et("borderRadius",{defaultValue:"0px",parser:function(t,e,n,i,s,a){e=this.format(e);var l,u,h,c,p,d,f,m,g,v,y,_,A,b,x,w,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],E=t.style;for(g=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),l=e.split(" "),u=0;u<T.length;u++)this.p.indexOf("border")&&(T[u]=J(T[u])),p=c=tt(t,T[u],o,!1,"0px"),-1!==p.indexOf(" ")&&(c=p.split(" "),p=c[0],c=c[1]),d=h=l[u],f=parseFloat(p),_=p.substr((f+"").length),A="="===d.charAt(1),A?(m=parseInt(d.charAt(0)+"1",10),d=d.substr(2),m*=parseFloat(d),y=d.substr((m+"").length-(0>m?1:0))||""):(m=parseFloat(d),y=d.substr((m+"").length)),""===y&&(y=r[n]||_),y!==_&&(b=et(t,"borderLeft",f,_),x=et(t,"borderTop",f,_),"%"===y?(p=b/g*100+"%",c=x/v*100+"%"):"em"===y?(w=et(t,"borderLeft",1,"em"),p=b/w+"em",c=x/w+"em"):(p=b+"px",c=x+"px"),A&&(d=parseFloat(p)+m+y,h=parseFloat(c)+m+y)),s=xt(E,T[u],p+" "+c,d+" "+h,!1,"0px",s);return s},prefix:!0,formatter:vt("0px 0px 0px 0px",!1,!0)}),Et("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,n,i,r,s){return xt(t.style,n,this.format(tt(t,n,o,!1,"0px 0px")),this.format(e),!1,"0px",r)},prefix:!0,formatter:vt("0px 0px",!1,!0)}),Et("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,n,i,r,s){var a,l,u,h,c,p,d="background-position",f=o||$(t,null),m=this.format((f?g?f.getPropertyValue(d+"-x")+" "+f.getPropertyValue(d+"-y"):f.getPropertyValue(d):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==m.indexOf("%")!=(-1!==v.indexOf("%"))&&v.split(",").length<2&&(p=tt(t,"backgroundImage").replace(R,""),p&&"none"!==p)){for(a=m.split(" "),l=v.split(" "),j.setAttribute("src",p),u=2;--u>-1;)m=a[u],h=-1!==m.indexOf("%"),h!==(-1!==l[u].indexOf("%"))&&(c=0===u?t.offsetWidth-j.width:t.offsetHeight-j.height,a[u]=h?parseFloat(m)/100*c+"px":parseFloat(m)/c*100+"%");m=a.join(" ")}return this.parseComplex(t.style,m,v,r,s)},formatter:lt}),Et("backgroundSize",{defaultValue:"0 0",formatter:function(t){return t+="",lt(-1===t.indexOf(" ")?t+" "+t:t)}}),Et("perspective",{defaultValue:"0px",prefix:!0}),Et("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Et("transformStyle",{prefix:!0}),Et("backfaceVisibility",{prefix:!0}),Et("userSelect",{prefix:!0}),Et("margin",{parser:yt("marginTop,marginRight,marginBottom,marginLeft")}),Et("padding",{parser:yt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Et("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,n,i,r,s){var a,l,u;return 9>g?(l=t.currentStyle,u=8>g?" ":",",a="rect("+l.clipTop+u+l.clipRight+u+l.clipBottom+u+l.clipLeft+")",e=this.format(e).split(",").join(u)):(a=this.format(tt(t,this.p,o,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,r,s)}}),Et("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Et("autoRound,strictUnits",{parser:function(t,e,n,i,r){return r}}),Et("border",{defaultValue:"0px solid #000",parser:function(t,e,n,i,r,s){var a=tt(t,"borderTopWidth",o,!1,"0px"),l=this.format(e).split(" "),u=l[0].replace(w,"");return"px"!==u&&(a=parseFloat(a)/et(t,"borderTopWidth",1,u)+u),this.parseComplex(t.style,this.format(a+" "+tt(t,"borderTopStyle",o,!1,"solid")+" "+tt(t,"borderTopColor",o,!1,"#000")),l.join(" "),r,s)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(gt)||["#000"])[0]}}),Et("borderWidth",{parser:yt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Et("float,cssFloat,styleFloat",{parser:function(t,e,n,i,r,o){var s=t.style,a="cssFloat"in s?"cssFloat":"styleFloat";return new At(s,a,0,0,r,-1,n,!1,0,s[a],e)}});var Xt=function(t){var e,n=this.t,i=n.filter||tt(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(-1===i.indexOf("atrix(")&&-1===i.indexOf("radient(")&&-1===i.indexOf("oader(")?(n.removeAttribute("filter"),e=!tt(this.data,"filter")):(n.filter=i.replace(S,""),e=!0)),e||(this.xn1&&(n.filter=i=i||"alpha(opacity="+r+")"),-1===i.indexOf("pacity")?0===r&&this.xn1||(n.filter=i+" alpha(opacity="+r+")"):n.filter=i.replace(T,"opacity="+r))};Et("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,n,i,r,s){var a=parseFloat(tt(t,"opacity",o,!1,"1")),l=t.style,u="autoAlpha"===n;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),u&&1===a&&"hidden"===tt(t,"visibility",o)&&0!==e&&(a=0),X?r=new At(l,"opacity",a,e-a,r):(r=new At(l,"opacity",100*a,100*(e-a),r),r.xn1=u?1:0,l.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=t,r.plugin=s,r.setRatio=Xt),u&&(r=new At(l,"visibility",0,0,r,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit"),r.xs0="inherit",i._overwriteProps.push(r.n),i._overwriteProps.push(n)),r}});var Kt=function(t,e){e&&(t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(C,"-$1").toLowerCase())):t.removeAttribute(e))},Yt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,n=this.t.style;e;)e.v?n[e.p]=e.v:Kt(n,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Et("className",{parser:function(t,e,n,r,s,a,l){var u,h,c,p,d,f=t.getAttribute("class")||"",m=t.style.cssText;if(s=r._classNamePT=new At(t,n,0,0,s,2),s.setRatio=Yt,s.pr=-11,i=!0,s.b=f,h=it(t,o),c=t._gsClassPT){for(p={},d=c.data;d;)p[d.p]=1,d=d._next;c.setRatio(1)}return t._gsClassPT=s,s.e="="!==e.charAt(1)?e:f.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",s.e),u=rt(t,h,it(t),l,p),t.setAttribute("class",f),s.data=u.firstMPT,t.style.cssText=m,s=s.xfirst=r.parse(t,u.difs,s,a)}});var Zt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,n,i,r,o,s=this.t.style,a=u.transform.parse;if("all"===this.e)s.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),i=e.length;--i>-1;)n=e[i],u[n]&&(u[n].parse===a?r=!0:n="transformOrigin"===n?Ot:u[n].p),Kt(s,n);r&&(Kt(s,Pt),o=this.t._gsTransform,o&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Et("clearProps",{parser:function(t,e,n,r,o){return o=new At(t,n,0,0,o,2),o.setRatio=Zt,o.e=e,o.pr=-10,o.data=r._tween,i=!0,o}}),h="bezier,throwProps,physicsProps,physics2D".split(","),wt=h.length;wt--;)St(h[wt]);h=a.prototype,h._firstPT=h._lastParsedTransform=h._transform=null,h._onInitTween=function(t,e,n,l){if(!t.nodeType)return!1;this._target=v=t,this._tween=n,this._vars=e,y=l,c=e.autoRound,i=!1,r=e.suffixMap||a.suffixMap,o=$(t,""),s=this._overwriteProps;var h,f,g,_,A,b,x,w,T,S=t.style;if(p&&""===S.zIndex&&(h=tt(t,"zIndex",o),("auto"===h||""===h)&&this._addLazySet(S,"zIndex",0)),"string"==typeof e&&(_=S.cssText,h=it(t,o),S.cssText=_+";"+e,h=rt(t,h,it(t)).difs,!X&&E.test(e)&&(h.opacity=parseFloat(RegExp.$1)),e=h,S.cssText=_),this._firstPT=f=e.className?u.className.parse(t,e.className,"className",this,null,null,e):this.parse(t,e,null),this._transformType){for(T=3===this._transformType,Pt?d&&(p=!0,""===S.zIndex&&(x=tt(t,"zIndex",o),("auto"===x||""===x)&&this._addLazySet(S,"zIndex",0)),m&&this._addLazySet(S,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(T?"visible":"hidden"))):S.zoom=1,g=f;g&&g._next;)g=g._next;w=new At(t,"transform",0,0,null,2),this._linkCSSP(w,null,g),w.setRatio=Pt?Wt:qt,w.data=this._transform||jt(t,o,!0),w.tween=n,w.pr=-1,s.pop()}if(i){for(;f;){for(b=f._next,g=_;g&&g.pr>f.pr;)g=g._next;(f._prev=g?g._prev:A)?f._prev._next=f:_=f,(f._next=g)?g._prev=f:A=f,f=b}this._firstPT=_}return!0},h.parse=function(t,e,n,i){var s,a,l,h,p,d,f,m,g,_,A=t.style;for(s in e){if(d=e[s],"function"==typeof d&&(d=d(y,v)),a=u[s])n=a.parse(t,d,s,this,n,i,e);else{if("--"===s.substr(0,2)){this._tween._propLookup[s]=this._addTween.call(this._tween,t.style,"setProperty",$(t).getPropertyValue(s)+"",d+"",s,!1,s);continue}p=tt(t,s,o)+"",g="string"==typeof d,"color"===s||"fill"===s||"stroke"===s||-1!==s.indexOf("Color")||g&&M.test(d)?(g||(d=ft(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),n=xt(A,s,p,d,!0,"transparent",n,0,i)):g&&D.test(d)?n=xt(A,s,p,d,!0,null,n,0,i):(l=parseFloat(p),f=l||0===l?p.substr((l+"").length):"",(""===p||"auto"===p)&&("width"===s||"height"===s?(l=at(t,s,o),f="px"):"left"===s||"top"===s?(l=nt(t,s,o),f="px"):(l="opacity"!==s?0:1,f="")),_=g&&"="===d.charAt(1),_?(h=parseInt(d.charAt(0)+"1",10),d=d.substr(2),h*=parseFloat(d),m=d.replace(w,"")):(h=parseFloat(d),m=g?d.replace(w,""):""),""===m&&(m=s in r?r[s]:f),d=h||0===h?(_?h+l:h)+m:e[s],f!==m&&(""!==m||"lineHeight"===s)&&(h||0===h)&&l&&(l=et(t,s,l,f),"%"===m?(l/=et(t,s,100,"%")/100,e.strictUnits!==!0&&(p=l+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?l/=et(t,s,1,m):"px"!==m&&(h=et(t,s,h,m),m="px"),_&&(h||0===h)&&(d=h+l+m)),_&&(h+=l),!l&&0!==l||!h&&0!==h?void 0!==A[s]&&(d||d+""!="NaN"&&null!=d)?(n=new At(A,s,h||l||0,0,n,-1,s,!1,0,p,d),n.xs0="none"!==d||"display"!==s&&-1===s.indexOf("Style")?d:p):Y("invalid "+s+" tween value: "+e[s]):(n=new At(A,s,l,h-l,n,0,s,c!==!1&&("px"===m||"zIndex"===s),0,p,d),n.xs0=m))}i&&n&&!n.plugin&&(n.plugin=i)}return n},h.setRatio=function(t){var e,n,i,r=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):o>e&&e>-o&&(e=0),r.type)if(1===r.type)if(i=r.l,2===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(n=r.xs0+e+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(i=r.l,n=r.xs0+e+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},h._enableTransforms=function(t){this._transform=this._transform||jt(this._target,o,!0),this._transformType=this._transform.svg&&Mt||!t&&3!==this._transformType?2:3};var Qt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};h._addLazySet=function(t,e,n){var i=this._firstPT=new At(t,e,0,0,this._firstPT,2);i.e=n,i.setRatio=Qt,i.data=this},h._linkCSSP=function(t,e,n,i){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,i=!0),n?n._next=t:i||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=n),t},h._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},h._kill=function(e){var n,i,r,o=e;if(e.autoAlpha||e.alpha){o={};for(i in e)o[i]=e[i];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(e.className&&(n=this._classNamePT)&&(r=n.xfirst,r&&r._prev?this._linkCSSP(r._prev,n._next,r._prev._prev):r===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,r._prev),this._classNamePT=null),n=this._firstPT;n;)n.plugin&&n.plugin!==i&&n.plugin._kill&&(n.plugin._kill(e),i=n.plugin),n=n._next;return t.prototype._kill.call(this,o)};var Jt=function(t,e,n){var i,r,o,s;if(t.slice)for(r=t.length;--r>-1;)Jt(t[r],e,n);else for(i=t.childNodes,r=i.length;--r>-1;)o=i[r],s=o.type,o.style&&(e.push(it(o)),n&&n.push(o)),1!==s&&9!==s&&11!==s||!o.childNodes.length||Jt(o,e,n)};return a.cascadeTo=function(t,n,i){var r,o,s,a,l=e.to(t,n,i),u=[l],h=[],c=[],p=[],d=e._internals.reservedProps;for(t=l._targets||l.target,Jt(t,h,p),l.render(n,!0,!0),Jt(t,c),l.render(0,!0,!0),l._enabled(!0),r=p.length;--r>-1;)if(o=rt(p[r],h[r],c[r]),o.firstMPT){o=o.difs;for(s in i)d[s]&&(o[s]=i[s]);a={};for(s in o)a[s]=h[r][s];u.push(e.fromTo(p[r],n,a,o))}return u},t.activate([a]),a},!0),function(){var t=n._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,n){return this._tween=n,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},i=t.prototype;i._onInitAllProps=function(){for(var t,n,i,r=this._tween,o=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),s=o.length,a={},l=r._propLookup.roundProps;--s>-1;)a[o[s]]=Math.round;for(s=o.length;--s>-1;)for(t=o[s],n=r._firstPT;n;)i=n._next,n.pg?n.t._mod(a):n.n===t&&(2===n.f&&n.t?e(n.t._firstPT):(this._add(n.t,t,n.s,n.c),i&&(i._prev=n._prev),n._prev?n._prev._next=i:r._firstPT===n&&(r._firstPT=i),n._next=n._prev=null,r._propLookup[t]=l)),n=i;return!1},i._add=function(t,e,n,i){this._addTween(t,e,n,n+i,e,Math.round),this._overwriteProps.push(e)}}(),function(){n._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,n,i){var r,o;if("function"!=typeof t.setAttribute)return!1;for(r in e)o=e[r],"function"==typeof o&&(o=o(i,t)),this._addTween(t,"setAttribute",t.getAttribute(r)+"",o+"",r,!1,r),this._overwriteProps.push(r);return!0}})}(),n._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,n,i){"object"!=typeof e&&(e={rotation:e}),this.finals={};var r,o,s,a,l,u,h=e.useRadians===!0?2*Math.PI:360,c=1e-6;for(r in e)"useRadians"!==r&&(a=e[r],"function"==typeof a&&(a=a(i,t)),u=(a+"").split("_"),o=u[0],s=parseFloat("function"!=typeof t[r]?t[r]:t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]()),a=this.finals[r]="string"==typeof o&&"="===o.charAt(1)?s+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0,l=a-s,u.length&&(o=u.join("_"),-1!==o.indexOf("short")&&(l%=h,l!==l%(h/2)&&(l=0>l?l+h:l-h)),-1!==o.indexOf("_cw")&&0>l?l=(l+9999999999*h)%h-(l/h|0)*h:-1!==o.indexOf("ccw")&&l>0&&(l=(l-9999999999*h)%h-(l/h|0)*h)),(l>c||-c>l)&&(this._addTween(t,r,s,s+l,r),this._overwriteProps.push(r)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,n._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,r,o=n.GreenSockGlobals||n,s=o.com.greensock,a=2*Math.PI,l=Math.PI/2,u=s._class,h=function(e,n){var i=u("easing."+e,function(){},!0),r=i.prototype=new t;return r.constructor=i,r.getRatio=n,i},c=t.register||function(){},p=function(t,e,n,i,r){var o=u("easing."+t,{easeOut:new e,easeIn:new n,easeInOut:new i},!0);return c(o,t),o},d=function(t,e,n){this.t=t,this.v=e,n&&(this.next=n,n.prev=this,this.c=n.v-e,this.gap=n.t-t)},f=function(e,n){var i=u("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=i.prototype=new t;return r.constructor=i,r.getRatio=n,r.config=function(t){return new i(t)},i},m=p("Back",f("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),f("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),f("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),g=u("easing.SlowMo",function(t,e,n){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=n===!0},!0),v=g.prototype=new t;return v.constructor=g,v.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},g.ease=new g(.7,.7),v.config=g.config=function(t,e,n){return new g(t,e,n)},e=u("easing.SteppedEase",function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0},!0),v=e.prototype=new t,v.constructor=e,v.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},v.config=e.config=function(t,n){return new e(t,n)},i=u("easing.RoughEase",function(e){e=e||{};for(var n,i,r,o,s,a,l=e.taper||"none",u=[],h=0,c=0|(e.points||20),p=c,f=e.randomize!==!1,m=e.clamp===!0,g=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--p>-1;)n=f?Math.random():1/c*p,i=g?g.getRatio(n):n,"none"===l?r=v:"out"===l?(o=1-n,r=o*o*v):"in"===l?r=n*n*v:.5>n?(o=2*n,r=o*o*.5*v):(o=2*(1-n),r=o*o*.5*v),f?i+=Math.random()*r-.5*r:p%2?i+=.5*r:i-=.5*r,m&&(i>1?i=1:0>i&&(i=0)),u[h++]={x:n,y:i};for(u.sort(function(t,e){return t.x-e.x}),a=new d(1,1,null),p=c;--p>-1;)s=u[p],a=new d(s.x,s.y,a);this._prev=new d(0,0,0!==a.t?a:a.next)},!0),v=i.prototype=new t,v.constructor=i,v.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},v.config=function(t){return new i(t)},i.ease=new i,p("Bounce",h("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),h("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),h("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),p("Circ",h("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),h("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),h("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),r=function(e,n,i){var r=u("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||i)/(1>t?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),o=r.prototype=new t;return o.constructor=r,o.getRatio=n,o.config=function(t,e){return new r(t,e)},r},p("Elastic",r("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),r("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),r("ElasticInOut",function(t){return(t*=2)<1?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),p("Expo",h("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),h("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),h("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),p("Sine",h("SineOut",function(t){return Math.sin(t*l)}),h("SineIn",function(t){return-Math.cos(t*l)+1}),h("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),u("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),c(o.SlowMo,"SlowMo","ease,"),c(i,"RoughEase","ease,"),c(e,"SteppedEase","ease,"),m},!0)}),n._gsDefine&&n._gsQueue.pop()(),function(t,n){"use strict";var i={},r=t.document,o=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!o.TweenLite){var s,a,l,u,h,c=function(t){var e,n=t.split("."),i=o;for(e=0;e<n.length;e++)i[n[e]]=i=i[n[e]]||{};return i},p=c("com.greensock"),d=1e-10,f=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},m=function(){},g=function(){var t=Object.prototype.toString,e=t.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&t.call(n)===e)}}(),v={},y=function(r,s,a,l){this.sc=v[r]?v[r].sc:[],v[r]=this,this.gsClass=null,this.func=a;var u=[];this.check=function(h){for(var p,d,f,m,g=s.length,_=g;--g>-1;)(p=v[s[g]]||new y(s[g],[])).gsClass?(u[g]=p.gsClass,_--):h&&p.sc.push(this);if(0===_&&a){if(d=("com.greensock."+r).split("."),f=d.pop(),m=c(d.join("."))[f]=this.gsClass=a.apply(a,u),l)if(o[f]=i[f]=m,"undefined"!=typeof e&&e.exports)if(r===n){e.exports=i[n]=m;for(g in i)m[g]=i[g]}else i[n]&&(i[n][f]=m);else"function"==typeof define&&define.amd&&define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+r.split(".").pop(),[],function(){return m});for(g=0;g<this.sc.length;g++)this.sc[g].check()}},this.check(!0)},_=t._gsDefine=function(t,e,n,i){return new y(t,e,n,i)},A=p._class=function(t,e,n){return e=e||function(){},_(t,[],function(){return e},n),e};_.globals=o;var b=[0,0,1,1],x=A("easing.Ease",function(t,e,n,i){this._func=t,this._type=n||0,this._power=i||0,this._params=e?b.concat(e):b},!0),w=x.map={},T=x.register=function(t,e,n,i){for(var r,o,s,a,l=e.split(","),u=l.length,h=(n||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(o=l[u],r=i?A("easing."+o,null,!0):p.easing[o]||{},s=h.length;--s>-1;)a=h[s],w[o+"."+a]=w[a+o]=r[a]=t.getRatio?t:t[a]||new t};for(l=x.prototype,l._calcEnd=!1,l.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,n=this._power,i=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===n?i*=i:2===n?i*=i*i:3===n?i*=i*i*i:4===n&&(i*=i*i*i*i),1===e?1-i:2===e?i:.5>t?i/2:1-i/2},s=["Linear","Quad","Cubic","Quart","Quint,Strong"],a=s.length;--a>-1;)l=s[a]+",Power"+a,T(new x(null,null,1,a),l,"easeOut",!0),T(new x(null,null,2,a),l,"easeIn"+(0===a?",easeNone":"")),T(new x(null,null,3,a),l,"easeInOut");w.linear=p.easing.Linear.easeIn,w.swing=p.easing.Quad.easeInOut;var E=A("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});l=E.prototype,l.addEventListener=function(t,e,n,i,r){r=r||0;var o,s,a=this._listeners[t],l=0;for(this!==u||h||u.wake(),null==a&&(this._listeners[t]=a=[]),s=a.length;--s>-1;)o=a[s],o.c===e&&o.s===n?a.splice(s,1):0===l&&o.pr<r&&(l=s+1);a.splice(l,0,{c:e,s:n,up:i,pr:r})},l.removeEventListener=function(t,e){var n,i=this._listeners[t];if(i)for(n=i.length;--n>-1;)if(i[n].c===e)return void i.splice(n,1)},l.dispatchEvent=function(t){var e,n,i,r=this._listeners[t];if(r)for(e=r.length,e>1&&(r=r.slice(0)),n=this._eventTarget;--e>-1;)i=r[e],i&&(i.up?i.c.call(i.s||n,{type:t,target:n}):i.c.call(i.s||n))};var S=t.requestAnimationFrame,M=t.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},P=C();for(s=["ms","moz","webkit","o"],a=s.length;--a>-1&&!S;)S=t[s[a]+"RequestAnimationFrame"],M=t[s[a]+"CancelAnimationFrame"]||t[s[a]+"CancelRequestAnimationFrame"];A("Ticker",function(t,e){var n,i,o,s,a,l=this,c=C(),p=e!==!1&&S?"auto":!1,f=500,g=33,v="tick",y=function(t){var e,r,u=C()-P;u>f&&(c+=u-g),P+=u,l.time=(P-c)/1e3,e=l.time-a,(!n||e>0||t===!0)&&(l.frame++,a+=e+(e>=s?.004:s-e),r=!0),t!==!0&&(o=i(y)),r&&l.dispatchEvent(v)};E.call(l),l.time=l.frame=0,l.tick=function(){y(!0)},l.lagSmoothing=function(t,e){f=t||1/d,g=Math.min(e,f,0)},l.sleep=function(){null!=o&&(p&&M?M(o):clearTimeout(o),i=m,o=null,l===u&&(h=!1))},l.wake=function(t){null!==o?l.sleep():t?c+=-P+(P=C()):l.frame>10&&(P=C()-f+5),i=0===n?m:p&&S?S:function(t){return setTimeout(t,1e3*(a-l.time)+1|0)},l===u&&(h=!0),y(2)},l.fps=function(t){return arguments.length?(n=t,s=1/(n||60),a=this.time+s,void l.wake()):n},l.useRAF=function(t){return arguments.length?(l.sleep(),p=t,void l.fps(n)):p},l.fps(t),setTimeout(function(){"auto"===p&&l.frame<5&&"hidden"!==r.visibilityState&&l.useRAF(!1)},1500)}),l=p.Ticker.prototype=new p.events.EventDispatcher,l.constructor=p.Ticker;var R=A("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,Z){h||u.wake();var n=this.vars.useFrames?Y:Z;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});u=R.ticker=new p.Ticker,l=R.prototype,l._dirty=l._gc=l._initted=l._paused=!1,l._totalTime=l._time=0,l._rawPrevTime=-1,l._next=l._last=l._onUpdate=l._timeline=l.timeline=null,l._paused=!1;var O=function(){h&&C()-P>2e3&&"hidden"!==r.visibilityState&&u.wake();var t=setTimeout(O,2e3);t.unref&&t.unref()};O(),l.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},l.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},l.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},l.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},l.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},l.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},l.render=function(t,e,n){},l.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},l.isActive=function(){var t,e=this._timeline,n=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<n+this.totalDuration()/this._timeScale-1e-7},l._enabled=function(t,e){return h||u.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},l._kill=function(t,e){return this._enabled(!1,!1)},l.kill=function(t,e){return this._kill(t,e),this},l._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},l._swapSelfInParams=function(t){for(var e=t.length,n=t.concat();--e>-1;)"{self}"===t[e]&&(n[e]=this);return n},l._callback=function(t){var e=this.vars,n=e[t],i=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this,o=i?i.length:0;switch(o){case 0:n.call(r);break;case 1:n.call(r,i[0]);break;case 2:n.call(r,i[0],i[1]);break;default:n.apply(r,i)}},l.eventCallback=function(t,e,n,i){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=g(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,r[t+"Scope"]=i),"onUpdate"===t&&(this._onUpdate=e)}return this},l.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},l.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},l.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},l.totalTime=function(t,e,n){if(h||u.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!n&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var i=this._totalDuration,r=this._timeline;if(t>i&&!n&&(t=i),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?i-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(D.length&&J(),this.render(t,e,!1),D.length&&J())}return this},l.progress=l.totalProgress=function(t,e){var n=this.duration();return arguments.length?this.totalTime(n*t,e):n?this._time/n:this.ratio},l.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},l.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},l.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||d,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,n=e||0===e?e:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},l.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},l.paused=function(t){if(!arguments.length)return this._paused;var e,n,i=this._timeline;return t!=this._paused&&i&&(h||t||u.wake(),e=i.rawTime(),n=e-this._pauseTime,!t&&i.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==n&&this._initted&&this.duration()&&(e=i.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var L=A("core.SimpleTimeline",function(t){R.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});l=L.prototype=new R,l.constructor=L,l.kill()._gc=!1,l._first=l._last=l._recent=null,l._sortChildren=!1,l.add=l.insert=function(t,e,n,i){var r,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(o=t._startTime;r&&r._startTime>o;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},l._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},l.render=function(t,e,n){
var i,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)i=r._next,(r._active||t>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)),r=i},l.rawTime=function(){return h||u.wake(),this._totalTime};var N=A("TweenLite",function(e,n,i){if(R.call(this,n,i),this.render=N.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:N.selector(e)||e;var r,o,s,a=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?K[N.defaultOverwrite]:"number"==typeof l?l>>0:K[l],(a||e instanceof Array||e.push&&g(e))&&"number"!=typeof e[0])for(this._targets=s=f(e),this._propLookup=[],this._siblings=[],r=0;r<s.length;r++)o=s[r],o?"string"!=typeof o?o.length&&o!==t&&o[0]&&(o[0]===t||o[0].nodeType&&o[0].style&&!o.nodeType)?(s.splice(r--,1),this._targets=s=s.concat(f(o))):(this._siblings[r]=$(o,this,!1),1===l&&this._siblings[r].length>1&&et(o,this,null,1,this._siblings[r])):(o=s[r--]=N.selector(o),"string"==typeof o&&s.splice(r+1,1)):s.splice(r--,1);else this._propLookup={},this._siblings=$(e,this,!1),1===l&&this._siblings.length>1&&et(e,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-d,this.render(Math.min(0,-this._delay)))},!0),I=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},k=function(t,e){var n,i={};for(n in t)X[n]||n in e&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!j[n]||j[n]&&j[n]._autoCSS)||(i[n]=t[n],delete t[n]);t.css=i};l=N.prototype=new R,l.constructor=N,l.kill()._gc=!1,l.ratio=0,l._firstPT=l._targets=l._overwrittenProps=l._startAt=null,l._notifyPluginsOfEnabled=l._lazy=!1,N.version="1.20.2",N.defaultEase=l._ease=new x(null,null,1,1),N.defaultOverwrite="auto",N.ticker=u,N.autoSleep=120,N.lagSmoothing=function(t,e){u.lagSmoothing(t,e)},N.selector=t.$||t.jQuery||function(e){var n=t.$||t.jQuery;return n?(N.selector=n,n(e)):"undefined"==typeof r?e:r.querySelectorAll?r.querySelectorAll(e):r.getElementById("#"===e.charAt(0)?e.substr(1):e)};var D=[],F={},B=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,U=/[\+-]=-?[\.\d]/,V=function(t){for(var e,n=this._firstPT,i=1e-6;n;)e=n.blob?1===t&&this.end?this.end:t?this.join(""):this.start:n.c*t+n.s,n.m?e=n.m(e,this._target||n.t):i>e&&e>-i&&!n.blob&&(e=0),n.f?n.fp?n.t[n.p](n.fp,e):n.t[n.p](e):n.t[n.p]=e,n=n._next},G=function(t,e,n,i){var r,o,s,a,l,u,h,c=[],p=0,d="",f=0;for(c.start=t,c.end=e,t=c[0]=t+"",e=c[1]=e+"",n&&(n(c),t=c[0],e=c[1]),c.length=0,r=t.match(B)||[],o=e.match(B)||[],i&&(i._next=null,i.blob=1,c._firstPT=c._applyPT=i),l=o.length,a=0;l>a;a++)h=o[a],u=e.substr(p,e.indexOf(h,p)-p),d+=u||!a?u:",",p+=u.length,f?f=(f+1)%5:"rgba("===u.substr(-5)&&(f=1),h===r[a]||r.length<=a?d+=h:(d&&(c.push(d),d=""),s=parseFloat(r[a]),c.push(s),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:s,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-s)||0,f:0,m:f&&4>f?Math.round:0}),p+=h.length;return d+=e.substr(p),d&&c.push(d),c.setRatio=V,U.test(e)&&(c.end=0),c},H=function(t,e,n,i,r,o,s,a,l){"function"==typeof i&&(i=i(l||0,t));var u,h=typeof t[e],c="function"!==h?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),p="get"!==n?n:c?s?t[c](s):t[c]():t[e],d="string"==typeof i&&"="===i.charAt(1),f={t:t,p:e,s:p,f:"function"===h,pg:0,n:r||e,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:d?parseInt(i.charAt(0)+"1",10)*parseFloat(i.substr(2)):parseFloat(i)-p||0};return("number"!=typeof p||"number"!=typeof i&&!d)&&(s||isNaN(p)||!d&&isNaN(i)||"boolean"==typeof p||"boolean"==typeof i?(f.fp=s,u=G(p,d?parseFloat(f.s)+f.c:i,a||N.defaultStringFilter,f),f={t:u,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0,m:0}):(f.s=parseFloat(p),d||(f.c=parseFloat(i)-f.s||0))),f.c?((f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f):void 0},z=N._internals={isArray:g,isSelector:I,lazyTweens:D,blobDif:G},j=N._plugins={},q=z.tweenLookup={},W=0,X=z.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},K={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},Y=R._rootFramesTimeline=new L,Z=R._rootTimeline=new L,Q=30,J=z.lazyRender=function(){var t,e=D.length;for(F={};--e>-1;)t=D[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);D.length=0};Z._startTime=u.time,Y._startTime=u.frame,Z._active=Y._active=!0,setTimeout(J,1),R._updateRoot=N.render=function(){var t,e,n;if(D.length&&J(),Z.render((u.time-Z._startTime)*Z._timeScale,!1,!1),Y.render((u.frame-Y._startTime)*Y._timeScale,!1,!1),D.length&&J(),u.frame>=Q){Q=u.frame+(parseInt(N.autoSleep,10)||120);for(n in q){for(e=q[n].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete q[n]}if(n=Z._first,(!n||n._paused)&&N.autoSleep&&!Y._first&&1===u._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||u.sleep()}}},u.addEventListener("tick",R._updateRoot);var $=function(t,e,n){var i,r,o=t._gsTweenID;if(q[o||(t._gsTweenID=o="t"+W++)]||(q[o]={target:t,tweens:[]}),e&&(i=q[o].tweens,i[r=i.length]=e,n))for(;--r>-1;)i[r]===e&&i.splice(r,1);return q[o].tweens},tt=function(t,e,n,i){var r,o,s=t.vars.onOverwrite;return s&&(r=s(t,e,n,i)),s=N.onOverwrite,s&&(o=s(t,e,n,i)),r!==!1&&o!==!1},et=function(t,e,n,i,r){var o,s,a,l;if(1===i||i>=4){for(l=r.length,o=0;l>o;o++)if((a=r[o])!==e)a._gc||a._kill(null,t,e)&&(s=!0);else if(5===i)break;return s}var u,h=e._startTime+d,c=[],p=0,f=0===e._duration;for(o=r.length;--o>-1;)(a=r[o])===e||a._gc||a._paused||(a._timeline!==e._timeline?(u=u||nt(e,0,f),0===nt(a,u,f)&&(c[p++]=a)):a._startTime<=h&&a._startTime+a.totalDuration()/a._timeScale>h&&((f||!a._initted)&&h-a._startTime<=2e-10||(c[p++]=a)));for(o=p;--o>-1;)if(a=c[o],2===i&&a._kill(n,t,e)&&(s=!0),2!==i||!a._firstPT&&a._initted){if(2!==i&&!tt(a,e))continue;a._enabled(!1,!1)&&(s=!0)}return s},nt=function(t,e,n){for(var i=t._timeline,r=i._timeScale,o=t._startTime;i._timeline;){if(o+=i._startTime,r*=i._timeScale,i._paused)return-100;i=i._timeline}return o/=r,o>e?o-e:n&&o===e||!t._initted&&2*d>o-e?d:(o+=t.totalDuration()/t._timeScale/r)>e+d?0:o-e-d};l._init=function(){var t,e,n,i,r,o,s=this.vars,a=this._overwrittenProps,l=this._duration,u=!!s.immediateRender,h=s.ease;if(s.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(i in s.startAt)r[i]=s.startAt[i];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=u&&s.lazy!==!1,r.startAt=r.delay=null,r.onUpdate=s.onUpdate,r.onUpdateScope=s.onUpdateScope||s.callbackScope||this,this._startAt=N.to(this.target,0,r),u)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(s.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(u=!1),n={};for(i in s)X[i]&&"autoCSS"!==i||(n[i]=s[i]);if(n.overwrite=0,n.data="isFromStart",n.lazy=u&&s.lazy!==!1,n.immediateRender=u,this._startAt=N.to(this.target,0,n),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof x?h:"function"==typeof h?new x(h,s.easeParams):w[h]||N.defaultEase:N.defaultEase,s.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,t=0;o>t;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(e&&N._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=s.onUpdate,this._initted=!0},l._initProps=function(e,n,i,r,o){var s,a,l,u,h,c;if(null==e)return!1;F[e._gsTweenID]&&J(),this.vars.css||e.style&&e!==t&&e.nodeType&&j.css&&this.vars.autoCSS!==!1&&k(this.vars,e);for(s in this.vars)if(c=this.vars[s],X[s])c&&(c instanceof Array||c.push&&g(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[s]=c=this._swapSelfInParams(c,this));else if(j[s]&&(u=new j[s])._onInitTween(e,this.vars[s],this,o)){for(this._firstPT=h={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:1,n:s,pg:1,pr:u._priority,m:0},a=u._overwriteProps.length;--a>-1;)n[u._overwriteProps[a]]=this._firstPT;(u._priority||u._onInitAllProps)&&(l=!0),(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else n[s]=H.call(this,e,s,"get",c,s,0,null,this.vars.stringFilter,o);return r&&this._kill(r,e)?this._initProps(e,n,i,r,o):this._overwrite>1&&this._firstPT&&i.length>1&&et(e,this,n,this._overwrite,i)?(this._kill(n,e),this._initProps(e,n,i,r,o)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(F[e._gsTweenID]=!0),l)},l.render=function(t,e,n){var i,r,o,s,a=this._time,l=this._duration,u=this._rawPrevTime;if(t>=l-1e-7&&t>=0)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,r="onComplete",n=n||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(0>u||0>=t&&t>=-1e-7||u===d&&"isPause"!==this.data)&&u!==t&&(n=!0,u>d&&(r="onReverseComplete")),this._rawPrevTime=s=!e||t||u===t?t:d);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&u>0)&&(r="onReverseComplete",i=this._reversed),0>t&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||n)&&(u>=0&&(u!==d||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=s=!e||t||u===t?t:d)),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/l,c=this._easeType,p=this._easePower;(1===c||3===c&&h>=.5)&&(h=1-h),3===c&&(h*=2),1===p?h*=h:2===p?h*=h*h:3===p?h*=h*h*h:4===p&&(h*=h*h*h*h),this.ratio=1===c?1-h:2===c?h:.5>t/l?h/2:1-h/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==a||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=u,D.push(this),void(this._lazy=[t,e]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/l):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,e,n):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,n),e||(this._time!==a||i||n)&&this._callback("onUpdate")),r&&(!this._gc||n)&&(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===l&&this._rawPrevTime===d&&s!==d&&(this._rawPrevTime=0))}},l._kill=function(t,e,n){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:N.selector(e)||e;var i,r,o,s,a,l,u,h,c,p=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((g(e)||I(e))&&"number"!=typeof e[0])for(i=e.length;--i>-1;)this._kill(t,e[i],n)&&(l=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(e===this._targets[i]){a=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(u=t||a,h=t!==r&&"all"!==r&&t!==a&&("object"!=typeof t||!t._tempKill),n&&(N.onOverwrite||this.vars.onOverwrite)){for(o in u)a[o]&&(c||(c=[]),c.push(o));if((c||!t)&&!tt(this,n,e,c))return!1}for(o in u)(s=a[o])&&(p&&(s.f?s.t[s.p](s.s):s.t[s.p]=s.s,l=!0),s.pg&&s.t._kill(u)&&(l=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete a[o]),h&&(r[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},l.invalidate=function(){return this._notifyPluginsOfEnabled&&N._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],R.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-d,this.render(Math.min(0,-this._delay))),this},l._enabled=function(t,e){if(h||u.wake(),t&&this._gc){var n,i=this._targets;if(i)for(n=i.length;--n>-1;)this._siblings[n]=$(i[n],this,!0);else this._siblings=$(this.target,this,!0)}return R.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?N._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},N.to=function(t,e,n){return new N(t,e,n)},N.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new N(t,e,n)},N.fromTo=function(t,e,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new N(t,e,i)},N.delayedCall=function(t,e,n,i,r){return new N(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},N.set=function(t,e){return new N(t,0,e)},N.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:N.selector(t)||t;var n,i,r,o;if((g(t)||I(t))&&"number"!=typeof t[0]){for(n=t.length,i=[];--n>-1;)i=i.concat(N.getTweensOf(t[n],e));for(n=i.length;--n>-1;)for(o=i[n],r=n;--r>-1;)o===i[r]&&i.splice(n,1)}else if(t._gsTweenID)for(i=$(t).concat(),n=i.length;--n>-1;)(i[n]._gc||e&&!i[n].isActive())&&i.splice(n,1);return i||[]},N.killTweensOf=N.killDelayedCallsTo=function(t,e,n){"object"==typeof e&&(n=e,e=!1);for(var i=N.getTweensOf(t,e),r=i.length;--r>-1;)i[r]._kill(n,t)};var it=A("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=it.prototype},!0);if(l=it.prototype,it.version="1.19.0",it.API=2,l._firstPT=null,l._addTween=H,l.setRatio=V,l._kill=function(t){var e,n=this._overwriteProps,i=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=n.length;--e>-1;)null!=t[n[e]]&&n.splice(e,1);for(;i;)null!=t[i.n]&&(i._next&&(i._next._prev=i._prev),i._prev?(i._prev._next=i._next,i._prev=null):this._firstPT===i&&(this._firstPT=i._next)),i=i._next;return!1},l._mod=l._roundProps=function(t){for(var e,n=this._firstPT;n;)e=t[this._propName]||null!=n.n&&t[n.n.split(this._propName+"_").join("")],e&&"function"==typeof e&&(2===n.f?n.t._applyPT.m=e:n.m=e),n=n._next},N._onPluginEvent=function(t,e){var n,i,r,o,s,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(s=a._next,i=r;i&&i.pr>a.pr;)i=i._next;(a._prev=i?i._prev:o)?a._prev._next=a:r=a,(a._next=i)?i._prev=a:o=a,a=s}a=e._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(n=!0),a=a._next;return n},it.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===it.API&&(j[(new t[e])._propName]=t[e]);return!0},_.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,n=t.propName,i=t.priority||0,r=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},s=A("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){it.call(this,n,i),this._overwriteProps=r||[]},t.global===!0),a=s.prototype=new it(n);a.constructor=s,s.API=t.API;for(e in o)"function"==typeof t[e]&&(a[o[e]]=t[e]);return s.version=t.version,it.activate([s]),s},s=t._gsQueue){for(a=0;a<s.length;a++)s[a]();for(l in v)v[l].func||t.console.log("GSAP encountered missing dependency: "+l)}h=!1}}("undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window,"TweenMax")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],75:[function(t,e,n){(function(t){!function(){"use strict";var e=function(){this.init()};e.prototype={init:function(){var t=this||i;return t._counter=1e3,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.mobileAutoEnable=!0,t._setup(),t},volume:function(t){var e=this||i;if(t=parseFloat(t),e.ctx||c(),"undefined"!=typeof t&&t>=0&&1>=t){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,i.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),o=0;o<r.length;o++){var s=e._howls[n]._soundById(r[o]);s&&s._node&&(s._node.volume=s._volume*t)}return e}return e._volume},mute:function(t){var e=this||i;e.ctx||c(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,i.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),o=0;o<r.length;o++){var s=e._howls[n]._soundById(r[o]);s&&s._node&&(s._node.muted=t?!0:s._muted)}return e},unload:function(){for(var t=this||i,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&"undefined"!=typeof t.ctx.close&&(t.ctx.close(),t.ctx=null,c()),t},codecs:function(t){return(this||i)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||i;if(t.state=t.ctx?t.ctx.state||"running":"running",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{var e=new Audio;"undefined"==typeof e.oncanplaythrough&&(t._canPlayEvent="canplay")}catch(n){t.noAudio=!0}else t.noAudio=!0;try{var e=new Audio;e.muted&&(t.noAudio=!0)}catch(n){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||i,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(n){return t}if(!e||"function"!=typeof e.canPlayType)return t;var r=e.canPlayType("audio/mpeg;").replace(/^no$/,""),o=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),s=o&&parseInt(o[0].split("/")[1],10)<33;return t._codecs={mp3:!(s||!r&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_enableMobileAudio:function(){var t=this||i,e=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(t._navigator&&t._navigator.userAgent),n=!!("ontouchend"in window||t._navigator&&t._navigator.maxTouchPoints>0||t._navigator&&t._navigator.msMaxTouchPoints>0);if(!t._mobileEnabled&&t.ctx&&(e||n)){t._mobileEnabled=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var r=function(){i._autoResume();var e=t.ctx.createBufferSource();e.buffer=t._scratchBuffer,e.connect(t.ctx.destination),"undefined"==typeof e.start?e.noteOn(0):e.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),e.onended=function(){e.disconnect(0),t._mobileEnabled=!0,t.mobileAutoEnable=!1,document.removeEventListener("touchstart",r,!0),document.removeEventListener("touchend",r,!0)}};return document.addEventListener("touchstart",r,!0),document.addEventListener("touchend",r,!0),t}},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&"undefined"!=typeof t.ctx.suspend&&i.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then(function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())}))},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&"undefined"!=typeof t.ctx.resume&&i.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.ctx.resume().then(function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var i=new e,r=function(t){var e=this;return t.src&&0!==t.src.length?void e.init(t):void console.error("An array of source files must be passed with any new Howl.")};r.prototype={init:function(t){var e=this;return i.ctx||c(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"==typeof t.preload?t.preload:!0,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhrWithCredentials=t.xhrWithCredentials||!1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onresume=[],e._webAudio=i.usingWebAudio&&!e._html5,"undefined"!=typeof i.ctx&&i.ctx&&i.mobileAutoEnable&&i._enableMobileAudio(),i._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=this,e=null;if(i.noAudio)return void t._emit("loaderror",null,"No audio support.");"string"==typeof t._src&&(t._src=[t._src]);for(var n=0;n<t._src.length;n++){var r,s;if(t._format&&t._format[n])r=t._format[n];else{if(s=t._src[n],"string"!=typeof s){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}r=/^data:audio\/([^;,]+);/i.exec(s),r||(r=/\.([^.]+)$/.exec(s.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&i.codecs(r)){e=t._src[n];break}}return e?(t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new o(t),t._webAudio&&a(t),t):void t._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(t,e){var n=this,r=null;if("number"==typeof t)r=t,t=null;else{if("string"==typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if("undefined"==typeof t){t="__default";for(var o=0,s=0;s<n._sounds.length;s++)n._sounds[s]._paused&&!n._sounds[s]._ended&&(o++,r=n._sounds[s]._id);1===o?t=null:r=null}}var a=r?n._soundById(r):n._inactiveSound();if(!a)return null;if(r&&!t&&(t=a._sprite||"__default"),"loaded"!==n._state){a._sprite=t,a._ended=!1;var l=a._id;return n._queue.push({event:"play",action:function(){n.play(l)}}),l}if(r&&!a._paused)return e||setTimeout(function(){n._emit("play",a._id)},0),a._id;n._webAudio&&i._autoResume();var u=Math.max(0,a._seek>0?a._seek:n._sprite[t][0]/1e3),h=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-u),c=1e3*h/Math.abs(a._rate);a._paused=!1,a._ended=!1,a._sprite=t,a._seek=u,a._start=n._sprite[t][0]/1e3,a._stop=(n._sprite[t][0]+n._sprite[t][1])/1e3,a._loop=!(!a._loop&&!n._sprite[t][2]);var p=a._node;if(n._webAudio){var d=function(){n._refreshBuffer(a);var t=a._muted||n._muted?0:a._volume;p.gain.setValueAtTime(t,i.ctx.currentTime),a._playStart=i.ctx.currentTime,"undefined"==typeof p.bufferSource.start?a._loop?p.bufferSource.noteGrainOn(0,u,86400):p.bufferSource.noteGrainOn(0,u,h):a._loop?p.bufferSource.start(0,u,86400):p.bufferSource.start(0,u,h),c!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),c)),e||setTimeout(function(){n._emit("play",a._id)},0)};"running"===i.state?d():(n.once("resume",d),n._clearTimer(a._id))}else{var f=function(){p.currentTime=u,p.muted=a._muted||n._muted||i._muted||p.muted,p.volume=a._volume*i.volume(),p.playbackRate=a._rate;try{var t=p.play();if("undefined"!=typeof Promise&&t instanceof Promise&&(n._playLock=!0,t.then(function(){n._playLock=!1,n._loadQueue()})),p.paused)return void n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices where playback was not within a user interaction.");c!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),c)),e||n._emit("play",a._id)}catch(r){n._emit("playerror",a._id,r)}},m=window&&window.ejecta||!p.readyState&&i._navigator.isCocoonJS;if(4===p.readyState||m)f();else{var g=function(){f(),p.removeEventListener(i._canPlayEvent,g,!1)};p.addEventListener(i._canPlayEvent,g,!1),n._clearTimer(a._id)}}return a._id},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),i=0;i<n.length;i++){e._clearTimer(n[i]);var r=e._soundById(n[i]);if(r&&!r._paused&&(r._seek=e.seek(n[i]),r._rateSeek=0,r._paused=!0,e._stopFade(n[i]),r._node))if(e._webAudio){if(!r._node.bufferSource)continue;"undefined"==typeof r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),e._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||e._emit("pause",r?r._id:null)}return e},stop:function(t,e){var n=this;if("loaded"!==n._state)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var i=n._getSoundIds(t),r=0;r<i.length;r++){n._clearTimer(i[r]);var o=n._soundById(i[r]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(i[r]),o._node&&(n._webAudio?o._node.bufferSource&&("undefined"==typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause())),e||n._emit("stop",o._id))}return n},mute:function(t,e){var n=this;if("loaded"!==n._state)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if("undefined"==typeof e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var r=n._getSoundIds(e),o=0;o<r.length;o++){var s=n._soundById(r[o]);s&&(s._muted=t,s._interval&&n._stopFade(s._id),n._webAudio&&s._node?s._node.gain.setValueAtTime(t?0:s._volume,i.ctx.currentTime):s._node&&(s._node.muted=i._muted?!0:t),n._emit("mute",s._id))}return n},volume:function(){var t,e,n=this,r=arguments;if(0===r.length)return n._volume;if(1===r.length||2===r.length&&"undefined"==typeof r[1]){var o=n._getSoundIds(),s=o.indexOf(r[0]);s>=0?e=parseInt(r[0],10):t=parseFloat(r[0])}else r.length>=2&&(t=parseFloat(r[0]),e=parseInt(r[1],10));var a;if(!("undefined"!=typeof t&&t>=0&&1>=t))return a=e?n._soundById(e):n._sounds[0],a?a._volume:0;if("loaded"!==n._state)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,r)}}),n;"undefined"==typeof e&&(n._volume=t),e=n._getSoundIds(e);for(var l=0;l<e.length;l++)a=n._soundById(e[l]),a&&(a._volume=t,r[2]||n._stopFade(e[l]),n._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(t,i.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=t*i.volume()),n._emit("volume",a._id));return n},fade:function(t,e,n,r){var o=this;if("loaded"!==o._state)return o._queue.push({event:"fade",action:function(){o.fade(t,e,n,r)}}),o;o.volume(t,r);for(var s=o._getSoundIds(r),a=0;a<s.length;a++){var l=o._soundById(s[a]);if(l){if(r||o._stopFade(s[a]),o._webAudio&&!l._muted){var u=i.ctx.currentTime,h=u+n/1e3;l._volume=t,l._node.gain.setValueAtTime(t,u),l._node.gain.linearRampToValueAtTime(e,h)}o._startFadeInterval(l,t,e,n,s[a],"undefined"==typeof r)}}return o},_startFadeInterval:function(t,e,n,i,r,o){var s=this,a=e,l=n-e,u=Math.abs(l/.01),h=Math.max(4,u>0?i/u:i),c=Date.now();t._fadeTo=n,t._interval=setInterval(function(){var r=(Date.now()-c)/i;c=Date.now(),a+=l*r,a=Math.max(0,a),a=Math.min(1,a),a=Math.round(100*a)/100,s._webAudio?t._volume=a:s.volume(a,t._id,!0),o&&(s._volume=a),(e>n&&n>=a||n>e&&a>=n)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,s.volume(n,t._id),s._emit("fade",t._id))},h)},_stopFade:function(t){var e=this,n=e._soundById(t);return n&&n._interval&&(e._webAudio&&n._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(n._interval),n._interval=null,e.volume(n._fadeTo,t),n._fadeTo=null,e._emit("fade",t)),e},loop:function(){var t,e,n,i=this,r=arguments;if(0===r.length)return i._loop;if(1===r.length){if("boolean"!=typeof r[0])return n=i._soundById(parseInt(r[0],10)),n?n._loop:!1;t=r[0],i._loop=t}else 2===r.length&&(t=r[0],e=parseInt(r[1],10));for(var o=i._getSoundIds(e),s=0;s<o.length;s++)n=i._soundById(o[s]),n&&(n._loop=t,i._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t,t&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return i},rate:function(){var t,e,n=this,r=arguments;if(0===r.length)e=n._sounds[0]._id;else if(1===r.length){var o=n._getSoundIds(),s=o.indexOf(r[0]);s>=0?e=parseInt(r[0],10):t=parseFloat(r[0])}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));var a;if("number"!=typeof t)return a=n._soundById(e),a?a._rate:n._rate;if("loaded"!==n._state)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,r)}}),n;"undefined"==typeof e&&(n._rate=t),e=n._getSoundIds(e);for(var l=0;l<e.length;l++)if(a=n._soundById(e[l])){a._rateSeek=n.seek(e[l]),a._playStart=n._webAudio?i.ctx.currentTime:a._playStart,a._rate=t,n._webAudio&&a._node&&a._node.bufferSource?a._node.bufferSource.playbackRate.setValueAtTime(t,i.ctx.currentTime):a._node&&(a._node.playbackRate=t);var u=n.seek(e[l]),h=(n._sprite[a._sprite][0]+n._sprite[a._sprite][1])/1e3-u,c=1e3*h/Math.abs(a._rate);(n._endTimers[e[l]]||!a._paused)&&(n._clearTimer(e[l]),n._endTimers[e[l]]=setTimeout(n._ended.bind(n,a),c)),n._emit("rate",a._id)}return n},seek:function(){var t,e,n=this,r=arguments;if(0===r.length)e=n._sounds[0]._id;else if(1===r.length){var o=n._getSoundIds(),s=o.indexOf(r[0]);s>=0?e=parseInt(r[0],10):n._sounds.length&&(e=n._sounds[0]._id,t=parseFloat(r[0]))}else 2===r.length&&(t=parseFloat(r[0]),
e=parseInt(r[1],10));if("undefined"==typeof e)return n;if("loaded"!==n._state)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var a=n._soundById(e);if(a){if(!("number"==typeof t&&t>=0)){if(n._webAudio){var l=n.playing(e)?i.ctx.currentTime-a._playStart:0,u=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(u+l*Math.abs(a._rate))}return a._node.currentTime}var h=n.playing(e);h&&n.pause(e,!0),a._seek=t,a._ended=!1,n._clearTimer(e),h&&n.play(e,!0),!n._webAudio&&a._node&&(a._node.currentTime=t),n._emit("seek",e)}return n},playing:function(t){var e=this;if("number"==typeof t){var n=e._soundById(t);return n?!n._paused:!1}for(var i=0;i<e._sounds.length;i++)if(!e._sounds[i]._paused)return!0;return!1},duration:function(t){var e=this,n=e._duration,i=e._soundById(t);return i&&(n=e._sprite[i._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++){if(e[n]._paused||t.stop(e[n]._id),!t._webAudio){var r=/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent);r||(e[n]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(i._canPlayEvent,e[n]._loadFn,!1)}delete e[n]._node,t._clearTimer(e[n]._id);var o=i._howls.indexOf(t);o>=0&&i._howls.splice(o,1)}var a=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===t._src){a=!1;break}return s&&a&&delete s[t._src],i.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,n,i){var r=this,o=r["_on"+t];return"function"==typeof e&&o.push(i?{id:n,fn:e,once:i}:{id:n,fn:e}),r},off:function(t,e,n){var i=this,r=i["_on"+t],o=0;if("number"==typeof e&&(n=e,e=null),e||n)for(o=0;o<r.length;o++){var s=n===r[o].id;if(e===r[o].fn&&s||!e&&s){r.splice(o,1);break}}else if(t)i["_on"+t]=[];else{var a=Object.keys(i);for(o=0;o<a.length;o++)0===a[o].indexOf("_on")&&Array.isArray(i[a[o]])&&(i[a[o]]=[])}return i},once:function(t,e,n){var i=this;return i.on(t,e,n,1),i},_emit:function(t,e,n){for(var i=this,r=i["_on"+t],o=r.length-1;o>=0;o--)r[o].id&&r[o].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(i,r[o].fn),0),r[o].once&&i.off(t,r[o].fn,r[o].id));return i},_loadQueue:function(){var t=this;if(t._queue.length>0){var e=t._queue[0];t.once(e.event,function(){t._queue.shift(),t._loadQueue()}),e.action()}return t},_ended:function(t){var e=this,n=t._sprite;if(!e._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(e._ended.bind(e,t),100),e;var r=!(!t._loop&&!e._sprite[n][2]);if(e._emit("end",t._id),!e._webAudio&&r&&e.stop(t._id,!0).play(t._id),e._webAudio&&r){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=i.ctx.currentTime;var o=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),o)}return e._webAudio&&!r&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),i._autoSuspend()),e._webAudio||r||e.stop(t._id),e},_clearTimer:function(t){var e=this;return e._endTimers[t]&&(clearTimeout(e._endTimers[t]),delete e._endTimers[t]),e},_soundById:function(t){for(var e=this,n=0;n<e._sounds.length;n++)if(t===e._sounds[n]._id)return e._sounds[n];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new o(t)},_drain:function(){var t=this,e=t._pool,n=0,i=0;if(!(t._sounds.length<e)){for(i=0;i<t._sounds.length;i++)t._sounds[i]._ended&&n++;for(i=t._sounds.length-1;i>=0;i--){if(e>=n)return;t._sounds[i]._ended&&(t._webAudio&&t._sounds[i]._node&&t._sounds[i]._node.disconnect(0),t._sounds.splice(i,1),n--)}}},_getSoundIds:function(t){var e=this;if("undefined"==typeof t){for(var n=[],i=0;i<e._sounds.length;i++)n.push(e._sounds[i]._id);return n}return[t]},_refreshBuffer:function(t){var e=this;return t._node.bufferSource=i.ctx.createBufferSource(),t._node.bufferSource.buffer=s[e._src],t._node.bufferSource.connect(t._panner?t._panner:t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,i.ctx.currentTime),e},_cleanBuffer:function(t){var e=this;if(i._scratchBuffer){t.bufferSource.onended=null,t.bufferSource.disconnect(0);try{t.bufferSource.buffer=i._scratchBuffer}catch(n){}}return t.bufferSource=null,e}};var o=function(t){this._parent=t,this.init()};o.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++i._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,n=i._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node="undefined"==typeof i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),t._node.gain.setValueAtTime(n,i.ctx.currentTime),t._node.paused=!0,t._node.connect(i.masterGain)):(t._node=new Audio,t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(i._canPlayEvent,t._loadFn,!1),t._node.src=e._src,t._node.preload="auto",t._node.volume=n*i.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++i._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),t._node.removeEventListener(i._canPlayEvent,t._loadFn,!1)}};var s={},a=function(t){var e=t._src;if(s[e])return t._duration=s[e].duration,void h(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);u(i.buffer,t)}else{var o=new XMLHttpRequest;o.open("GET",e,!0),o.withCredentials=t._xhrWithCredentials,o.responseType="arraybuffer",o.onload=function(){var e=(o.status+"")[0];return"0"!==e&&"2"!==e&&"3"!==e?void t._emit("loaderror",null,"Failed loading audio file with status: "+o.status+"."):void u(o.response,t)},o.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete s[e],t.load())},l(o)}},l=function(t){try{t.send()}catch(e){t.onerror()}},u=function(t,e){i.ctx.decodeAudioData(t,function(t){t&&e._sounds.length>0&&(s[e._src]=t,h(e,t))},function(){e._emit("loaderror",null,"Decoding audio data failed.")})},h=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},c=function(){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(t){i.usingWebAudio=!1}var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),n=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=n?parseInt(n[1],10):null;if(e&&r&&9>r){var o=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());(i._navigator&&i._navigator.standalone&&!o||i._navigator&&!i._navigator.standalone&&!o)&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain="undefined"==typeof i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:1,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()};"function"==typeof define&&define.amd&&define([],function(){return{Howler:i,Howl:r}}),"undefined"!=typeof n&&(n.Howler=i,n.Howl=r),"undefined"!=typeof window?(window.HowlerGlobal=e,window.Howler=i,window.Howl=r,window.Sound=o):"undefined"!=typeof t&&(t.HowlerGlobal=e,t.Howler=i,t.Howl=r,t.Sound=o)}(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var n=e._howls.length-1;n>=0;n--)e._howls[n].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,n){var i=this;return i.ctx&&i.ctx.listener?(e="number"!=typeof e?i._pos[1]:e,n="number"!=typeof n?i._pos[2]:n,"number"!=typeof t?i._pos:(i._pos=[t,e,n],i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]),i)):i},HowlerGlobal.prototype.orientation=function(t,e,n,i,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;var a=s._orientation;return e="number"!=typeof e?a[1]:e,n="number"!=typeof n?a[2]:n,i="number"!=typeof i?a[3]:i,r="number"!=typeof r?a[4]:r,o="number"!=typeof o?a[5]:o,"number"!=typeof t?a:(s._orientation=[t,e,n,i,r,o],s.ctx.listener.setOrientation(t,e,n,i,r,o),s)},Howl.prototype.init=function(t){return function(e){var n=this;return n._orientation=e.orientation||[1,0,0],n._stereo=e.stereo||null,n._pos=e.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:0,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:"inverse",maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:1e4,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:"HRTF",refDistance:"undefined"!=typeof e.refDistance?e.refDistance:1,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:1},n._onstereo=e.onstereo?[{fn:e.onstereo}]:[],n._onpos=e.onpos?[{fn:e.onpos}]:[],n._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,n){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"stereo",action:function(){i.stereo(e,n)}}),i;var r="undefined"==typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"==typeof n){if("number"!=typeof e)return i._stereo;i._stereo=e,i._pos=[e,0,0]}for(var o=i._getSoundIds(n),s=0;s<o.length;s++){var a=i._soundById(o[s]);if(a){if("number"!=typeof e)return a._stereo;a._stereo=e,a._pos=[e,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||t(a,r),"spatial"===r?a._panner.setPosition(e,0,0):a._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),i._emit("stereo",a._id)}}return i},Howl.prototype.pos=function(e,n,i,r){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(e,n,i,r)}}),o;if(n="number"!=typeof n?0:n,i="number"!=typeof i?-.5:i,"undefined"==typeof r){if("number"!=typeof e)return o._pos;o._pos=[e,n,i]}for(var s=o._getSoundIds(r),a=0;a<s.length;a++){var l=o._soundById(s[a]);if(l){if("number"!=typeof e)return l._pos;l._pos=[e,n,i],l._node&&((!l._panner||l._panner.pan)&&t(l,"spatial"),l._panner.setPosition(e,n,i)),o._emit("pos",l._id)}}return o},Howl.prototype.orientation=function(e,n,i,r){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(e,n,i,r)}}),o;if(n="number"!=typeof n?o._orientation[1]:n,i="number"!=typeof i?o._orientation[2]:i,"undefined"==typeof r){if("number"!=typeof e)return o._orientation;o._orientation=[e,n,i]}for(var s=o._getSoundIds(r),a=0;a<s.length;a++){var l=o._soundById(s[a]);if(l){if("number"!=typeof e)return l._orientation;l._orientation=[e,n,i],l._node&&(l._panner||(l._pos||(l._pos=o._pos||[0,0,-.5]),t(l,"spatial")),l._panner.setOrientation(e,n,i)),o._emit("orientation",l._id)}}return o},Howl.prototype.pannerAttr=function(){var e,n,i,r=this,o=arguments;if(!r._webAudio)return r;if(0===o.length)return r._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return i=r._soundById(parseInt(o[0],10)),i?i._pannerAttr:r._pannerAttr;e=o[0],"undefined"==typeof n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),r._pannerAttr={coneInnerAngle:"undefined"!=typeof e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:"undefined"!=typeof e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:"undefined"!=typeof e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:"undefined"!=typeof e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:r._distanceModel,maxDistance:"undefined"!=typeof e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:r._maxDistance,refDistance:"undefined"!=typeof e.pannerAttr.refDistance?e.pannerAttr.refDistance:r._refDistance,rolloffFactor:"undefined"!=typeof e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:"undefined"!=typeof e.pannerAttr.panningModel?e.pannerAttr.panningModel:r._panningModel})}else 2===o.length&&(e=o[0],n=parseInt(o[1],10));for(var s=r._getSoundIds(n),a=0;a<s.length;a++)if(i=r._soundById(s[a])){var l=i._pannerAttr;l={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:l.coneOuterAngle,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:l.coneOuterGain,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:l.distanceModel,maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:l.maxDistance,refDistance:"undefined"!=typeof e.refDistance?e.refDistance:l.refDistance,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:l.rolloffFactor,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:l.panningModel};var u=i._panner;u?(u.coneInnerAngle=l.coneInnerAngle,u.coneOuterAngle=l.coneOuterAngle,u.coneOuterGain=l.coneOuterGain,u.distanceModel=l.distanceModel,u.maxDistance=l.maxDistance,u.refDistance=l.refDistance,u.rolloffFactor=l.rolloffFactor,u.panningModel=l.panningModel):(i._pos||(i._pos=r._pos||[0,0,-.5]),t(i,"spatial"))}return r},Sound.prototype.init=function(t){return function(){var e=this,n=e._parent;e._orientation=n._orientation,e._stereo=n._stereo,e._pos=n._pos,e._pannerAttr=n._pannerAttr,t.call(this),e._stereo?n.stereo(e._stereo):e._pos&&n.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,n=e._parent;return e._orientation=n._orientation,e._pos=n._pos,e._pannerAttr=n._pannerAttr,t.call(this)}}(Sound.prototype.reset);var t=function(t,e){e=e||"spatial","spatial"===e?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],76:[function(t,e,n){"use strict";function i(t){this.set(t)}var r=t("array-shuffle");e.exports=i,i.prototype.set=function(t){this.original=t.slice(),this.items=[],this.lastItem=null},i.prototype.get=function(){var t=this.items.pop();if(!t){this.items=r(this.original.slice());var e=this.items.length-1;if(this.original.length>1&&this.items[e]==this.lastItem){var n=Math.max(0,Math.floor(.5*this.original.length)),i=Math.floor(Math.random()*(this.original.length-n)),o=this.items[i];this.items[i]=this.items[e],this.items[e]=o}return this.get()}return this.lastItem=t,t}},{"array-shuffle":1}],77:[function(t,e,n){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],78:[function(t,e,n){!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ot.type(t);return"function"===n||ot.isWindow(t)?!1:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(ot.isFunction(e))return ot.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ot.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(mt.test(e))return ot.filter(e,t,n);e=ot.filter(e,t)}return ot.grep(t,function(t){return $.call(e,t)>-1!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return ot.each(t.match(bt)||[],function(t,n){e[n]=!0}),e}function s(){Y.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s),ot.ready()}function a(){this.expando=ot.expando+a.uid++}function l(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Ct,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Mt.test(n)?ot.parseJSON(n):n}catch(r){}St.set(t,e,n)}else n=void 0;return n}function u(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return ot.css(t,e,"")},l=a(),u=n&&n[3]||(ot.cssNumber[e]?"":"px"),h=(ot.cssNumber[e]||"px"!==u&&+l)&&Rt.exec(ot.css(t,e));if(h&&h[3]!==u){u=u||h[3],n=n||[],h=+l||1;do o=o||".5",h/=o,ot.style(t,e,h+u);while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(h=+h||+l||0,r=n[1]?h+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=h,i.end=r)),r}function h(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ot.nodeName(t,e)?ot.merge([t],n):n}function c(t,e){for(var n=0,i=t.length;i>n;n++)Et.set(t[n],"globalEval",!e||Et.get(e[n],"globalEval"))}function p(t,e,n,i,r){for(var o,s,a,l,u,p,d=e.createDocumentFragment(),f=[],m=0,g=t.length;g>m;m++)if(o=t[m],o||0===o)if("object"===ot.type(o))ot.merge(f,o.nodeType?[o]:o);else if(Ft.test(o)){for(s=s||d.appendChild(e.createElement("div")),a=(It.exec(o)||["",""])[1].toLowerCase(),l=Dt[a]||Dt._default,s.innerHTML=l[1]+ot.htmlPrefilter(o)+l[2],p=l[0];p--;)s=s.lastChild;ot.merge(f,s.childNodes),s=d.firstChild,s.textContent=""}else f.push(e.createTextNode(o));for(d.textContent="",m=0;o=f[m++];)if(i&&ot.inArray(o,i)>-1)r&&r.push(o);else if(u=ot.contains(o.ownerDocument,o),s=h(d.appendChild(o),"script"),u&&c(s),n)for(p=0;o=s[p++];)kt.test(o.type||"")&&n.push(o);return d}function d(){return!0}function f(){return!1}function m(){try{return Y.activeElement}catch(t){}}function g(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)g(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=f;else if(!r)return t;return 1===o&&(s=r,r=function(t){return ot().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ot.guid++)),t.each(function(){ot.event.add(this,e,r,i,n)})}function v(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function _(t){var e=jt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function A(t,e){var n,i,r,o,s,a,l,u;if(1===e.nodeType){if(Et.hasData(t)&&(o=Et.access(t),s=Et.set(e,o),u=o.events)){delete s.handle,s.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)ot.event.add(e,r,u[r][n])}St.hasData(t)&&(a=St.access(t),l=ot.extend({},a),St.set(e,l))}}function b(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Nt.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function x(t,e,n,i){e=Q.apply([],e);var r,o,s,a,l,u,c=0,d=t.length,f=d-1,m=e[0],g=ot.isFunction(m);if(g||d>1&&"string"==typeof m&&!it.checkClone&&zt.test(m))return t.each(function(r){var o=t.eq(r);g&&(e[0]=m.call(this,r,o.html())),x(o,e,n,i)});if(d&&(r=p(e,t[0].ownerDocument,!1,t,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=ot.map(h(r,"script"),y),a=s.length;d>c;c++)l=r,c!==f&&(l=ot.clone(l,!0,!0),a&&ot.merge(s,h(l,"script"))),n.call(t[c],l,c);if(a)for(u=s[s.length-1].ownerDocument,ot.map(s,_),c=0;a>c;c++)l=s[c],kt.test(l.type||"")&&!Et.access(l,"globalEval")&&ot.contains(u,l)&&(l.src?ot._evalUrl&&ot._evalUrl(l.src):ot.globalEval(l.textContent.replace(qt,"")))}return t}function w(t,e,n){for(var i,r=e?ot.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ot.cleanData(h(i)),i.parentNode&&(n&&ot.contains(i.ownerDocument,i)&&c(h(i,"script")),i.parentNode.removeChild(i));return t}function T(t,e){var n=ot(e.createElement(t)).appendTo(e.body),i=ot.css(n[0],"display");return n.detach(),i}function E(t){var e=Y,n=Xt[t];return n||(n=T(t,e),"none"!==n&&n||(Wt=(Wt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Wt[0].contentDocument,e.write(),e.close(),n=T(t,e),Wt.detach()),Xt[t]=n),n}function S(t,e,n){var i,r,o,s,a=t.style;return n=n||Zt(t),s=n?n.getPropertyValue(e)||n[e]:void 0,""!==s&&void 0!==s||ot.contains(t.ownerDocument,t)||(s=ot.style(t,e)),n&&!it.pixelMarginRight()&&Yt.test(s)&&Kt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0!==s?s+"":s}function M(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function C(t){if(t in ie)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ne.length;n--;)if(t=ne[n]+e,t in ie)return t}function P(t,e,n){var i=Rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function R(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ot.css(t,n+Ot[o],!0,r)),i?("content"===n&&(s-=ot.css(t,"padding"+Ot[o],!0,r)),"margin"!==n&&(s-=ot.css(t,"border"+Ot[o]+"Width",!0,r))):(s+=ot.css(t,"padding"+Ot[o],!0,r),"padding"!==n&&(s+=ot.css(t,"border"+Ot[o]+"Width",!0,r)));return s}function O(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Zt(t),s="border-box"===ot.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=S(t,e,o),(0>r||null==r)&&(r=t.style[e]),Yt.test(r))return r;i=s&&(it.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+R(t,e,n||(s?"border":"content"),i,o)+"px"}function L(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(o[s]=Et.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Lt(i)&&(o[s]=Et.access(i,"olddisplay",E(i.nodeName)))):(r=Lt(i),"none"===n&&r||Et.set(i,"olddisplay",r?n:ot.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function N(t,e,n,i,r){return new N.prototype.init(t,e,n,i,r)}function I(){return t.setTimeout(function(){re=void 0}),re=ot.now()}function k(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=Ot[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function D(t,e,n){for(var i,r=(U.tweeners[e]||[]).concat(U.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function F(t,e,n){var i,r,o,s,a,l,u,h,c=this,p={},d=t.style,f=t.nodeType&&Lt(t),m=Et.get(t,"fxshow");n.queue||(a=ot._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ot.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],u=ot.css(t,"display"),h="none"===u?Et.get(t,"olddisplay")||E(t.nodeName):u,"inline"===h&&"none"===ot.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],se.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}p[i]=m&&m[i]||ot.style(t,i)}else u=void 0;if(ot.isEmptyObject(p))"inline"===("none"===u?E(t.nodeName):u)&&(d.display=u);else{m?"hidden"in m&&(f=m.hidden):m=Et.access(t,"fxshow",{}),o&&(m.hidden=!f),f?ot(t).show():c.done(function(){ot(t).hide()}),c.done(function(){var e;Et.remove(t,"fxshow");for(e in p)ot.style(t,e,p[e])});for(i in p)s=D(f?m[i]:0,i,c),i in m||(m[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function B(t,e){var n,i,r,o,s;for(n in t)if(i=ot.camelCase(n),r=e[i],o=t[n],ot.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=ot.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function U(t,e,n){var i,r,o=0,s=U.prefilters.length,a=ot.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=re||I(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(t,[u,o,n]),1>o&&l?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{},easing:ot.easing._default},n),originalProperties:e,originalOptions:n,startTime:re||I(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ot.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),h=u.props;for(B(h,u.opts.specialEasing);s>o;o++)if(i=U.prefilters[o].call(u,t,h,u.opts))return ot.isFunction(i.stop)&&(ot._queueHooks(u.elem,u.opts.queue).stop=ot.proxy(i.stop,i)),i;return ot.map(h,D,u),ot.isFunction(u.opts.start)&&u.opts.start.call(t,u),ot.fx.timer(ot.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function V(t){return t.getAttribute&&t.getAttribute("class")||""}function G(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(bt)||[];if(ot.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function H(t,e,n,i){function r(a){var l;return o[a]=!0,ot.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===Se;return r(e.dataTypes[0])||!o["*"]&&r("*")}function z(t,e){var n,i,r=ot.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&ot.extend(!0,t,i),t}function j(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function q(t,e,n,i){var r,o,s,a,l,u={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=h.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],h.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(c){return{state:"parsererror",error:s?c:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function W(t,e,n,i){var r;if(ot.isArray(e))ot.each(e,function(e,r){n||Re.test(t)?i(t,r):W(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==ot.type(e))i(t,e);else for(r in e)W(t+"["+r+"]",e[r],n,i)}function X(t){return ot.isWindow(t)?t:9===t.nodeType&&t.defaultView}var K=[],Y=t.document,Z=K.slice,Q=K.concat,J=K.push,$=K.indexOf,tt={},et=tt.toString,nt=tt.hasOwnProperty,it={},rt="2.2.4",ot=function(t,e){return new ot.fn.init(t,e)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,lt=/-([\da-z])/gi,ut=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:rt,constructor:ot,selector:"",length:0,toArray:function(){return Z.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:Z.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ot.each(this,t)},map:function(t){return this.pushStack(ot.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:K.sort,splice:K.splice},ot.extend=ot.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ot.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(u&&i&&(ot.isPlainObject(i)||(r=ot.isArray(i)))?(r?(r=!1,o=n&&ot.isArray(n)?n:[]):o=n&&ot.isPlainObject(n)?n:{},s[e]=ot.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},ot.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!ot.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==ot.type(t)||t.nodeType||ot.isWindow(t))return!1;if(t.constructor&&!nt.call(t,"constructor")&&!nt.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||nt.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=ot.trim(t),t&&(1===t.indexOf("use strict")?(e=Y.createElement("script"),e.text=t,Y.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(at,"ms-").replace(lt,ut)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;i>r&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(st,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ot.merge(i,"string"==typeof t?[t]:t):J.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:$.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;s>o;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,i){var r,o,s=0,a=[];if(n(t))for(r=t.length;r>s;s++)o=e(t[s],s,i),
null!=o&&a.push(o);else for(s in t)o=e(t[s],s,i),null!=o&&a.push(o);return Q.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),ot.isFunction(t)?(i=Z.call(arguments,2),r=function(){return t.apply(e||this,i.concat(Z.call(arguments)))},r.guid=t.guid=t.guid||ot.guid++,r):void 0},now:Date.now,support:it}),"function"==typeof Symbol&&(ot.fn[Symbol.iterator]=K[Symbol.iterator]),ot.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ht=function(t){function e(t,e,n,i){var r,o,s,a,l,u,c,d,f=e&&e.ownerDocument,m=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return n;if(!i&&((e?e.ownerDocument||e:V)!==L&&O(e),e=e||L,I)){if(11!==m&&(u=vt.exec(t)))if(r=u[1]){if(9===m){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(f&&(s=f.getElementById(r))&&B(e,s)&&s.id===r)return n.push(s),n}else{if(u[2])return J.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&b.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(r)),n}if(!(!b.qsa||q[t+" "]||k&&k.test(t))){if(1!==m)f=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(_t,"\\$&"):e.setAttribute("id",a=U),c=E(t),o=c.length,l=pt.test(a)?"#"+a:"[id='"+a+"']";o--;)c[o]=l+" "+p(c[o]);d=c.join(","),f=yt.test(t)&&h(e.parentNode)||e}if(d)try{return J.apply(n,f.querySelectorAll(d)),n}catch(g){}finally{a===U&&e.removeAttribute("id")}}}return M(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[U]=!0,t}function r(t){var e=L.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function c(){}function p(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=H++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,u,h=[G,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(u=e[U]||(e[U]={}),l=u[e.uniqueID]||(u[e.uniqueID]={}),(a=l[i])&&a[0]===G&&a[1]===o)return h[2]=a[2];if(l[i]=h,h[2]=t(e,n,s))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function g(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),u&&e.push(a));return s}function v(t,e,n,r,o,s){return r&&!r[U]&&(r=v(r)),o&&!o[U]&&(o=v(o,s)),i(function(i,s,a,l){var u,h,c,p=[],d=[],f=s.length,v=i||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:g(v,p,t,a,l),_=n?o||(i?t:f||r)?[]:s:y;if(n&&n(y,_,a,l),r)for(u=g(_,d),r(u,[],a,l),h=u.length;h--;)(c=u[h])&&(_[d[h]]=!(y[d[h]]=c));if(i){if(o||t){if(o){for(u=[],h=_.length;h--;)(c=_[h])&&u.push(y[h]=c);o(null,_=[],u,l)}for(h=_.length;h--;)(c=_[h])&&(u=o?tt(i,c):p[h])>-1&&(i[u]=!(s[u]=c))}}else _=g(_===s?_.splice(f,_.length):_),o?o(null,s,_,l):J.apply(s,_)})}function y(t){for(var e,n,i,r=t.length,o=x.relative[t[0].type],s=o||x.relative[" "],a=o?1:0,l=d(function(t){return t===e},s,!0),u=d(function(t){return tt(e,t)>-1},s,!0),h=[function(t,n,i){var r=!o&&(i||n!==C)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];r>a;a++)if(n=x.relative[t[a].type])h=[d(f(h),n)];else{if(n=x.filter[t[a].type].apply(null,t[a].matches),n[U]){for(i=++a;r>i&&!x.relative[t[i].type];i++);return v(a>1&&f(h),a>1&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,i>a&&y(t.slice(a,i)),r>i&&y(t=t.slice(i)),r>i&&p(t))}h.push(n)}return f(h)}function _(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,u){var h,c,p,d=0,f="0",m=i&&[],v=[],y=C,_=i||o&&x.find.TAG("*",u),A=G+=null==y?1:Math.random()||.1,b=_.length;for(u&&(C=s===L||s||u);f!==b&&null!=(h=_[f]);f++){if(o&&h){for(c=0,s||h.ownerDocument===L||(O(h),a=!I);p=t[c++];)if(p(h,s||L,a)){l.push(h);break}u&&(G=A)}r&&((h=!p&&h)&&d--,i&&m.push(h))}if(d+=f,r&&f!==d){for(c=0;p=n[c++];)p(m,v,s,a);if(i){if(d>0)for(;f--;)m[f]||v[f]||(v[f]=Z.call(l));v=g(v)}J.apply(l,v),u&&!i&&v.length>0&&d+n.length>1&&e.uniqueSort(l)}return u&&(G=A,C=y),m};return r?i(s):s}var A,b,x,w,T,E,S,M,C,P,R,O,L,N,I,k,D,F,B,U="sizzle"+1*new Date,V=t.document,G=0,H=0,z=n(),j=n(),q=n(),W=function(t,e){return t===e&&(R=!0),0},X=1<<31,K={}.hasOwnProperty,Y=[],Z=Y.pop,Q=Y.push,J=Y.push,$=Y.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ct=new RegExp(ot),pt=new RegExp("^"+it+"$"),dt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=/'|\\/g,At=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){O()};try{J.apply(Y=$.call(V.childNodes),V.childNodes),Y[V.childNodes.length].nodeType}catch(wt){J={apply:Y.length?function(t,e){Q.apply(t,$.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}b=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},O=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:V;return i!==L&&9===i.nodeType&&i.documentElement?(L=i,N=L.documentElement,I=!T(L),(n=L.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),b.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=r(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=gt.test(L.getElementsByClassName),b.getById=r(function(t){return N.appendChild(t).id=U,!L.getElementsByName||!L.getElementsByName(U).length}),b.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}},x.filter.ID=function(t){var e=t.replace(At,bt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(At,bt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=b.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=b.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&I?e.getElementsByClassName(t):void 0},D=[],k=[],(b.qsa=gt.test(L.querySelectorAll))&&(r(function(t){N.appendChild(t).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&k.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||k.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+U+"-]").length||k.push("~="),t.querySelectorAll(":checked").length||k.push(":checked"),t.querySelectorAll("a#"+U+"+*").length||k.push(".#.+[+~]")}),r(function(t){var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&k.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||k.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),k.push(",.*:")})),(b.matchesSelector=gt.test(F=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(t){b.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),D.push("!=",ot)}),k=k.length&&new RegExp(k.join("|")),D=D.length&&new RegExp(D.join("|")),e=gt.test(N.compareDocumentPosition),B=e||gt.test(N.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return R=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===L||t.ownerDocument===V&&B(V,t)?-1:e===L||e.ownerDocument===V&&B(V,e)?1:P?tt(P,t)-tt(P,e):0:4&n?-1:1)}:function(t,e){if(t===e)return R=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t===L?-1:e===L?1:r?-1:o?1:P?tt(P,t)-tt(P,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===V?-1:l[i]===V?1:0},L):L},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==L&&O(t),n=n.replace(ht,"='$1']"),!(!b.matchesSelector||!I||q[n+" "]||D&&D.test(n)||k&&k.test(n)))try{var i=F.call(t,n);if(i||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&O(t),B(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&O(t);var n=x.attrHandle[e.toLowerCase()],i=n&&K.call(x.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==i?i:b.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(R=!b.detectDuplicates,P=!b.sortStable&&t.slice(0),t.sort(W),R){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return P=null,t},w=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=w(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=w(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(At,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(At,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ct.test(n)&&(e=E(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(At,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,h,c,p,d,f,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(g){if(o){for(;m;){for(p=e;p=p[m];)if(a?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(p=g,c=p[U]||(p[U]={}),h=c[p.uniqueID]||(c[p.uniqueID]={}),u=h[t]||[],d=u[0]===G&&u[1],_=d&&u[2],p=d&&g.childNodes[d];p=++d&&p&&p[m]||(_=d=0)||f.pop();)if(1===p.nodeType&&++_&&p===e){h[t]=[G,d,_];break}}else if(y&&(p=e,c=p[U]||(p[U]={}),h=c[p.uniqueID]||(c[p.uniqueID]={}),u=h[t]||[],d=u[0]===G&&u[1],_=d),_===!1)for(;(p=++d&&p&&p[m]||(_=d=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++_||(y&&(c=p[U]||(p[U]={}),h=c[p.uniqueID]||(c[p.uniqueID]={}),h[t]=[G,_]),p!==e)););return _-=r,_===i||_%i===0&&_/i>=0}}},PSEUDO:function(t,n){var r,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[U]?o(n):o.length>1?(r=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=S(t.replace(at,"$1"));return r[U]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(At,bt),function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),lang:i(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(At,bt).toLowerCase(),function(e){var n;do if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(A in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[A]=a(A);for(A in{submit:!0,reset:!0})x.pseudos[A]=l(A);return c.prototype=x.filters=x.pseudos,x.setFilters=new c,E=e.tokenize=function(t,n){var i,r,o,s,a,l,u,h=j[t+" "];if(h)return n?0:h.slice(0);for(a=t,l=[],u=x.preFilter;a;){(!i||(r=lt.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ut.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length));for(s in x.filter)!(r=dt[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):j(t,l).slice(0)},S=e.compile=function(t,e){var n,i=[],r=[],o=q[t+" "];if(!o){for(e||(e=E(t)),n=e.length;n--;)o=y(e[n]),o[U]?i.push(o):r.push(o);o=q(t,_(r,i)),o.selector=t}return o},M=e.select=function(t,e,n,i){var r,o,s,a,l,u="function"==typeof t&&t,c=!i&&E(t=u.selector||t);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&b.getById&&9===e.nodeType&&I&&x.relative[o[1].type]){if(e=(x.find.ID(s.matches[0].replace(At,bt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=dt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((l=x.find[a])&&(i=l(s.matches[0].replace(At,bt),yt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&p(o),!t)return J.apply(n,i),n;break}}return(u||S(t,c))(i,e,!I,n,!e||yt.test(t)&&h(e.parentNode)||e),n},b.sortStable=U.split("").sort(W).join("")===U,b.detectDuplicates=!!R,O(),b.sortDetached=r(function(t){return 1&t.compareDocumentPosition(L.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ot.find=ht,ot.expr=ht.selectors,ot.expr[":"]=ot.expr.pseudos,ot.uniqueSort=ot.unique=ht.uniqueSort,ot.text=ht.getText,ot.isXMLDoc=ht.isXML,ot.contains=ht.contains;var ct=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ot(t).is(n))break;i.push(t)}return i},pt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},dt=ot.expr.match.needsContext,ft=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,mt=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ot.find.matchesSelector(i,t)?[i]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;n>e;e++)if(ot.contains(r[e],this))return!0}));for(e=0;n>e;e++)ot.find(t,r[e],i);return i=this.pushStack(n>1?ot.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&dt.test(t)?ot(t):t||[],!1).length}});var gt,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,yt=ot.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||gt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:vt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:Y,!0)),ft.test(i[1])&&ot.isPlainObject(e))for(i in e)ot.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=Y.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?void 0!==n.ready?n.ready(t):t(ot):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))};yt.prototype=ot.fn,gt=ot(Y);var _t=/^(?:parents|prev(?:Until|All))/,At={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({has:function(t){var e=ot(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(ot.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=dt.test(t)||"string"!=typeof t?ot(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ot.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?$.call(ot(t),this[0]):$.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.uniqueSort(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ct(t,"parentNode")},parentsUntil:function(t,e,n){return ct(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return ct(t,"nextSibling")},prevAll:function(t){return ct(t,"previousSibling")},nextUntil:function(t,e,n){return ct(t,"nextSibling",n)},prevUntil:function(t,e,n){return ct(t,"previousSibling",n)},siblings:function(t){return pt((t.parentNode||{}).firstChild,t)},children:function(t){return pt(t.firstChild)},contents:function(t){return t.contentDocument||ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(n,i){var r=ot.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ot.filter(i,r)),this.length>1&&(At[t]||ot.uniqueSort(r),_t.test(t)&&r.reverse()),this.pushStack(r)}});var bt=/\S+/g;ot.Callbacks=function(t){t="string"==typeof t?o(t):ot.extend({},t);var e,n,i,r,s=[],a=[],l=-1,u=function(){for(r=t.once,i=e=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)s[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},h={add:function(){return s&&(n&&!e&&(l=s.length-1,a.push(n)),function i(e){ot.each(e,function(e,n){ot.isFunction(n)?t.unique&&h.has(n)||s.push(n):n&&n.length&&"string"!==ot.type(n)&&i(n)})}(arguments),n&&!e&&u()),this},remove:function(){return ot.each(arguments,function(t,e){for(var n;(n=ot.inArray(e,s,n))>-1;)s.splice(n,1),l>=n&&l--}),this},has:function(t){return t?ot.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=a=[],n||(s=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(n){ot.each(e,function(e,o){var s=ot.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,i):i}},r={};return i.pipe=i.then,ot.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=Z.call(arguments),s=o.length,a=1!==s||t&&ot.isFunction(t.promise)?s:0,l=1===a?t:ot.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?Z.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&ot.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,e)).done(u(r,i,o)).fail(l.reject):--a;return a||l.resolveWith(i,o),l.promise()}});var xt;ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){(t===!0?--ot.readyWait:ot.isReady)||(ot.isReady=!0,t!==!0&&--ot.readyWait>0||(xt.resolveWith(Y,[ot]),ot.fn.triggerHandler&&(ot(Y).triggerHandler("ready"),ot(Y).off("ready"))))}}),ot.ready.promise=function(e){return xt||(xt=ot.Deferred(),"complete"===Y.readyState||"loading"!==Y.readyState&&!Y.documentElement.doScroll?t.setTimeout(ot.ready):(Y.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s))),xt.promise(e)},ot.ready.promise();var wt=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===ot.type(n)){r=!0;for(a in n)wt(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,ot.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(ot(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Tt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};a.uid=1,a.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!Tt(t))return{};var e=t[this.expando];return e||(e={},Tt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,ot.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{ot.isArray(e)?i=e.concat(e.map(ot.camelCase)):(r=ot.camelCase(e),e in o?i=[e,r]:(i=r,i=i in o?[i]:i.match(bt)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===e||ot.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ot.isEmptyObject(e)}};var Et=new a,St=new a,Mt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ct=/[A-Z]/g;ot.extend({hasData:function(t){return St.hasData(t)||Et.hasData(t)},data:function(t,e,n){return St.access(t,e,n)},removeData:function(t,e){St.remove(t,e)},_data:function(t,e,n){return Et.access(t,e,n)},_removeData:function(t,e){Et.remove(t,e)}}),ot.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=St.get(o),1===o.nodeType&&!Et.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ot.camelCase(i.slice(5)),l(o,i,r[i])));Et.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){St.set(this,t)}):wt(this,function(e){var n,i;if(o&&void 0===e){if(n=St.get(o,t)||St.get(o,t.replace(Ct,"-$&").toLowerCase()),void 0!==n)return n;if(i=ot.camelCase(t),n=St.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else i=ot.camelCase(t),this.each(function(){var n=St.get(this,i);St.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&St.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){St.remove(this,t)})}}),ot.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=Et.get(t,e),n&&(!i||ot.isArray(n)?i=Et.access(t,e,ot.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ot.queue(t,e),i=n.length,r=n.shift(),o=ot._queueHooks(t,e),s=function(){ot.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Et.get(t,n)||Et.access(t,n,{empty:ot.Callbacks("once memory").add(function(){Et.remove(t,[e+"queue",n])})})}}),ot.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ot.queue(this[0],t):void 0===e?this:this.each(function(){var n=ot.queue(this,t,e);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ot.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=Et.get(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Pt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Rt=new RegExp("^(?:([+-])=|)("+Pt+")([a-z%]*)$","i"),Ot=["Top","Right","Bottom","Left"],Lt=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},Nt=/^(?:checkbox|radio)$/i,It=/<([\w:-]+)/,kt=/^$|\/(?:java|ecma)script/i,Dt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Dt.optgroup=Dt.option,Dt.tbody=Dt.tfoot=Dt.colgroup=Dt.caption=Dt.thead,Dt.th=Dt.td;var Ft=/<|&#?\w+;/;!function(){var t=Y.createDocumentFragment(),e=t.appendChild(Y.createElement("div")),n=Y.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),it.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Bt=/^key/,Ut=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Vt=/^([^.]*)(?:\.(.+)|)/;ot.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,h,c,p,d,f,m,g=Et.get(t);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=ot.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(e){return"undefined"!=typeof ot&&ot.event.triggered!==e.type?ot.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(bt)||[""],u=e.length;u--;)a=Vt.exec(e[u])||[],d=m=a[1],f=(a[2]||"").split(".").sort(),d&&(c=ot.event.special[d]||{},d=(r?c.delegateType:c.bindType)||d,c=ot.event.special[d]||{},h=ot.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ot.expr.match.needsContext.test(r),namespace:f.join(".")},o),(p=l[d])||(p=l[d]=[],p.delegateCount=0,c.setup&&c.setup.call(t,i,f,s)!==!1||t.addEventListener&&t.addEventListener(d,s)),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),
r?p.splice(p.delegateCount++,0,h):p.push(h),ot.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,h,c,p,d,f,m,g=Et.hasData(t)&&Et.get(t);if(g&&(l=g.events)){for(e=(e||"").match(bt)||[""],u=e.length;u--;)if(a=Vt.exec(e[u])||[],d=m=a[1],f=(a[2]||"").split(".").sort(),d){for(c=ot.event.special[d]||{},d=(i?c.delegateType:c.bindType)||d,p=l[d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)h=p[o],!r&&m!==h.origType||n&&n.guid!==h.guid||a&&!a.test(h.namespace)||i&&i!==h.selector&&("**"!==i||!h.selector)||(p.splice(o,1),h.selector&&p.delegateCount--,c.remove&&c.remove.call(t,h));s&&!p.length&&(c.teardown&&c.teardown.call(t,f,g.handle)!==!1||ot.removeEvent(t,d,g.handle),delete l[d])}else for(d in l)ot.event.remove(t,d+e[u],n,i,!0);ot.isEmptyObject(l)&&Et.remove(t,"handle events")}},dispatch:function(t){t=ot.event.fix(t);var e,n,i,r,o,s=[],a=Z.call(arguments),l=(Et.get(this,"events")||{})[t.type]||[],u=ot.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(s=ot.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(o.namespace))&&(t.handleObj=o,t.data=o.data,i=((ot.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(i=[],n=0;a>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?ot(r,this).index(l)>-1:ot.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Y,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[ot.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Ut.test(r)?this.mouseHooks:Bt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ot.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=Y),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ot.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ot.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ot.Event=function(t,e){return this instanceof ot.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?d:f):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(t,e)},ot.Event.prototype={constructor:ot.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!ot.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ot.fn.extend({on:function(t,e,n,i){return g(this,t,e,n,i)},one:function(t,e,n,i){return g(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ot(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=f),this.each(function(){ot.event.remove(this,t,n,e)})}});var Gt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ht=/<script|<style|<link/i,zt=/checked\s*(?:[^=]|=\s*.checked.)/i,jt=/^true\/(.*)/,qt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ot.extend({htmlPrefilter:function(t){return t.replace(Gt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=ot.contains(t.ownerDocument,t);if(!(it.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(s=h(a),o=h(t),i=0,r=o.length;r>i;i++)b(o[i],s[i]);if(e)if(n)for(o=o||h(t),s=s||h(a),i=0,r=o.length;r>i;i++)A(o[i],s[i]);else A(t,a);return s=h(a,"script"),s.length>0&&c(s,!l&&h(t,"script")),a},cleanData:function(t){for(var e,n,i,r=ot.event.special,o=0;void 0!==(n=t[o]);o++)if(Tt(n)){if(e=n[Et.expando]){if(e.events)for(i in e.events)r[i]?ot.event.remove(n,i):ot.removeEvent(n,i,e.handle);n[Et.expando]=void 0}n[St.expando]&&(n[St.expando]=void 0)}}}),ot.fn.extend({domManip:x,detach:function(t){return w(this,t,!0)},remove:function(t){return w(this,t)},text:function(t){return wt(this,function(t){return void 0===t?ot.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.appendChild(t)}})},prepend:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ot.cleanData(h(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return wt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ht.test(t)&&!Dt[(It.exec(t)||["",""])[1].toLowerCase()]){t=ot.htmlPrefilter(t);try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(ot.cleanData(h(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return x(this,arguments,function(e){var n=this.parentNode;ot.inArray(this,t)<0&&(ot.cleanData(h(this)),n&&n.replaceChild(e,this))},t)}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var n,i=[],r=ot(t),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),ot(r[s])[e](n),J.apply(i,n.get());return this.pushStack(i)}});var Wt,Xt={HTML:"block",BODY:"block"},Kt=/^margin/,Yt=new RegExp("^("+Pt+")(?!px)[a-z%]+$","i"),Zt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Qt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},Jt=Y.documentElement;!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Jt.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,Jt.removeChild(s)}var n,i,r,o,s=Y.createElement("div"),a=Y.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ot.extend(it,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},pixelMarginRight:function(){return null==i&&e(),r},reliableMarginLeft:function(){return null==i&&e(),o},reliableMarginRight:function(){var e,n=a.appendChild(Y.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Jt.appendChild(s),e=!parseFloat(t.getComputedStyle(n).marginRight),Jt.removeChild(s),a.removeChild(n),e}}))}();var $t=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ne=["Webkit","O","Moz","ms"],ie=Y.createElement("div").style;ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=S(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ot.camelCase(e),l=t.style;return e=ot.cssProps[a]||(ot.cssProps[a]=C(a)||a),s=ot.cssHooks[e]||ot.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e]:(o=typeof n,"string"===o&&(r=Rt.exec(n))&&r[1]&&(n=u(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(ot.cssNumber[a]?"":"px")),it.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,s,a=ot.camelCase(e);return e=ot.cssProps[a]||(ot.cssProps[a]=C(a)||a),s=ot.cssHooks[e]||ot.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=S(t,e,i)),"normal"===r&&e in ee&&(r=ee[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,n,i){return n?$t.test(ot.css(t,"display"))&&0===t.offsetWidth?Qt(t,te,function(){return O(t,e,i)}):O(t,e,i):void 0},set:function(t,n,i){var r,o=i&&Zt(t),s=i&&R(t,e,i,"border-box"===ot.css(t,"boxSizing",!1,o),o);return s&&(r=Rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=ot.css(t,e)),P(t,n,s)}}}),ot.cssHooks.marginLeft=M(it.reliableMarginLeft,function(t,e){return e?(parseFloat(S(t,"marginLeft"))||t.getBoundingClientRect().left-Qt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),ot.cssHooks.marginRight=M(it.reliableMarginRight,function(t,e){return e?Qt(t,{display:"inline-block"},S,[t,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Ot[i]+e]=o[i]||o[i-2]||o[0];return r}},Kt.test(t)||(ot.cssHooks[t+e].set=P)}),ot.fn.extend({css:function(t,e){return wt(this,function(t,e,n){var i,r,o={},s=0;if(ot.isArray(e)){for(i=Zt(t),r=e.length;r>s;s++)o[e[s]]=ot.css(t,e[s],!1,i);return o}return void 0!==n?ot.style(t,e,n):ot.css(t,e)},t,e,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Lt(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=N,N.prototype={constructor:N,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ot.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ot.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.pos=e=this.options.duration?ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ot.cssProps[t.prop]]&&!ot.cssHooks[t.prop]?t.elem[t.prop]=t.now:ot.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ot.fx=N.prototype.init,ot.fx.step={};var re,oe,se=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;ot.Animation=ot.extend(U,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return u(n.elem,t,Rt.exec(e),n),n}]},tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.match(bt);for(var n,i=0,r=t.length;r>i;i++)n=t[i],U.tweeners[n]=U.tweeners[n]||[],U.tweeners[n].unshift(e)},prefilters:[F],prefilter:function(t,e){e?U.prefilters.unshift(t):U.prefilters.push(t)}}),ot.speed=function(t,e,n){var i=t&&"object"==typeof t?ot.extend({},t):{complete:n||!n&&e||ot.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ot.isFunction(e)&&e};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ot.isEmptyObject(t),o=ot.speed(e,n,i),s=function(){var e=U(this,ot.extend({},t),o);(r||Et.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ot.timers,s=Et.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ae.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&ot.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Et.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ot.timers,s=i?i.length:0;for(n.finish=!0,ot.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(t,e){var n=ot.fn[e];ot.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(k(e,!0),t,i,r)}}),ot.each({slideDown:k("show"),slideUp:k("hide"),slideToggle:k("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ot.timers=[],ot.fx.tick=function(){var t,e=0,n=ot.timers;for(re=ot.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ot.fx.stop(),re=void 0},ot.fx.timer=function(t){ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){oe||(oe=t.setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){t.clearInterval(oe),oe=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,n){return e=ot.fx?ot.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=Y.createElement("input"),e=Y.createElement("select"),n=e.appendChild(Y.createElement("option"));t.type="checkbox",it.checkOn=""!==t.value,it.optSelected=n.selected,e.disabled=!0,it.optDisabled=!n.disabled,t=Y.createElement("input"),t.value="t",t.type="radio",it.radioValue="t"===t.value}();var le,ue=ot.expr.attrHandle;ot.fn.extend({attr:function(t,e){return wt(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ot.prop(t,e,n):(1===o&&ot.isXMLDoc(t)||(e=e.toLowerCase(),r=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?le:void 0)),void 0!==n?null===n?void ot.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=ot.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!it.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(bt);if(o&&1===t.nodeType)for(;n=o[r++];)i=ot.propFix[n]||n,ot.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),le={set:function(t,e,n){return e===!1?ot.removeAttr(t,n):t.setAttribute(n,n),n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ue[e]||ot.find.attr;ue[e]=function(t,e,i){var r,o;return i||(o=ue[e],ue[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,ue[e]=o),r}});var he=/^(?:input|select|textarea|button)$/i,ce=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return wt(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ot.propFix[t]||t]})}}),ot.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ot.isXMLDoc(t)||(e=ot.propFix[e]||e,r=ot.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):he.test(t.nodeName)||ce.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),it.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this});var pe=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,V(this)))});if("string"==typeof t&&t)for(e=t.match(bt)||[];n=this[l++];)if(r=V(n),i=1===n.nodeType&&(" "+r+" ").replace(pe," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=ot.trim(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,V(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(bt)||[];n=this[l++];)if(r=V(n),i=1===n.nodeType&&(" "+r+" ").replace(pe," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=ot.trim(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(ot.isFunction(t)?function(n){ot(this).toggleClass(t.call(this,n,V(this),e),e)}:function(){var e,i,r,o;if("string"===n)for(i=0,r=ot(this),o=t.match(bt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(void 0===t||"boolean"===n)&&(e=V(this),e&&Et.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Et.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+V(n)+" ").replace(pe," ").indexOf(e)>-1)return!0;return!1}});var de=/\r/g,fe=/[\x20\t\r\n\f]+/g;ot.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=ot.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,ot(this).val()):t,null==r?r="":"number"==typeof r?r+="":ot.isArray(r)&&(r=ot.map(r,function(t){return null==t?"":t+""})),e=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=ot.valHooks[r.type]||ot.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(de,""):null==n?"":n)}}}),ot.extend({valHooks:{option:{get:function(t){var e=ot.find.attr(t,"value");return null!=e?e:ot.trim(ot.text(t)).replace(fe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(it.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ot.nodeName(n.parentNode,"optgroup"))){if(e=ot(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=ot.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=ot.inArray(ot.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){return ot.isArray(e)?t.checked=ot.inArray(ot(t).val(),e)>-1:void 0}},it.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var me=/^(?:focusinfocus|focusoutblur)$/;ot.extend(ot.event,{trigger:function(e,n,i,r){var o,s,a,l,u,h,c,p=[i||Y],d=nt.call(e,"type")?e.type:e,f=nt.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||Y,3!==i.nodeType&&8!==i.nodeType&&!me.test(d+ot.event.triggered)&&(d.indexOf(".")>-1&&(f=d.split("."),d=f.shift(),f.sort()),u=d.indexOf(":")<0&&"on"+d,e=e[ot.expando]?e:new ot.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ot.makeArray(n,[e]),c=ot.event.special[d]||{},r||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!r&&!c.noBubble&&!ot.isWindow(i)){for(l=c.delegateType||d,me.test(l+d)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(i.ownerDocument||Y)&&p.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)e.type=o>1?l:c.bindType||d,h=(Et.get(s,"events")||{})[e.type]&&Et.get(s,"handle"),h&&h.apply(s,n),h=u&&s[u],h&&h.apply&&Tt(s)&&(e.result=h.apply(s,n),e.result===!1&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&c._default.apply(p.pop(),n)!==!1||!Tt(i)||u&&ot.isFunction(i[d])&&!ot.isWindow(i)&&(a=i[u],a&&(i[u]=null),ot.event.triggered=d,i[d](),ot.event.triggered=void 0,a&&(i[u]=a)),e.result}},simulate:function(t,e,n){var i=ot.extend(new ot.Event,n,{type:t,isSimulated:!0});ot.event.trigger(i,null,e)}}),ot.fn.extend({trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ot.event.trigger(t,e,n,!0):void 0}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),it.focusin="onfocusin"in t,it.focusin||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ot.event.simulate(e,t.target,ot.event.fix(t))};ot.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Et.access(i,e);r||i.addEventListener(t,n,!0),Et.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Et.access(i,e)-1;r?Et.access(i,e,r):(i.removeEventListener(t,n,!0),Et.remove(i,e))}}});var ge=t.location,ve=ot.now(),ye=/\?/;ot.parseJSON=function(t){return JSON.parse(t+"")},ot.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&ot.error("Invalid XML: "+e),n};var _e=/#.*$/,Ae=/([?&])_=[^&]*/,be=/^(.*?):[ \t]*([^\r\n]*)$/gm,xe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,we=/^(?:GET|HEAD)$/,Te=/^\/\//,Ee={},Se={},Me="*/".concat("*"),Ce=Y.createElement("a");Ce.href=ge.href,ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ge.href,type:"GET",isLocal:xe.test(ge.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Me,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?z(z(t,ot.ajaxSettings),e):z(ot.ajaxSettings,t)},ajaxPrefilter:G(Ee),ajaxTransport:G(Se),ajax:function(e,n){function i(e,n,i,a){var u,c,y,_,b,w=n;2!==A&&(A=2,l&&t.clearTimeout(l),r=void 0,s=a||"",x.readyState=e>0?4:0,u=e>=200&&300>e||304===e,i&&(_=j(p,x,i)),_=q(p,_,x,u),u?(p.ifModified&&(b=x.getResponseHeader("Last-Modified"),b&&(ot.lastModified[o]=b),b=x.getResponseHeader("etag"),b&&(ot.etag[o]=b)),204===e||"HEAD"===p.type?w="nocontent":304===e?w="notmodified":(w=_.state,c=_.data,y=_.error,u=!y)):(y=w,(e||!w)&&(w="error",0>e&&(e=0))),x.status=e,x.statusText=(n||w)+"",u?m.resolveWith(d,[c,w,x]):m.rejectWith(d,[x,w,y]),x.statusCode(v),v=void 0,h&&f.trigger(u?"ajaxSuccess":"ajaxError",[x,p,u?c:y]),g.fireWith(d,[x,w]),h&&(f.trigger("ajaxComplete",[x,p]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,l,u,h,c,p=ot.ajaxSetup({},n),d=p.context||p,f=p.context&&(d.nodeType||d.jquery)?ot(d):ot.event,m=ot.Deferred(),g=ot.Callbacks("once memory"),v=p.statusCode||{},y={},_={},A=0,b="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===A){if(!a)for(a={};e=be.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===A?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return A||(t=_[n]=_[n]||t,y[t]=e),this},overrideMimeType:function(t){return A||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>A)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||b;return r&&r.abort(e),i(0,e),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,p.url=((e||p.url||ge.href)+"").replace(_e,"").replace(Te,ge.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=ot.trim(p.dataType||"*").toLowerCase().match(bt)||[""],null==p.crossDomain){u=Y.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Ce.protocol+"//"+Ce.host!=u.protocol+"//"+u.host}catch(w){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ot.param(p.data,p.traditional)),H(Ee,p,n,x),2===A)return x;h=ot.event&&p.global,h&&0===ot.active++&&ot.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!we.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(ye.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Ae.test(o)?o.replace(Ae,"$1_="+ve++):o+(ye.test(o)?"&":"?")+"_="+ve++)),p.ifModified&&(ot.lastModified[o]&&x.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&x.setRequestHeader("If-None-Match",ot.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Me+"; q=0.01":""):p.accepts["*"]);for(c in p.headers)x.setRequestHeader(c,p.headers[c]);if(p.beforeSend&&(p.beforeSend.call(d,x,p)===!1||2===A))return x.abort();b="abort";for(c in{success:1,error:1,complete:1})x[c](p[c]);if(r=H(Se,p,n,x)){if(x.readyState=1,h&&f.trigger("ajaxSend",[x,p]),2===A)return x;p.async&&p.timeout>0&&(l=t.setTimeout(function(){x.abort("timeout")},p.timeout));try{A=1,r.send(y,i)}catch(w){if(!(2>A))throw w;i(-1,w)}}else i(-1,"No Transport");return x},getJSON:function(t,e,n){return ot.get(t,e,n,"json")},getScript:function(t,e){return ot.get(t,void 0,e,"script")}}),ot.each(["get","post"],function(t,e){ot[e]=function(t,n,i,r){return ot.isFunction(n)&&(r=r||i,i=n,n=void 0),ot.ajax(ot.extend({url:t,type:e,dataType:r,data:n,success:i},ot.isPlainObject(t)&&t))}}),ot._evalUrl=function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(t){var e;return ot.isFunction(t)?this.each(function(e){ot(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ot(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(ot.isFunction(t)?function(e){ot(this).wrapInner(t.call(this,e))}:function(){var e=ot(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(n){ot(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return!ot.expr.filters.visible(t)},ot.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Pe=/%20/g,Re=/\[\]$/,Oe=/\r?\n/g,Le=/^(?:submit|button|image|reset|file)$/i,Ne=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var n,i=[],r=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){r(this.name,this.value)});else for(n in t)W(n,t[n],e,r);return i.join("&").replace(Pe,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&Ne.test(this.nodeName)&&!Le.test(t)&&(this.checked||!Nt.test(t))}).map(function(t,e){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(t){return{
name:e.name,value:t.replace(Oe,"\r\n")}}):{name:e.name,value:n.replace(Oe,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Ie={0:200,1223:204},ke=ot.ajaxSettings.xhr();it.cors=!!ke&&"withCredentials"in ke,it.ajax=ke=!!ke,ot.ajaxTransport(function(e){var n,i;return it.cors||ke&&!e.crossDomain?{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ie[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=ot("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),Y.head.appendChild(e[0])},abort:function(){n&&n()}}}});var De=[],Fe=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=De.pop()||ot.expando+"_"+ve++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&(Fe.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fe.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=ot.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Fe,"$1"+r):e.jsonp!==!1&&(e.url+=(ye.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ot.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?ot(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,De.push(r)),s&&ot.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),ot.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Y;var i=ft.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=p([t],e,r),r&&r.length&&ot(r).remove(),ot.merge([],i.childNodes))};var Be=ot.fn.load;ot.fn.load=function(t,e,n){if("string"!=typeof t&&Be)return Be.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ot.trim(t.slice(a)),t=t.slice(0,a)),ot.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ot.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?ot("<div>").append(ot.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length},ot.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u,h=ot.css(t,"position"),c=ot(t),p={};"static"===h&&(t.style.position="relative"),a=c.offset(),o=ot.css(t,"top"),l=ot.css(t,"left"),u=("absolute"===h||"fixed"===h)&&(o+l).indexOf("auto")>-1,u?(i=c.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ot.isFunction(e)&&(e=e.call(t,n,ot.extend({},a))),null!=e.top&&(p.top=e.top-a.top+s),null!=e.left&&(p.left=e.left-a.left+r),"using"in e?e.using.call(t,p):c.css(p)}},ot.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return e=o.documentElement,ot.contains(e,i)?(r=i.getBoundingClientRect(),n=X(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===ot.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(i=t.offset()),i.top+=ot.css(t[0],"borderTopWidth",!0),i.left+=ot.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ot.css(n,"marginTop",!0),left:e.left-i.left-ot.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||Jt})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ot.fn[t]=function(i){return wt(this,function(t,i,r){var o=X(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),ot.each(["top","left"],function(t,e){ot.cssHooks[e]=M(it.pixelPosition,function(t,n){return n?(n=S(t,e),Yt.test(n)?ot(t).position()[e]+"px":n):void 0})}),ot.each({Height:"height",Width:"width"},function(t,e){ot.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ot.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return wt(this,function(e,n,i){var r;return ot.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?ot.css(e,n,s):ot.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),ot.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var Ue=t.jQuery,Ve=t.$;return ot.noConflict=function(e){return t.$===ot&&(t.$=Ve),e&&t.jQuery===ot&&(t.jQuery=Ue),ot},e||(t.jQuery=t.$=ot),ot})},{}],79:[function(t,e,n){(function(t){(function(){var n,i,r,o,s,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-s)/1e6},i=t.hrtime,n=function(){var t;return t=i(),1e9*t[0]+t[1]},o=n(),a=1e9*t.uptime(),s=o-a):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,t("_process"))},{_process:80}],80:[function(t,e,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function s(t){if(p===clearTimeout)return clearTimeout(t);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function a(){g&&f&&(g=!1,f.length?m=f.concat(m):v=-1,m.length&&l())}function l(){if(!g){var t=o(a);g=!0;for(var e=m.length;e;){for(f=m,m=[];++v<e;)f&&f[v].run();v=-1,e=m.length}f=null,g=!1,s(t)}}function u(t,e){this.fun=t,this.array=e}function h(){}var c,p,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(t){c=i}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(t){p=r}}();var f,m=[],g=!1,v=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new u(t,e)),1!==m.length||g||o(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=h,d.addListener=h,d.once=h,d.off=h,d.removeListener=h,d.removeAllListeners=h,d.emit=h,d.prependListener=h,d.prependOnceListener=h,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],81:[function(t,e,n){(function(n){for(var i=t("performance-now"),r="undefined"==typeof window?n:window,o=["moz","webkit"],s="AnimationFrame",a=r["request"+s],l=r["cancel"+s]||r["cancelRequest"+s],u=0;!a&&u<o.length;u++)a=r[o[u]+"Request"+s],l=r[o[u]+"Cancel"+s]||r[o[u]+"CancelRequest"+s];if(!a||!l){var h=0,c=0,p=[],d=1e3/60;a=function(t){if(0===p.length){var e=i(),n=Math.max(0,d-(e-h));h=n+e,setTimeout(function(){var t=p.slice(0);p.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(h)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return p.push({handle:++c,callback:t,cancelled:!1}),c},l=function(t){for(var e=0;e<p.length;e++)p[e].handle===t&&(p[e].cancelled=!0)}}e.exports=function(t){return a.call(r,t)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(){r.requestAnimationFrame=a,r.cancelAnimationFrame=l}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":79}],82:[function(t,e,n){!function(){"use strict";function t(t){t||(t=Math.random),this.p=i(t),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var e=0;512>e;e++)this.perm[e]=this.p[255&e],this.permMod12[e]=this.perm[e]%12}function i(t){var e,n=new Uint8Array(256);for(e=0;256>e;e++)n[e]=e;for(e=0;255>e;e++){var i=e+1+~~(t()*(255-e)),r=n[e];n[e]=n[i],n[i]=r}return n}var r=.5*(Math.sqrt(3)-1),o=(3-Math.sqrt(3))/6,s=1/3,a=1/6,l=(Math.sqrt(5)-1)/4,u=(5-Math.sqrt(5))/20;t.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,e){var n,i,s=this.permMod12,a=this.perm,l=this.grad3,u=0,h=0,c=0,p=(t+e)*r,d=Math.floor(t+p),f=Math.floor(e+p),m=(d+f)*o,g=d-m,v=f-m,y=t-g,_=e-v;y>_?(n=1,i=0):(n=0,i=1);var A=y-n+o,b=_-i+o,x=y-1+2*o,w=_-1+2*o,T=255&d,E=255&f,S=.5-y*y-_*_;if(S>=0){var M=3*s[T+a[E]];S*=S,u=S*S*(l[M]*y+l[M+1]*_)}var C=.5-A*A-b*b;if(C>=0){var P=3*s[T+n+a[E+i]];C*=C,h=C*C*(l[P]*A+l[P+1]*b)}var R=.5-x*x-w*w;if(R>=0){var O=3*s[T+1+a[E+1]];R*=R,c=R*R*(l[O]*x+l[O+1]*w)}return 70*(u+h+c)},noise3D:function(t,e,n){var i,r,o,l,u,h,c,p,d,f,m=this.permMod12,g=this.perm,v=this.grad3,y=(t+e+n)*s,_=Math.floor(t+y),A=Math.floor(e+y),b=Math.floor(n+y),x=(_+A+b)*a,w=_-x,T=A-x,E=b-x,S=t-w,M=e-T,C=n-E;S>=M?M>=C?(u=1,h=0,c=0,p=1,d=1,f=0):S>=C?(u=1,h=0,c=0,p=1,d=0,f=1):(u=0,h=0,c=1,p=1,d=0,f=1):C>M?(u=0,h=0,c=1,p=0,d=1,f=1):C>S?(u=0,h=1,c=0,p=0,d=1,f=1):(u=0,h=1,c=0,p=1,d=1,f=0);var P=S-u+a,R=M-h+a,O=C-c+a,L=S-p+2*a,N=M-d+2*a,I=C-f+2*a,k=S-1+3*a,D=M-1+3*a,F=C-1+3*a,B=255&_,U=255&A,V=255&b,G=.6-S*S-M*M-C*C;if(0>G)i=0;else{var H=3*m[B+g[U+g[V]]];G*=G,i=G*G*(v[H]*S+v[H+1]*M+v[H+2]*C)}var z=.6-P*P-R*R-O*O;if(0>z)r=0;else{var j=3*m[B+u+g[U+h+g[V+c]]];z*=z,r=z*z*(v[j]*P+v[j+1]*R+v[j+2]*O)}var q=.6-L*L-N*N-I*I;if(0>q)o=0;else{var W=3*m[B+p+g[U+d+g[V+f]]];q*=q,o=q*q*(v[W]*L+v[W+1]*N+v[W+2]*I)}var X=.6-k*k-D*D-F*F;if(0>X)l=0;else{var K=3*m[B+1+g[U+1+g[V+1]]];X*=X,l=X*X*(v[K]*k+v[K+1]*D+v[K+2]*F)}return 32*(i+r+o+l)},noise4D:function(t,e,n,i){var r,o,s,a,h,c=(this.permMod12,this.perm),p=this.grad4,d=(t+e+n+i)*l,f=Math.floor(t+d),m=Math.floor(e+d),g=Math.floor(n+d),v=Math.floor(i+d),y=(f+m+g+v)*u,_=f-y,A=m-y,b=g-y,x=v-y,w=t-_,T=e-A,E=n-b,S=i-x,M=0,C=0,P=0,R=0;w>T?M++:C++,w>E?M++:P++,w>S?M++:R++,T>E?C++:P++,T>S?C++:R++,E>S?P++:R++;var O,L,N,I,k,D,F,B,U,V,G,H;O=M>=3?1:0,L=C>=3?1:0,N=P>=3?1:0,I=R>=3?1:0,k=M>=2?1:0,D=C>=2?1:0,F=P>=2?1:0,B=R>=2?1:0,U=M>=1?1:0,V=C>=1?1:0,G=P>=1?1:0,H=R>=1?1:0;var z=w-O+u,j=T-L+u,q=E-N+u,W=S-I+u,X=w-k+2*u,K=T-D+2*u,Y=E-F+2*u,Z=S-B+2*u,Q=w-U+3*u,J=T-V+3*u,$=E-G+3*u,tt=S-H+3*u,et=w-1+4*u,nt=T-1+4*u,it=E-1+4*u,rt=S-1+4*u,ot=255&f,st=255&m,at=255&g,lt=255&v,ut=.6-w*w-T*T-E*E-S*S;if(0>ut)r=0;else{var ht=c[ot+c[st+c[at+c[lt]]]]%32*4;ut*=ut,r=ut*ut*(p[ht]*w+p[ht+1]*T+p[ht+2]*E+p[ht+3]*S)}var ct=.6-z*z-j*j-q*q-W*W;if(0>ct)o=0;else{var pt=c[ot+O+c[st+L+c[at+N+c[lt+I]]]]%32*4;ct*=ct,o=ct*ct*(p[pt]*z+p[pt+1]*j+p[pt+2]*q+p[pt+3]*W)}var dt=.6-X*X-K*K-Y*Y-Z*Z;if(0>dt)s=0;else{var ft=c[ot+k+c[st+D+c[at+F+c[lt+B]]]]%32*4;dt*=dt,s=dt*dt*(p[ft]*X+p[ft+1]*K+p[ft+2]*Y+p[ft+3]*Z)}var mt=.6-Q*Q-J*J-$*$-tt*tt;if(0>mt)a=0;else{var gt=c[ot+U+c[st+V+c[at+G+c[lt+H]]]]%32*4;mt*=mt,a=mt*mt*(p[gt]*Q+p[gt+1]*J+p[gt+2]*$+p[gt+3]*tt)}var vt=.6-et*et-nt*nt-it*it-rt*rt;if(0>vt)h=0;else{var yt=c[ot+1+c[st+1+c[at+1+c[lt+1]]]]%32*4;vt*=vt,h=vt*vt*(p[yt]*et+p[yt+1]*nt+p[yt+2]*it+p[yt+3]*rt)}return 27*(r+o+s+a+h)}},t._buildPermutationTable=i,"undefined"!=typeof define&&define.amd&&define(function(){return t}),"undefined"!=typeof n?n.SimplexNoise=t:"undefined"!=typeof window&&(window.SimplexNoise=t),"undefined"!=typeof e&&(e.exports=t)}()},{}],83:[function(t,e,n){"use strict";function i(){h&&(c.hasBar=c.width>c.height&&c.height>window.innerHeight),c.width=window.innerWidth,c.height=window.innerHeight,c.isLandscape=c.width>c.height,u.emit(l,c.width,c.height)}var r,o,s=t("tiny-emitter"),a=t("debounce"),l="resize",u=new s,h=/ip(hone|od|ad)/i.test(window.navigator.userAgent.toLowerCase())&&!window.MSStream,c=e.exports={width:0,height:0,hasBar:!1,isLandscape:!1,addListener:function(t,e){u.on(l,t,e)},removeListener:function(t,e){t&&u.off(l,t,e)},bind:function(t){t=t||{},c.unbind(),r=t.debounceTime||150,o=a(i,r),window.addEventListener(l,o)},unbind:function(){window.removeEventListener(l,o)}};i(),c.bind()},{debounce:71,"tiny-emitter":87}],84:[function(t,e,n){"use strict";function i(){var t=navigator.userAgent.toLowerCase(),e=navigator.appVersion.toLowerCase(),n=/windows phone|iemobile|wpdesktop/.test(t),i=!n&&/android.*mobile/.test(t),r=!n&&!i&&/android/i.test(t),o=i||r,s=!n&&/ip(hone|od|ad)/i.test(t)&&!window.MSStream,a=!n&&/ipad/i.test(t)&&s,l=r||a,u=i||s&&!a||n,h=u||l,c=t.indexOf("firefox")>-1,p=!!t.match(/version\/[\d\.]+.*safari/),d=t.indexOf("opr")>-1,f=!window.ActiveXObject&&"ActiveXObject"in window,m=e.indexOf("msie")>-1||f||e.indexOf("edge")>-1,g=t.indexOf("edge")>-1,v=null!==window.chrome&&void 0!==window.chrome&&"google inc."==navigator.vendor.toLowerCase()&&!d&&!g;this.infos={isDroid:o,isDroidPhone:i,isDroidTablet:r,isWindowsPhone:n,isIos:s,isIpad:a,isDevice:h,isEdge:g,isIE:m,isIE11:f,isPhone:u,isTablet:l,isFirefox:c,isSafari:p,isOpera:d,isChrome:v,isDesktop:!u&&!l},Object.keys(this.infos).forEach(function(t){Object.defineProperty(this,t,{get:function(){return this.infos[t]}})},this),Object.freeze(this)}function r(t,e){t.addClass?t.addClass(e):t.classList?t.classList.add(e):t.className+=" "+e}function o(t){return JSON.parse(JSON.stringify(t))}var s=t("dashify");e.exports=new i,i.prototype.addClasses=function(t){Object.keys(this.infos).forEach(function(e){this.infos[e]&&r(t,s(e))},this)},i.prototype.getInfos=function(){return o(this.infos)}},{dashify:70}],85:[function(t,e,n){!function(t,i){"object"==typeof n&&"undefined"!=typeof e?e.exports=i():"function"==typeof define&&define.amd?define(i):t.Stats=i()}(this,function(){var t=function(){function e(t){return r.appendChild(t.dom),t}function n(t){for(var e=0;e<r.children.length;e++)r.children[e].style.display=e===t?"block":"none";i=t}var i=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(t){t.preventDefault(),n(++i%r.children.length)},!1);var o=(performance||Date).now(),s=o,a=0,l=e(new t.Panel("FPS","#0ff","#002")),u=e(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var h=e(new t.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:r,addPanel:e,showPanel:n,begin:function(){o=(performance||Date).now()},end:function(){a++;var t=(performance||Date).now();if(u.update(t-o,200),t>s+1e3&&(l.update(1e3*a/(t-s),100),s=t,a=0,h)){var e=performance.memory;h.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){o=this.end()},domElement:r,setMode:n}};return t.Panel=function(t,e,n){var i=1/0,r=0,o=Math.round,s=o(window.devicePixelRatio||1),a=80*s,l=48*s,u=3*s,h=2*s,c=3*s,p=15*s,d=74*s,f=30*s,m=document.createElement("canvas");m.width=a,m.height=l,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*s+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,a,l),g.fillStyle=e,g.fillText(t,u,h),g.fillRect(c,p,d,f),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(c,p,d,f),{dom:m,update:function(l,v){i=Math.min(i,l),r=Math.max(r,l),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,a,p),g.fillStyle=e,g.fillText(o(l)+" "+t+" ("+o(i)+"-"+o(r)+")",u,h),g.drawImage(m,c+s,p,d-s,f,c,p,d-s,f),g.fillRect(c+d-s,p,s,f),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(c+d-s,p,s,o((1-l/v)*f))}}},t})},{}],86:[function(t,e,n){!function(t,i){"object"==typeof n&&"undefined"!=typeof e?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(t.THREE=t.THREE||{})}(this,function(t){"use strict";function e(){}function n(t,e){this.x=t||0,this.y=e||0}function i(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function r(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==i?i:1}function o(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function s(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function a(t,e,i,r,o,l,u,h,c,p){Object.defineProperty(this,"id",{value:Oa++}),this.uuid=Ra.generateUUID(),this.name="",this.image=void 0!==t?t:a.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:a.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:Es,this.wrapT=void 0!==r?r:Es,this.magFilter=void 0!==o?o:Rs,this.minFilter=void 0!==l?l:Ls,this.anisotropy=void 0!==c?c:1,this.format=void 0!==u?u:Xs,this.type=void 0!==h?h:Ns,this.offset=new n(0,0),this.repeat=new n(1,1),this.center=new n(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new s,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==p?p:Aa,this.version=0,this.onUpdate=null}function l(t,e,n,i){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==i?i:1}function u(t,e,n){this.uuid=Ra.generateUUID(),this.width=t,this.height=e,this.scissor=new l(0,0,t,e),this.scissorTest=!1,this.viewport=new l(0,0,t,e),n=n||{},void 0===n.minFilter&&(n.minFilter=Rs),this.texture=new a(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0!==n.depthBuffer?n.depthBuffer:!0,this.stencilBuffer=void 0!==n.stencilBuffer?n.stencilBuffer:!0,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function h(t,e,n){u.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function c(t,e,n,i,r,o,s,l,u,h,c,p){a.call(this,null,o,s,l,u,h,i,r,c,p),this.image={data:t,width:e,height:n},this.magFilter=void 0!==u?u:Ms,this.minFilter=void 0!==h?h:Ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function p(t,e,n,i,r,o,s,l,u,h){t=void 0!==t?t:[],e=void 0!==e?e:vs,a.call(this,t,e,n,i,r,o,s,l,u,h),this.flipY=!1}function d(){this.seq=[],this.map={}}function f(t,e,n){var i=t[0];if(0>=i||i>0)return t;var r=e*n,o=Ia[r];if(void 0===o&&(o=new Float32Array(r),Ia[r]=o),0!==e){i.toArray(o,0);for(var s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function m(t,e){var n=ka[e];void 0===n&&(n=new Int32Array(e),ka[e]=n);for(var i=0;i!==e;++i)n[i]=t.allocTextureUnit();return n}function g(t,e){t.uniform1f(this.addr,e)}function v(t,e){t.uniform1i(this.addr,e)}function y(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function _(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function A(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function b(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function x(t,e){void 0===e.elements?t.uniformMatrix3fv(this.addr,!1,e):(Fa.set(e.elements),t.uniformMatrix3fv(this.addr,!1,Fa))}function w(t,e){void 0===e.elements?t.uniformMatrix4fv(this.addr,!1,e):(Da.set(e.elements),t.uniformMatrix4fv(this.addr,!1,Da))}function T(t,e,n){var i=n.allocTextureUnit();t.uniform1i(this.addr,i),n.setTexture2D(e||La,i)}function E(t,e,n){var i=n.allocTextureUnit();t.uniform1i(this.addr,i),n.setTextureCube(e||Na,i)}function S(t,e){t.uniform2iv(this.addr,e)}function M(t,e){t.uniform3iv(this.addr,e)}function C(t,e){t.uniform4iv(this.addr,e)}function P(t){switch(t){case 5126:return g;case 35664:return y;case 35665:return _;case 35666:return A;case 35674:return b;case 35675:return x;case 35676:return w;case 35678:case 36198:return T;case 35680:return E;case 5124:case 35670:return v;case 35667:case 35671:return S;case 35668:case 35672:return M;case 35669:case 35673:return C}}function R(t,e){t.uniform1fv(this.addr,e)}function O(t,e){t.uniform1iv(this.addr,e)}function L(t,e){t.uniform2fv(this.addr,f(e,this.size,2))}function N(t,e){t.uniform3fv(this.addr,f(e,this.size,3))}function I(t,e){t.uniform4fv(this.addr,f(e,this.size,4))}function k(t,e){t.uniformMatrix2fv(this.addr,!1,f(e,this.size,4))}function D(t,e){t.uniformMatrix3fv(this.addr,!1,f(e,this.size,9))}function F(t,e){t.uniformMatrix4fv(this.addr,!1,f(e,this.size,16))}function B(t,e,n){var i=e.length,r=m(n,i);t.uniform1iv(this.addr,r);for(var o=0;o!==i;++o)n.setTexture2D(e[o]||La,r[o])}function U(t,e,n){var i=e.length,r=m(n,i);t.uniform1iv(this.addr,r);for(var o=0;o!==i;++o)n.setTextureCube(e[o]||Na,r[o])}function V(t){switch(t){case 5126:return R;case 35664:return L;case 35665:return N;case 35666:return I;case 35674:return k;case 35675:return D;case 35676:return F;case 35678:return B;case 35680:return U;case 5124:case 35670:return O;case 35667:case 35671:return S;case 35668:case 35672:return M;case 35669:case 35673:return C}}function G(t,e,n){this.id=t,this.addr=n,this.setValue=P(e.type)}function H(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=V(e.type)}function z(t){this.id=t,d.call(this)}function j(t,e){t.seq.push(e),t.map[e.id]=e}function q(t,e,n){var i=t.name,r=i.length;for(Ba.lastIndex=0;;){var o=Ba.exec(i),s=Ba.lastIndex,a=o[1],l="]"===o[2],u=o[3];if(l&&(a=0|a),void 0===u||"["===u&&s+2===r){j(n,void 0===u?new G(a,t,e):new H(a,t,e));break}var h=n.map,c=h[a];void 0===c&&(c=new z(a),j(n,c)),n=c}}function W(t,e,n){d.call(this),this.renderer=n;for(var i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),r=0;i>r;++r){var o=t.getActiveUniform(e,r),s=o.name,a=t.getUniformLocation(e,s);q(o,a,this)}}function X(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function K(t,e){this.min=void 0!==t?t:new n(+(1/0),+(1/0)),this.max=void 0!==e?e:new n(-(1/0),-(1/0))}function Y(t,e,i,r,s){function a(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),n=new Uint16Array([0,1,2,0,2,3]);u=e.createBuffer(),h=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,h),e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW),m=e.createTexture(),g=e.createTexture(),i.bindTexture(e.TEXTURE_2D,m),e.texImage2D(e.TEXTURE_2D,0,e.RGB,16,16,0,e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),i.bindTexture(e.TEXTURE_2D,g),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,16,16,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),c={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","	vUV = uv;","	vec2 pos = position;","	if ( renderType == 2 ) {","		vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","		visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","		visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","		visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","		visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","		visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","		visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","		visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","		visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","		vVisibility =        visibility.r / 9.0;","		vVisibility *= 1.0 - visibility.g / 9.0;","		vVisibility *=       visibility.b / 9.0;","		vVisibility *= 1.0 - visibility.a / 9.0;","		pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","		pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","	}","	gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","	if ( renderType == 0 ) {","		gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","	} else if ( renderType == 1 ) {","		gl_FragColor = texture2D( map, vUV );","	} else {","		vec4 texture = texture2D( map, vUV );","		texture.a *= opacity * vVisibility;","		gl_FragColor = texture;","		gl_FragColor.rgb *= color;","	}","}"].join("\n")},p=l(c),d={vertex:e.getAttribLocation(p,"position"),uv:e.getAttribLocation(p,"uv")},f={renderType:e.getUniformLocation(p,"renderType"),map:e.getUniformLocation(p,"map"),occlusionMap:e.getUniformLocation(p,"occlusionMap"),opacity:e.getUniformLocation(p,"opacity"),color:e.getUniformLocation(p,"color"),scale:e.getUniformLocation(p,"scale"),rotation:e.getUniformLocation(p,"rotation"),screenPosition:e.getUniformLocation(p,"screenPosition")}}function l(t){var n=e.createProgram(),i=e.createShader(e.FRAGMENT_SHADER),r=e.createShader(e.VERTEX_SHADER),o="precision "+s.precision+" float;\n";return e.shaderSource(i,o+t.fragmentShader),e.shaderSource(r,o+t.vertexShader),e.compileShader(i),e.compileShader(r),e.attachShader(n,i),e.attachShader(n,r),e.linkProgram(n),n}var u,h,c,p,d,f,m,g;this.render=function(t,s,l,c){if(0!==t.length){var v=new o,y=c.w/c.z,_=.5*c.z,A=.5*c.w,b=16/c.w,x=new n(b*y,b),w=new o(1,1,0),T=new n(1,1),E=new K;E.min.set(c.x,c.y),E.max.set(c.x+(c.z-16),c.y+(c.w-16)),void 0===p&&a(),i.useProgram(p),i.initAttributes(),i.enableAttribute(d.vertex),i.enableAttribute(d.uv),i.disableUnusedAttributes(),e.uniform1i(f.occlusionMap,0),e.uniform1i(f.map,1),e.bindBuffer(e.ARRAY_BUFFER,u),e.vertexAttribPointer(d.vertex,2,e.FLOAT,!1,16,0),e.vertexAttribPointer(d.uv,2,e.FLOAT,!1,16,8),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,h),i.disable(e.CULL_FACE),i.buffers.depth.setMask(!1);for(var S=0,M=t.length;M>S;S++){b=16/c.w,x.set(b*y,b);var C=t[S];if(v.set(C.matrixWorld.elements[12],C.matrixWorld.elements[13],C.matrixWorld.elements[14]),v.applyMatrix4(l.matrixWorldInverse),v.applyMatrix4(l.projectionMatrix),w.copy(v),T.x=c.x+w.x*_+_-8,T.y=c.y+w.y*A+A-8,E.containsPoint(T)===!0){i.activeTexture(e.TEXTURE0),i.bindTexture(e.TEXTURE_2D,null),i.activeTexture(e.TEXTURE1),i.bindTexture(e.TEXTURE_2D,m),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGB,T.x,T.y,16,16,0),e.uniform1i(f.renderType,0),e.uniform2f(f.scale,x.x,x.y),e.uniform3f(f.screenPosition,w.x,w.y,w.z),i.disable(e.BLEND),i.enable(e.DEPTH_TEST),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0),i.activeTexture(e.TEXTURE0),i.bindTexture(e.TEXTURE_2D,g),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,T.x,T.y,16,16,0),e.uniform1i(f.renderType,1),i.disable(e.DEPTH_TEST),i.activeTexture(e.TEXTURE1),i.bindTexture(e.TEXTURE_2D,m),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0),C.positionScreen.copy(w),C.customUpdateCallback?C.customUpdateCallback(C):C.updateLensFlares(),e.uniform1i(f.renderType,2),i.enable(e.BLEND);for(var P=0,R=C.lensFlares.length;R>P;P++){var O=C.lensFlares[P];O.opacity>.001&&O.scale>.001&&(w.x=O.x,w.y=O.y,w.z=O.z,b=O.size*O.scale/c.w,x.x=b*y,x.y=b,e.uniform3f(f.screenPosition,w.x,w.y,w.z),e.uniform2f(f.scale,x.x,x.y),e.uniform1f(f.rotation,O.rotation),e.uniform1f(f.opacity,O.opacity),e.uniform3f(f.color,O.color.r,O.color.g,O.color.b),i.setBlending(O.blending,O.blendEquation,O.blendSrc,O.blendDst),r.setTexture2D(O.texture,1),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}}}i.enable(e.CULL_FACE),i.enable(e.DEPTH_TEST),i.buffers.depth.setMask(!0),i.reset()}}}function Z(t,e,n,i,r,o,s,l,u){a.call(this,t,e,n,i,r,o,s,l,u),this.needsUpdate=!0}function Q(t,e,n,i,s){function a(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),n=new Uint16Array([0,1,2,0,2,3]);h=e.createBuffer(),c=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,c),e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW),p=l(),d={position:e.getAttribLocation(p,"position"),uv:e.getAttribLocation(p,"uv")},f={uvOffset:e.getUniformLocation(p,"uvOffset"),uvScale:e.getUniformLocation(p,"uvScale"),rotation:e.getUniformLocation(p,"rotation"),scale:e.getUniformLocation(p,"scale"),color:e.getUniformLocation(p,"color"),map:e.getUniformLocation(p,"map"),opacity:e.getUniformLocation(p,"opacity"),modelViewMatrix:e.getUniformLocation(p,"modelViewMatrix"),projectionMatrix:e.getUniformLocation(p,"projectionMatrix"),fogType:e.getUniformLocation(p,"fogType"),fogDensity:e.getUniformLocation(p,"fogDensity"),fogNear:e.getUniformLocation(p,"fogNear"),fogFar:e.getUniformLocation(p,"fogFar"),fogColor:e.getUniformLocation(p,"fogColor"),fogDepth:e.getUniformLocation(p,"fogDepth"),alphaTest:e.getUniformLocation(p,"alphaTest")};var i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=8,i.height=8;var r=i.getContext("2d");r.fillStyle="white",r.fillRect(0,0,8,8),m=new Z(i)}function l(){var t=e.createProgram(),n=e.createShader(e.VERTEX_SHADER),i=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(n,["precision "+s.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","	vUV = uvOffset + uv * uvScale;","	vec2 alignedPosition = position * scale;","	vec2 rotatedPosition;","	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","	vec4 mvPosition;","	mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","	mvPosition.xy += rotatedPosition;","	gl_Position = projectionMatrix * mvPosition;","	fogDepth = - mvPosition.z;","}"].join("\n")),
e.shaderSource(i,["precision "+s.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","	vec4 texture = texture2D( map, vUV );","	gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","	if ( gl_FragColor.a < alphaTest ) discard;","	if ( fogType > 0 ) {","		float fogFactor = 0.0;","		if ( fogType == 1 ) {","			fogFactor = smoothstep( fogNear, fogFar, fogDepth );","		} else {","			const float LOG2 = 1.442695;","			fogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","			fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","		}","		gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","	}","}"].join("\n")),e.compileShader(n),e.compileShader(i),e.attachShader(t,n),e.attachShader(t,i),e.linkProgram(t),t}function u(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var h,c,p,d,f,m,g=new o,v=new r,y=new o;this.render=function(r,o,s){if(0!==r.length){void 0===p&&a(),n.useProgram(p),n.initAttributes(),n.enableAttribute(d.position),n.enableAttribute(d.uv),n.disableUnusedAttributes(),n.disable(e.CULL_FACE),n.enable(e.BLEND),e.bindBuffer(e.ARRAY_BUFFER,h),e.vertexAttribPointer(d.position,2,e.FLOAT,!1,16,0),e.vertexAttribPointer(d.uv,2,e.FLOAT,!1,16,8),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,c),e.uniformMatrix4fv(f.projectionMatrix,!1,s.projectionMatrix.elements),n.activeTexture(e.TEXTURE0),e.uniform1i(f.map,0);var l=0,_=0,A=o.fog;A?(e.uniform3f(f.fogColor,A.color.r,A.color.g,A.color.b),A.isFog?(e.uniform1f(f.fogNear,A.near),e.uniform1f(f.fogFar,A.far),e.uniform1i(f.fogType,1),l=1,_=1):A.isFogExp2&&(e.uniform1f(f.fogDensity,A.density),e.uniform1i(f.fogType,2),l=2,_=2)):(e.uniform1i(f.fogType,0),l=0,_=0);for(var b=0,x=r.length;x>b;b++){var w=r[b];w.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,w.matrixWorld),w.z=-w.modelViewMatrix.elements[14]}r.sort(u);for(var T=[],b=0,x=r.length;x>b;b++){var w=r[b],E=w.material;if(E.visible!==!1){w.onBeforeRender(t,o,s,void 0,E,void 0),e.uniform1f(f.alphaTest,E.alphaTest),e.uniformMatrix4fv(f.modelViewMatrix,!1,w.modelViewMatrix.elements),w.matrixWorld.decompose(g,v,y),T[0]=y.x,T[1]=y.y;var S=0;o.fog&&E.fog&&(S=_),l!==S&&(e.uniform1i(f.fogType,S),l=S),null!==E.map?(e.uniform2f(f.uvOffset,E.map.offset.x,E.map.offset.y),e.uniform2f(f.uvScale,E.map.repeat.x,E.map.repeat.y)):(e.uniform2f(f.uvOffset,0,0),e.uniform2f(f.uvScale,1,1)),e.uniform1f(f.opacity,E.opacity),e.uniform3f(f.color,E.color.r,E.color.g,E.color.b),e.uniform1f(f.rotation,E.rotation),e.uniform2fv(f.scale,T),n.setBlending(E.blending,E.blendEquation,E.blendSrc,E.blendDst,E.blendEquationAlpha,E.blendSrcAlpha,E.blendDstAlpha,E.premultipliedAlpha),n.buffers.depth.setTest(E.depthTest),n.buffers.depth.setMask(E.depthWrite),n.buffers.color.setMask(E.colorWrite),i.setTexture2D(E.map||m,0),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0),w.onAfterRender(t,o,s,void 0,E,void 0)}}n.enable(e.CULL_FACE),n.reset()}}}function J(){Object.defineProperty(this,"id",{value:qu++}),this.uuid=Ra.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=No,this.side=To,this.flatShading=!1,this.vertexColors=Po,this.opacity=1,this.transparent=!1,this.blendSrc=Xo,this.blendDst=Ko,this.blendEquation=Bo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=is,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function $(t){J.call(this),this.type="MeshDepthMaterial",this.depthPacking=Ca,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function tt(t){J.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new o,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function et(t,e){this.min=void 0!==t?t:new o(+(1/0),+(1/0),+(1/0)),this.max=void 0!==e?e:new o(-(1/0),-(1/0),-(1/0))}function nt(t,e){this.center=void 0!==t?t:new o,this.radius=void 0!==e?e:0}function it(t,e){this.normal=void 0!==t?t:new o(1,0,0),this.constant=void 0!==e?e:0}function rt(t,e,n,i,r,o){this.planes=[void 0!==t?t:new it,void 0!==e?e:new it,void 0!==n?n:new it,void 0!==i?i:new it,void 0!==r?r:new it,void 0!==o?o:new it]}function ot(t,e,r){function s(e,n,i,r,o,s){var a=e.geometry,l=null,u=_,h=e.customDepthMaterial;if(i&&(u=A,h=e.customDistanceMaterial),h)l=h;else{var c=!1;n.morphTargets&&(a&&a.isBufferGeometry?c=a.morphAttributes&&a.morphAttributes.position&&a.morphAttributes.position.length>0:a&&a.isGeometry&&(c=a.morphTargets&&a.morphTargets.length>0)),e.isSkinnedMesh&&n.skinning===!1&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var p=e.isSkinnedMesh&&n.skinning,d=0;c&&(d|=g),p&&(d|=v),l=u[d]}if(t.localClippingEnabled&&n.clipShadows===!0&&0!==n.clippingPlanes.length){var f=l.uuid,m=n.uuid,y=b[f];void 0===y&&(y={},b[f]=y);var x=y[m];void 0===x&&(x=l.clone(),y[m]=x),l=x}l.visible=n.visible,l.wireframe=n.wireframe;var w=n.side;return R.renderSingleSided&&w==So&&(w=To),R.renderReverseSided&&(w===To?w=Eo:w===Eo&&(w=To)),l.side=w,l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,i&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(r),l.nearDistance=o,l.farDistance=s),l}function a(n,i,r,o){if(n.visible!==!1){var l=n.layers.test(i.layers);if(l&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||h.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,n.matrixWorld);var u=e.update(n),c=n.material;if(Array.isArray(c))for(var p=u.groups,d=0,f=p.length;f>d;d++){var g=p[d],v=c[g.materialIndex];if(v&&v.visible){var y=s(n,v,o,m,r.near,r.far);t.renderBufferDirect(r,null,u,y,n,g)}}else if(c.visible){var y=s(n,c,o,m,r.near,r.far);t.renderBufferDirect(r,null,u,y,n,null)}}for(var _=n.children,A=0,b=_.length;b>A;A++)a(_[A],i,r,o)}}for(var h=new rt,c=new i,p=new n,d=new n(r,r),f=new o,m=new o,g=1,v=2,y=(g|v)+1,_=new Array(y),A=new Array(y),b={},x=[new o(1,0,0),new o(-1,0,0),new o(0,0,1),new o(0,0,-1),new o(0,1,0),new o(0,-1,0)],w=[new o(0,1,0),new o(0,1,0),new o(0,1,0),new o(0,1,0),new o(0,0,1),new o(0,0,-1)],T=[new l,new l,new l,new l,new l,new l],E=0;E!==y;++E){var S=0!==(E&g),M=0!==(E&v),C=new $({depthPacking:Pa,morphTargets:S,skinning:M});_[E]=C;var P=new tt({morphTargets:S,skinning:M});A[E]=P}var R=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=xo,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,n,i){if(R.enabled!==!1&&(R.autoUpdate!==!1||R.needsUpdate!==!1)&&0!==e.length){var r=t.context,o=t.state;o.disable(r.BLEND),o.buffers.color.setClear(1,1,1,1),o.buffers.depth.setTest(!0),o.setScissorTest(!1);for(var s,l=0,g=e.length;g>l;l++){var v=e[l],y=v.shadow,_=v&&v.isPointLight;if(void 0!==y){var A=y.camera;if(p.copy(y.mapSize),p.min(d),_){var b=p.x,E=p.y;T[0].set(2*b,E,b,E),T[1].set(0,E,b,E),T[2].set(3*b,E,b,E),T[3].set(b,E,b,E),T[4].set(3*b,0,b,E),T[5].set(b,0,b,E),p.x*=4,p.y*=2}if(null===y.map){var S={minFilter:Ms,magFilter:Ms,format:Xs};y.map=new u(p.x,p.y,S),y.map.texture.name=v.name+".shadowMap",A.updateProjectionMatrix()}y.isSpotLightShadow&&y.update(v);var M=y.map,C=y.matrix;m.setFromMatrixPosition(v.matrixWorld),A.position.copy(m),_?(s=6,C.makeTranslation(-m.x,-m.y,-m.z)):(s=1,f.setFromMatrixPosition(v.target.matrixWorld),A.lookAt(f),A.updateMatrixWorld(),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(A.projectionMatrix),C.multiply(A.matrixWorldInverse)),t.setRenderTarget(M),t.clear();for(var P=0;s>P;P++){if(_){f.copy(A.position),f.add(x[P]),A.up.copy(w[P]),A.lookAt(f),A.updateMatrixWorld();var O=T[P];o.viewport(O)}c.multiplyMatrices(A.projectionMatrix,A.matrixWorldInverse),h.setFromMatrix(c),a(n,i,A,_)}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}R.needsUpdate=!1}}}function st(t){function e(e,n){var i=e.array,r=e.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW,o=t.createBuffer();t.bindBuffer(n,o),t.bufferData(n,i,r),e.onUploadCallback();var s=t.FLOAT;return i instanceof Float32Array?s=t.FLOAT:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?s=t.UNSIGNED_SHORT:i instanceof Int16Array?s=t.SHORT:i instanceof Uint32Array?s=t.UNSIGNED_INT:i instanceof Int32Array?s=t.INT:i instanceof Int8Array?s=t.BYTE:i instanceof Uint8Array&&(s=t.UNSIGNED_BYTE),{buffer:o,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:e.version}}function n(e,n,i){var r=n.array,o=n.updateRange;t.bindBuffer(i,e),n.dynamic===!1?t.bufferData(i,r,t.STATIC_DRAW):-1===o.count?t.bufferSubData(i,0,r):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(i,o.offset*r.BYTES_PER_ELEMENT,r.subarray(o.offset,o.offset+o.count)),o.count=-1)}function i(t){return t.isInterleavedBufferAttribute&&(t=t.data),s[t.uuid]}function r(e){e.isInterleavedBufferAttribute&&(e=e.data);var n=s[e.uuid];n&&(t.deleteBuffer(n.buffer),delete s[e.uuid])}function o(t,i){t.isInterleavedBufferAttribute&&(t=t.data);var r=s[t.uuid];void 0===r?s[t.uuid]=e(t,i):r.version<t.version&&(n(r.buffer,t,i),r.version=t.version)}var s={};return{get:i,remove:r,update:o}}function at(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._order=i||at.DefaultOrder}function lt(){this.mask=1}function ut(){function t(){l.setFromEuler(a,!1)}function e(){a.setFromQuaternion(l,void 0,!1)}Object.defineProperty(this,"id",{value:Wu++}),this.uuid=Ra.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ut.DefaultUp.clone();var n=new o,a=new at,l=new r,u=new o(1,1,1);a.onChange(t),l.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:a},quaternion:{enumerable:!0,value:l},scale:{enumerable:!0,value:u},modelViewMatrix:{value:new i},normalMatrix:{value:new s}}),this.matrix=new i,this.matrixWorld=new i,this.matrixAutoUpdate=ut.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new lt,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function ht(){ut.call(this),this.type="Camera",this.matrixWorldInverse=new i,this.projectionMatrix=new i}function ct(t,e,n,i,r,o){ht.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=i,this.near=void 0!==r?r:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function pt(t,e,n,i,r,s){this.a=t,this.b=e,this.c=n,this.normal=i&&i.isVector3?i:new o,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new X,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==s?s:0}function dt(){Object.defineProperty(this,"id",{value:Xu+=2}),this.uuid=Ra.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function ft(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Ra.generateUUID(),this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=n===!0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function mt(t,e,n){ft.call(this,new Int8Array(t),e,n)}function gt(t,e,n){ft.call(this,new Uint8Array(t),e,n)}function vt(t,e,n){ft.call(this,new Uint8ClampedArray(t),e,n)}function yt(t,e,n){ft.call(this,new Int16Array(t),e,n)}function _t(t,e,n){ft.call(this,new Uint16Array(t),e,n)}function At(t,e,n){ft.call(this,new Int32Array(t),e,n)}function bt(t,e,n){ft.call(this,new Uint32Array(t),e,n)}function xt(t,e,n){ft.call(this,new Float32Array(t),e,n)}function wt(t,e,n){ft.call(this,new Float64Array(t),e,n)}function Tt(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Et(t){if(0===t.length)return-(1/0);for(var e=t[0],n=1,i=t.length;i>n;++n)t[n]>e&&(e=t[n]);return e}function St(){Object.defineProperty(this,"id",{value:Ku+=2}),this.uuid=Ra.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Mt(t,e,n,i,r,o){dt.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o},this.fromBufferGeometry(new Ct(t,e,n,i,r,o)),this.mergeVertices()}function Ct(t,e,n,i,r,s){function a(t,e,n,i,r,s,a,m,g,v,y){var _,A,b=s/g,x=a/v,w=s/2,T=a/2,E=m/2,S=g+1,M=v+1,C=0,P=0,R=new o;for(A=0;M>A;A++){var O=A*x-T;for(_=0;S>_;_++){var L=_*b-w;R[t]=L*i,R[e]=O*r,R[n]=E,h.push(R.x,R.y,R.z),R[t]=0,R[e]=0,R[n]=m>0?1:-1,c.push(R.x,R.y,R.z),p.push(_/g),p.push(1-A/v),C+=1}}for(A=0;v>A;A++)for(_=0;g>_;_++){var N=d+_+S*A,I=d+_+S*(A+1),k=d+(_+1)+S*(A+1),D=d+(_+1)+S*A;u.push(N,I,D),u.push(I,k,D),P+=6}l.addGroup(f,P,y),f+=P,d+=C}St.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:s};var l=this;t=t||1,e=e||1,n=n||1,i=Math.floor(i)||1,r=Math.floor(r)||1,s=Math.floor(s)||1;var u=[],h=[],c=[],p=[],d=0,f=0;a("z","y","x",-1,-1,n,e,t,s,r,0),a("z","y","x",1,-1,n,e,-t,s,r,1),a("x","z","y",1,1,t,n,e,i,s,2),a("x","z","y",1,-1,t,n,-e,i,s,3),a("x","y","z",1,-1,t,e,n,i,r,4),a("x","y","z",-1,-1,t,e,-n,i,r,5),this.setIndex(u),this.addAttribute("position",new xt(h,3)),this.addAttribute("normal",new xt(c,3)),this.addAttribute("uv",new xt(p,2))}function Pt(t,e,n,i){dt.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new Rt(t,e,n,i)),this.mergeVertices()}function Rt(t,e,n,i){St.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i},t=t||1,e=e||1;var r,o,s=t/2,a=e/2,l=Math.floor(n)||1,u=Math.floor(i)||1,h=l+1,c=u+1,p=t/l,d=e/u,f=[],m=[],g=[],v=[];for(o=0;c>o;o++){var y=o*d-a;for(r=0;h>r;r++){var _=r*p-s;m.push(_,-y,0),g.push(0,0,1),v.push(r/l),v.push(1-o/u)}}for(o=0;u>o;o++)for(r=0;l>r;r++){var A=r+h*o,b=r+h*(o+1),x=r+1+h*(o+1),w=r+1+h*o;f.push(A,b,w),f.push(b,x,w)}this.setIndex(f),this.addAttribute("position",new xt(m,3)),this.addAttribute("normal",new xt(g,3)),this.addAttribute("uv",new xt(v,2))}function Ot(t){J.call(this),this.type="MeshBasicMaterial",this.color=new X(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ls,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Lt(t){J.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function Nt(t,e){this.origin=void 0!==t?t:new o,this.direction=void 0!==e?e:new o}function It(t,e){this.start=void 0!==t?t:new o,this.end=void 0!==e?e:new o}function kt(t,e,n){this.a=void 0!==t?t:new o,this.b=void 0!==e?e:new o,this.c=void 0!==n?n:new o}function Dt(t,e){ut.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new St,this.material=void 0!==e?e:new Ot({color:16777215*Math.random()}),this.drawMode=va,this.updateMorphTargets()}function Ft(t,e,n,i){function r(e,i,r,c){var p=i.background;null===p?o(u,h):p&&p.isColor&&(o(p,1),c=!0),(t.autoClear||c)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&p.isCubeTexture?(void 0===l&&(l=new Dt(new Ct(1,1,1),new Lt({uniforms:ju.cube.uniforms,vertexShader:ju.cube.vertexShader,fragmentShader:ju.cube.fragmentShader,side:Eo,depthTest:!0,depthWrite:!1,fog:!1})),l.geometry.removeAttribute("normal"),l.geometry.removeAttribute("uv"),l.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},n.update(l.geometry)),l.material.uniforms.tCube.value=p,e.push(l,l.geometry,l.material,0,null)):p&&p.isTexture&&(void 0===s&&(s=new ct(-1,1,1,-1,0,1),a=new Dt(new Rt(2,2),new Ot({depthTest:!1,depthWrite:!1,fog:!1})),n.update(a.geometry)),a.material.map=p,t.renderBufferDirect(s,null,a.geometry,a.material,a,null))}function o(t,n){e.buffers.color.setClear(t.r,t.g,t.b,n,i)}var s,a,l,u=new X(0),h=0;return{getClearColor:function(){return u},setClearColor:function(t,e){u.set(t),h=void 0!==e?e:1,o(u,h)},getClearAlpha:function(){return h},setClearAlpha:function(t){h=t,o(u,h)},render:r}}function Bt(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Ut(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Vt(){function t(){r=0,o.length=0,s.length=0}function e(t,e,n,a,l){var u=i[r];void 0===u?(u={id:t.id,object:t,geometry:e,material:n,program:n.program,renderOrder:t.renderOrder,z:a,group:l},i[r]=u):(u.id=t.id,u.object=t,u.geometry=e,u.material=n,u.program=n.program,u.renderOrder=t.renderOrder,u.z=a,u.group=l),(n.transparent===!0?s:o).push(u),r++}function n(){o.length>1&&o.sort(Bt),s.length>1&&s.sort(Ut)}var i=[],r=0,o=[],s=[];return{opaque:o,transparent:s,init:t,push:e,sort:n}}function Gt(){function t(t,e){var i=t.id+","+e.id,r=n[i];return void 0===r&&(r=new Vt,n[i]=r),r}function e(){n={}}var n={};return{get:t,dispose:e}}function Ht(t,e){return Math.abs(e[1])-Math.abs(t[1])}function zt(t){function e(e,r,o,s){var a=e.morphTargetInfluences,l=a.length,u=n[r.id];if(void 0===u){u=[];for(var h=0;l>h;h++)u[h]=[h,0];n[r.id]=u}for(var c=o.morphTargets&&r.morphAttributes.position,p=o.morphNormals&&r.morphAttributes.normal,h=0;l>h;h++){var d=u[h];0!==d[1]&&(c&&r.removeAttribute("morphTarget"+h),p&&r.removeAttribute("morphNormal"+h))}for(var h=0;l>h;h++){var d=u[h];d[0]=h,d[1]=a[h]}u.sort(Ht);for(var h=0;8>h;h++){var d=u[h];if(d){var f=d[0],m=d[1];if(m){c&&r.addAttribute("morphTarget"+h,c[f]),p&&r.addAttribute("morphNormal"+h,p[f]),i[h]=m;continue}}i[h]=0}s.getUniforms().setValue(t,"morphTargetInfluences",i)}var n={},i=new Float32Array(8);return{update:e}}function jt(t,e,n){function i(t){a=t}function r(t){l=t.type,u=t.bytesPerElement}function o(e,i){t.drawElements(a,i,l,e*u),n.calls++,n.vertices+=i,a===t.TRIANGLES?n.faces+=i/3:a===t.POINTS&&(n.points+=i)}function s(i,r,o){var s=e.get("ANGLE_instanced_arrays");return null===s?void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):(s.drawElementsInstancedANGLE(a,o,l,r*u,i.maxInstancedCount),n.calls++,n.vertices+=o*i.maxInstancedCount,void(a===t.TRIANGLES?n.faces+=i.maxInstancedCount*o/3:a===t.POINTS&&(n.points+=i.maxInstancedCount*o)))}var a,l,u;this.setMode=i,this.setIndex=r,this.render=o,this.renderInstances=s}function qt(t,e,n){function i(t){s=t}function r(e,i){t.drawArrays(s,e,i),n.calls++,n.vertices+=i,s===t.TRIANGLES?n.faces+=i/3:s===t.POINTS&&(n.points+=i)}function o(i,r,o){var a=e.get("ANGLE_instanced_arrays");if(null===a)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var l=i.attributes.position;l.isInterleavedBufferAttribute?(o=l.data.count,a.drawArraysInstancedANGLE(s,0,o,i.maxInstancedCount)):a.drawArraysInstancedANGLE(s,r,o,i.maxInstancedCount),n.calls++,n.vertices+=o*i.maxInstancedCount,s===t.TRIANGLES?n.faces+=i.maxInstancedCount*o/3:s===t.POINTS&&(n.points+=i.maxInstancedCount*o)}var s;this.setMode=i,this.render=r,this.renderInstances=o}function Wt(t,e,n){function i(t){var r=t.target,o=a[r.id];null!==o.index&&e.remove(o.index);for(var s in o.attributes)e.remove(o.attributes[s]);r.removeEventListener("dispose",i),delete a[r.id];var u=l[r.id];u&&(e.remove(u),delete l[r.id]),u=l[o.id],u&&(e.remove(u),delete l[o.id]),n.geometries--}function r(t,e){var r=a[e.id];return r?r:(e.addEventListener("dispose",i),e.isBufferGeometry?r=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new St).setFromObject(t)),r=e._bufferGeometry),a[e.id]=r,n.geometries++,r)}function o(n){var i=n.index,r=n.attributes;null!==i&&e.update(i,t.ELEMENT_ARRAY_BUFFER);for(var o in r)e.update(r[o],t.ARRAY_BUFFER);var s=n.morphAttributes;for(var o in s)for(var a=s[o],l=0,u=a.length;u>l;l++)e.update(a[l],t.ARRAY_BUFFER)}function s(n){var i=l[n.id];if(i)return i;var r=[],o=n.index,s=n.attributes;if(null!==o)for(var a=o.array,u=0,h=a.length;h>u;u+=3){var c=a[u+0],p=a[u+1],d=a[u+2];r.push(c,p,p,d,d,c)}else for(var a=s.position.array,u=0,h=a.length/3-1;h>u;u+=3){var c=u+0,p=u+1,d=u+2;r.push(c,p,p,d,d,c)}return i=new(Et(r)>65535?bt:_t)(r,1),e.update(i,t.ELEMENT_ARRAY_BUFFER),l[n.id]=i,i}var a={},l={};return{get:r,update:o,getWireframeAttribute:s}}function Xt(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var i;switch(e.type){case"DirectionalLight":i={direction:new o,color:new X,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"SpotLight":i={position:new o,direction:new o,color:new X,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"PointLight":i={position:new o,color:new X,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":i={direction:new o,skyColor:new X,groundColor:new X};break;case"RectAreaLight":i={color:new X,position:new o,halfWidth:new o,halfHeight:new o}}return t[e.id]=i,i}}}function Kt(){function t(t,i,o){for(var l=0,u=0,h=0,c=0,p=0,d=0,f=0,m=0,g=o.matrixWorldInverse,v=0,y=t.length;y>v;v++){var _=t[v],A=_.color,b=_.intensity,x=_.distance,w=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)l+=A.r*b,u+=A.g*b,h+=A.b*b;else if(_.isDirectionalLight){var T=e.get(_);if(T.color.copy(_.color).multiplyScalar(_.intensity),T.direction.setFromMatrixPosition(_.matrixWorld),r.setFromMatrixPosition(_.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.shadow=_.castShadow,_.castShadow){var E=_.shadow;T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize}n.directionalShadowMap[c]=w,n.directionalShadowMatrix[c]=_.shadow.matrix,n.directional[c]=T,c++}else if(_.isSpotLight){var T=e.get(_);if(T.position.setFromMatrixPosition(_.matrixWorld),T.position.applyMatrix4(g),T.color.copy(A).multiplyScalar(b),T.distance=x,T.direction.setFromMatrixPosition(_.matrixWorld),r.setFromMatrixPosition(_.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.coneCos=Math.cos(_.angle),T.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),T.decay=0===_.distance?0:_.decay,T.shadow=_.castShadow,_.castShadow){var E=_.shadow;T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize}n.spotShadowMap[d]=w,n.spotShadowMatrix[d]=_.shadow.matrix,n.spot[d]=T,d++}else if(_.isRectAreaLight){var T=e.get(_);T.color.copy(A).multiplyScalar(b/(_.width*_.height)),T.position.setFromMatrixPosition(_.matrixWorld),T.position.applyMatrix4(g),a.identity(),s.copy(_.matrixWorld),s.premultiply(g),a.extractRotation(s),T.halfWidth.set(.5*_.width,0,0),T.halfHeight.set(0,.5*_.height,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),n.rectArea[f]=T,f++}else if(_.isPointLight){var T=e.get(_);if(T.position.setFromMatrixPosition(_.matrixWorld),T.position.applyMatrix4(g),T.color.copy(_.color).multiplyScalar(_.intensity),T.distance=_.distance,T.decay=0===_.distance?0:_.decay,T.shadow=_.castShadow,_.castShadow){var E=_.shadow;T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize,T.shadowCameraNear=E.camera.near,T.shadowCameraFar=E.camera.far}n.pointShadowMap[p]=w,n.pointShadowMatrix[p]=_.shadow.matrix,n.point[p]=T,p++}else if(_.isHemisphereLight){var T=e.get(_);T.direction.setFromMatrixPosition(_.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(_.color).multiplyScalar(b),T.groundColor.copy(_.groundColor).multiplyScalar(b),n.hemi[m]=T,m++}}n.ambient[0]=l,n.ambient[1]=u,n.ambient[2]=h,n.directional.length=c,n.spot.length=d,n.rectArea.length=f,n.point.length=p,n.hemi.length=m,n.hash=c+","+p+","+d+","+f+","+m+","+i.length}var e=new Xt,n={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},r=new o,s=new i,a=new i;return{setup:t,state:n}}function Yt(t,e){function n(n){var i=e.frame,o=n.geometry,s=t.get(n,o);return r[s.id]!==i&&(o.isGeometry&&s.updateFromObject(n),t.update(s),r[s.id]=i),s}function i(){r={}}var r={};return{update:n,clear:i}}function Zt(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function Qt(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(i)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(i),Zt(n)),i}function Jt(t){switch(t){case Aa:return["Linear","( value )"];case ba:return["sRGB","( value )"];case wa:return["RGBE","( value )"];case Ea:return["RGBM","( value, 7.0 )"];case Sa:return["RGBM","( value, 16.0 )"];case Ma:return["RGBD","( value, 256.0 )"];case xa:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function $t(t,e){var n=Jt(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function te(t,e){var n=Jt(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function ee(t,e){var n;switch(e){case ps:n="Linear";break;case ds:n="Reinhard";break;case fs:n="Uncharted2";break;case ms:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ne(t,e,n){t=t||{};var i=[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return i.filter(oe).join("\n")}function ie(t){var e=[];for(var n in t){var i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join("\n")}function re(t,e){for(var n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),r=0;i>r;r++){var o=t.getActiveAttrib(e,r),s=o.name;n[s]=t.getAttribLocation(e,s)}return n}function oe(t){return""!==t}function se(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function ae(t){function e(t,e){var n=zu[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return ae(n)}var n=/^[ \t]*#include +<([\w\d.]+)>/gm;return t.replace(n,e)}function le(t){function e(t,e,n,i){for(var r="",o=parseInt(e);o<parseInt(n);o++)r+=i.replace(/\[ i \]/g,"[ "+o+" ]");return r}var n=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return t.replace(n,e)}function ue(t,e,n,i,r,o){var s=t.context,a=i.defines,l=r.vertexShader,u=r.fragmentShader,h="SHADOWMAP_TYPE_BASIC";o.shadowMapType===xo?h="SHADOWMAP_TYPE_PCF":o.shadowMapType===wo&&(h="SHADOWMAP_TYPE_PCF_SOFT");var c="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",d="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(i.envMap.mapping){case vs:case ys:c="ENVMAP_TYPE_CUBE";break;case xs:case ws:c="ENVMAP_TYPE_CUBE_UV";break;case _s:case As:c="ENVMAP_TYPE_EQUIREC";break;case bs:c="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case ys:case As:p="ENVMAP_MODE_REFRACTION"}switch(i.combine){case ls:d="ENVMAP_BLENDING_MULTIPLY";break;case us:d="ENVMAP_BLENDING_MIX";break;case hs:d="ENVMAP_BLENDING_ADD"}}var f,m,g=t.gammaFactor>0?t.gammaFactor:1,v=ne(i.extensions,o,e),y=ie(a),_=s.createProgram();i.isRawShaderMaterial?(f=[y].filter(oe).join("\n"),f.length>0&&(f+="\n"),m=[v,y].filter(oe).join("\n"),m.length>0&&(m+="\n")):(f=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+r.name,y,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+p:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&o.flatShading===!1?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+o.numClippingPlanes,o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&e.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif","\n"].filter(oe).join("\n"),
m=[v,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+r.name,y,o.alphaTest?"#define ALPHATEST "+o.alphaTest:"","#define GAMMA_FACTOR "+g,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+c:"",o.envMap?"#define "+p:"",o.envMap?"#define "+d:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+o.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(o.numClippingPlanes-o.numClipIntersection),o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&e.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&e.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==cs?"#define TONE_MAPPING":"",o.toneMapping!==cs?zu.tonemapping_pars_fragment:"",o.toneMapping!==cs?ee("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.envMapEncoding||o.emissiveMapEncoding?zu.encodings_pars_fragment:"",o.mapEncoding?$t("mapTexelToLinear",o.mapEncoding):"",o.envMapEncoding?$t("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?$t("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?te("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(oe).join("\n")),l=ae(l),l=se(l,o),u=ae(u),u=se(u,o),i.isShaderMaterial||(l=le(l),u=le(u));var A=f+l,b=m+u,x=Qt(s,s.VERTEX_SHADER,A),w=Qt(s,s.FRAGMENT_SHADER,b);s.attachShader(_,x),s.attachShader(_,w),void 0!==i.index0AttributeName?s.bindAttribLocation(_,0,i.index0AttributeName):o.morphTargets===!0&&s.bindAttribLocation(_,0,"position"),s.linkProgram(_);var T=s.getProgramInfoLog(_),E=s.getShaderInfoLog(x),S=s.getShaderInfoLog(w),M=!0,C=!0;s.getProgramParameter(_,s.LINK_STATUS)===!1?(M=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"gl.VALIDATE_STATUS",s.getProgramParameter(_,s.VALIDATE_STATUS),"gl.getProgramInfoLog",T,E,S)):""!==T?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",T):(""===E||""===S)&&(C=!1),C&&(this.diagnostics={runnable:M,material:i,programLog:T,vertexShader:{log:E,prefix:f},fragmentShader:{log:S,prefix:m}}),s.deleteShader(x),s.deleteShader(w);var P;this.getUniforms=function(){return void 0===P&&(P=new W(s,_,t)),P};var R;return this.getAttributes=function(){return void 0===R&&(R=re(s,_)),R},this.destroy=function(){s.deleteProgram(_),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Yu++,this.code=n,this.usedTimes=1,this.program=_,this.vertexShader=x,this.fragmentShader=w,this}function he(t,e,n){function i(t){var e=t.skeleton,i=e.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,o=Math.floor((r-20)/4),s=Math.min(o,i.length);return s<i.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+i.length+" bones. This GPU supports "+s+"."),0):s}function r(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=Aa,n===Aa&&e&&(n=xa),n}var o=[],s={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(e,o,a,l,u,h,c){var p=s[e.type],d=c.isSkinnedMesh?i(c):0,f=n.precision;null!==e.precision&&(f=n.getMaxPrecision(e.precision),f!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",f,"instead."));var m=t.getRenderTarget(),g={shaderID:p,precision:f,supportsVertexTextures:n.vertexTextures,outputEncoding:r(m?m.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:r(e.map,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:r(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===xs||e.envMap.mapping===ws),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:r(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexColors:e.vertexColors,fog:!!l,useFog:e.fog,fogExp:l&&l.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:e.skinning&&d>0,maxBones:d,useVertexTexture:n.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numClippingPlanes:u,numClipIntersection:h,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&c.receiveShadow&&a.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===So,flipSided:e.side===Eo,depthPacking:void 0!==e.depthPacking?e.depthPacking:!1};return g},this.getProgramCode=function(e,n){var i=[];if(n.shaderID?i.push(n.shaderID):(i.push(e.fragmentShader),i.push(e.vertexShader)),void 0!==e.defines)for(var r in e.defines)i.push(r),i.push(e.defines[r]);for(var o=0;o<a.length;o++)i.push(n[a[o]]);return i.push(e.onBeforeCompile.toString()),i.push(t.gammaOutput),i.join()},this.acquireProgram=function(n,i,r,s){for(var a,l=0,u=o.length;u>l;l++){var h=o[l];if(h.code===s){a=h,++a.usedTimes;break}}return void 0===a&&(a=new ue(t,e,s,n,i,r),o.push(a)),a},this.releaseProgram=function(t){if(0===--t.usedTimes){var e=o.indexOf(t);o[e]=o[o.length-1],o.pop(),t.destroy()}},this.programs=o}function ce(t,e,n,i,r,o,s){function a(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=Math.floor(t.width*n),i.height=Math.floor(t.height*n);var r=i.getContext("2d");return r.drawImage(t,0,0,t.width,t.height,0,0,i.width,i.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+i.width+"x"+i.height,t),i}return t}function l(t){return Ra.isPowerOfTwo(t.width)&&Ra.isPowerOfTwo(t.height)}function u(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageBitmap){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=Ra.floorPowerOfTwo(t.width),e.height=Ra.floorPowerOfTwo(t.height);var n=e.getContext("2d");return n.drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}function h(t){return t.wrapS!==Es||t.wrapT!==Es||t.minFilter!==Ms&&t.minFilter!==Rs}function c(t,e){return t.generateMipmaps&&e&&t.minFilter!==Ms&&t.minFilter!==Rs}function p(e){return e===Ms||e===Cs||e===Ps?t.NEAREST:t.LINEAR}function d(t){var e=t.target;e.removeEventListener("dispose",d),m(e),s.textures--}function f(t){var e=t.target;e.removeEventListener("dispose",f),g(e),s.textures--}function m(e){var n=i.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}i.remove(e)}function g(e){var n=i.get(e),r=i.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var o=0;6>o;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);i.remove(e.texture),i.remove(e)}}function v(e,r){var o=i.get(e);if(e.version>0&&o.__version!==e.version){var s=e.image;if(void 0===s)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(s.complete!==!1)return void b(o,e,r);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}n.activeTexture(t.TEXTURE0+r),n.bindTexture(t.TEXTURE_2D,o.__webglTexture)}function y(e,u){var h=i.get(e);if(6===e.image.length)if(e.version>0&&h.__version!==e.version){h.__image__webglTextureCube||(e.addEventListener("dispose",d),h.__image__webglTextureCube=t.createTexture(),s.textures++),n.activeTexture(t.TEXTURE0+u),n.bindTexture(t.TEXTURE_CUBE_MAP,h.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var p=e&&e.isCompressedTexture,f=e.image[0]&&e.image[0].isDataTexture,m=[],g=0;6>g;g++)m[g]=p||f?f?e.image[g].image:e.image[g]:a(e.image[g],r.maxCubemapSize);var v=m[0],y=l(v),_=o.convert(e.format),b=o.convert(e.type);A(t.TEXTURE_CUBE_MAP,e,y);for(var g=0;6>g;g++)if(p)for(var x,w=m[g].mipmaps,T=0,E=w.length;E>T;T++)x=w[T],e.format!==Xs&&e.format!==Ws?n.getCompressedTextureFormats().indexOf(_)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+g,T,_,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+g,T,_,x.width,x.height,0,_,b,x.data);else f?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,_,m[g].width,m[g].height,0,_,b,m[g].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,_,_,b,m[g]);c(e,y)&&t.generateMipmap(t.TEXTURE_CUBE_MAP),h.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+u),n.bindTexture(t.TEXTURE_CUBE_MAP,h.__image__webglTextureCube)}function _(e,r){n.activeTexture(t.TEXTURE0+r),n.bindTexture(t.TEXTURE_CUBE_MAP,i.get(e).__webglTexture)}function A(n,s,a){var l;if(a?(t.texParameteri(n,t.TEXTURE_WRAP_S,o.convert(s.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,o.convert(s.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,o.convert(s.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,o.convert(s.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(s.wrapS!==Es||s.wrapT!==Es)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",s),t.texParameteri(n,t.TEXTURE_MAG_FILTER,p(s.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,p(s.minFilter)),s.minFilter!==Ms&&s.minFilter!==Rs&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",s)),l=e.get("EXT_texture_filter_anisotropic")){if(s.type===Us&&null===e.get("OES_texture_float_linear"))return;if(s.type===Vs&&null===e.get("OES_texture_half_float_linear"))return;(s.anisotropy>1||i.get(s).__currentAnisotropy)&&(t.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(s.anisotropy,r.getMaxAnisotropy())),i.get(s).__currentAnisotropy=s.anisotropy)}}function b(e,i,p){void 0===e.__webglInit&&(e.__webglInit=!0,i.addEventListener("dispose",d),e.__webglTexture=t.createTexture(),s.textures++),n.activeTexture(t.TEXTURE0+p),n.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,i.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,i.unpackAlignment);var f=a(i.image,r.maxTextureSize);h(i)&&l(f)===!1&&(f=u(f));var m=l(f),g=o.convert(i.format),v=o.convert(i.type);A(t.TEXTURE_2D,i,m);var y,_=i.mipmaps;if(i.isDepthTexture){var b=t.DEPTH_COMPONENT;if(i.type===Us){if(!C)throw new Error("Float Depth Texture only supported in WebGL2.0");b=t.DEPTH_COMPONENT32F}else C&&(b=t.DEPTH_COMPONENT16);i.format===Qs&&b===t.DEPTH_COMPONENT&&i.type!==Ds&&i.type!==Bs&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Ds,v=o.convert(i.type)),i.format===Js&&(b=t.DEPTH_STENCIL,i.type!==js&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=js,v=o.convert(i.type))),n.texImage2D(t.TEXTURE_2D,0,b,f.width,f.height,0,g,v,null)}else if(i.isDataTexture)if(_.length>0&&m){for(var x=0,w=_.length;w>x;x++)y=_[x],n.texImage2D(t.TEXTURE_2D,x,g,y.width,y.height,0,g,v,y.data);i.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,g,f.width,f.height,0,g,v,f.data);else if(i.isCompressedTexture)for(var x=0,w=_.length;w>x;x++)y=_[x],i.format!==Xs&&i.format!==Ws?n.getCompressedTextureFormats().indexOf(g)>-1?n.compressedTexImage2D(t.TEXTURE_2D,x,g,y.width,y.height,0,y.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(t.TEXTURE_2D,x,g,y.width,y.height,0,g,v,y.data);else if(_.length>0&&m){for(var x=0,w=_.length;w>x;x++)y=_[x],n.texImage2D(t.TEXTURE_2D,x,g,g,v,y);i.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,g,g,v,f);c(i,m)&&t.generateMipmap(t.TEXTURE_2D),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function x(e,r,s,a){var l=o.convert(r.texture.format),u=o.convert(r.texture.type);n.texImage2D(a,0,l,r.width,r.height,0,l,u,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,s,a,i.get(r.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function w(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function T(e,n){var r=n&&n.isWebGLRenderTargetCube;if(r)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),v(n.depthTexture,0);var o=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Qs)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,o,0);else{if(n.depthTexture.format!==Js)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,o,0)}}function E(e){var n=i.get(e),r=e.isWebGLRenderTargetCube===!0;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");T(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(var o=0;6>o;o++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),w(n.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),w(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function S(e){var r=i.get(e),o=i.get(e.texture);e.addEventListener("dispose",f),o.__webglTexture=t.createTexture(),s.textures++;var a=e.isWebGLRenderTargetCube===!0,u=l(e);if(a){r.__webglFramebuffer=[];for(var h=0;6>h;h++)r.__webglFramebuffer[h]=t.createFramebuffer()}else r.__webglFramebuffer=t.createFramebuffer();if(a){n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),A(t.TEXTURE_CUBE_MAP,e.texture,u);for(var h=0;6>h;h++)x(r.__webglFramebuffer[h],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+h);c(e.texture,u)&&t.generateMipmap(t.TEXTURE_CUBE_MAP),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,o.__webglTexture),A(t.TEXTURE_2D,e.texture,u),x(r.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),c(e.texture,u)&&t.generateMipmap(t.TEXTURE_2D),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&E(e)}function M(e){var r=e.texture,o=l(e);if(c(r,o)){var s=e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=i.get(r).__webglTexture;n.bindTexture(s,a),t.generateMipmap(s),n.bindTexture(s,null)}}var C="undefined"!=typeof WebGL2RenderingContext&&t instanceof window.WebGL2RenderingContext;this.setTexture2D=v,this.setTextureCube=y,this.setTextureCubeDynamic=_,this.setupRenderTarget=S,this.updateRenderTargetMipmap=M}function pe(){function t(t){var e=t.uuid,n=i[e];return void 0===n&&(n={},i[e]=n),n}function e(t){delete i[t.uuid]}function n(){i={}}var i={};return{get:t,remove:e,clear:n}}function de(t,e,n){function i(){var e=!1,n=new l,i=null,r=new l(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,o,s,a){a===!0&&(e*=s,i*=s,o*=s),n.set(e,i,o,s),r.equals(n)===!1&&(t.clearColor(e,i,o,s),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}}function r(){var e=!1,n=null,i=null,r=null;return{setTest:function(e){e?p(t.DEPTH_TEST):d(t.DEPTH_TEST)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case ts:t.depthFunc(t.NEVER);break;case es:t.depthFunc(t.ALWAYS);break;case ns:t.depthFunc(t.LESS);break;case is:t.depthFunc(t.LEQUAL);break;case rs:t.depthFunc(t.EQUAL);break;case os:t.depthFunc(t.GEQUAL);break;case ss:t.depthFunc(t.GREATER);break;case as:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}}function o(){var e=!1,n=null,i=null,r=null,o=null,s=null,a=null,l=null,u=null;return{setTest:function(e){e?p(t.STENCIL_TEST):d(t.STENCIL_TEST)},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,s){(i!==e||r!==n||o!==s)&&(t.stencilFunc(e,n,s),i=e,r=n,o=s)},setOp:function(e,n,i){(s!==e||a!==n||l!==i)&&(t.stencilOp(e,n,i),s=e,a=n,l=i)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,i=null,r=null,o=null,s=null,a=null,l=null,u=null}}}function s(e,n,i){var r=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var s=0;i>s;s++)t.texImage2D(n+s,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,r);return o}function a(){for(var t=0,e=I.length;e>t;t++)I[t]=0}function u(n){if(I[n]=1,0===k[n]&&(t.enableVertexAttribArray(n),k[n]=1),0!==D[n]){var i=e.get("ANGLE_instanced_arrays");i.vertexAttribDivisorANGLE(n,0),D[n]=0}}function h(n,i){if(I[n]=1,0===k[n]&&(t.enableVertexAttribArray(n),k[n]=1),D[n]!==i){var r=e.get("ANGLE_instanced_arrays");r.vertexAttribDivisorANGLE(n,i),D[n]=i}}function c(){for(var e=0,n=k.length;e!==n;++e)k[e]!==I[e]&&(t.disableVertexAttribArray(e),k[e]=0)}function p(e){F[e]!==!0&&(t.enable(e),F[e]=!0)}function d(e){F[e]!==!1&&(t.disable(e),F[e]=!1)}function f(){if(null===B&&(B=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),i=0;i<n.length;i++)B.push(n[i]);return B}function m(e){return U!==e?(t.useProgram(e),U=e,!0):!1}function g(e,i,r,o,s,a,l,u){if(e!==Lo?p(t.BLEND):d(t.BLEND),e!==Fo){if(e!==V||u!==X)switch(e){case Io:u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE));break;case ko:u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR));break;case Do:u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR));break;default:u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA))}G=null,H=null,z=null,j=null,q=null,W=null}else s=s||i,a=a||r,l=l||o,(i!==G||s!==j)&&(t.blendEquationSeparate(n.convert(i),n.convert(s)),G=i,j=s),(r!==H||o!==z||a!==q||l!==W)&&(t.blendFuncSeparate(n.convert(r),n.convert(o),n.convert(a),n.convert(l)),H=r,z=o,q=a,W=l);V=e,X=u}function v(e){e.side===So?d(t.CULL_FACE):p(t.CULL_FACE),y(e.side===Eo),e.transparent===!0?g(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha):g(Lo),O.setFunc(e.depthFunc),O.setTest(e.depthTest),O.setMask(e.depthWrite),R.setMask(e.colorWrite),b(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function y(e){K!==e&&(t.frontFace(e?t.CW:t.CCW),K=e)}function _(e){e!==mo?(p(t.CULL_FACE),e!==Y&&t.cullFace(e===go?t.BACK:e===vo?t.FRONT:t.FRONT_AND_BACK)):d(t.CULL_FACE),Y=e}function A(e){e!==Z&&(et&&t.lineWidth(e),Z=e)}function b(e,n,i){e?(p(t.POLYGON_OFFSET_FILL),(Q!==n||J!==i)&&(t.polygonOffset(n,i),Q=n,J=i)):d(t.POLYGON_OFFSET_FILL)}function x(e){e?p(t.SCISSOR_TEST):d(t.SCISSOR_TEST)}function w(e){void 0===e&&(e=t.TEXTURE0+$-1),nt!==e&&(t.activeTexture(e),nt=e)}function T(e,n){null===nt&&w();var i=it[nt];void 0===i&&(i={type:void 0,texture:void 0},it[nt]=i),(i.type!==e||i.texture!==n)&&(t.bindTexture(e,n||st[e]),i.type=e,i.texture=n)}function E(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function S(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function M(e){rt.equals(e)===!1&&(t.scissor(e.x,e.y,e.z,e.w),rt.copy(e))}function C(e){ot.equals(e)===!1&&(t.viewport(e.x,e.y,e.z,e.w),ot.copy(e))}function P(){for(var e=0;e<k.length;e++)1===k[e]&&(t.disableVertexAttribArray(e),k[e]=0);F={},B=null,nt=null,it={},U=null,V=null,K=null,Y=null,R.reset(),O.reset(),L.reset()}var R=new i,O=new r,L=new o,N=t.getParameter(t.MAX_VERTEX_ATTRIBS),I=new Uint8Array(N),k=new Uint8Array(N),D=new Uint8Array(N),F={},B=null,U=null,V=null,G=null,H=null,z=null,j=null,q=null,W=null,X=!1,K=null,Y=null,Z=null,Q=null,J=null,$=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),tt=parseFloat(/^WebGL\ ([0-9])/.exec(t.getParameter(t.VERSION))[1]),et=parseFloat(tt)>=1,nt=null,it={},rt=new l,ot=new l,st={};return st[t.TEXTURE_2D]=s(t.TEXTURE_2D,t.TEXTURE_2D,1),st[t.TEXTURE_CUBE_MAP]=s(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),R.setClear(0,0,0,1),O.setClear(1),L.setClear(0),p(t.DEPTH_TEST),O.setFunc(is),y(!1),_(go),p(t.CULL_FACE),p(t.BLEND),g(No),{buffers:{color:R,depth:O,stencil:L},initAttributes:a,enableAttribute:u,enableAttributeAndDivisor:h,disableUnusedAttributes:c,enable:p,disable:d,getCompressedTextureFormats:f,useProgram:m,setBlending:g,setMaterial:v,setFlipSided:y,setCullFace:_,setLineWidth:A,setPolygonOffset:b,setScissorTest:x,activeTexture:w,bindTexture:T,compressedTexImage2D:E,texImage2D:S,scissor:M,viewport:C,reset:P}}function fe(t,e,n){function i(){if(void 0!==o)return o;var n=e.get("EXT_texture_filter_anisotropic");return o=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o,s=void 0!==n.precision?n.precision:"highp",a=r(s);a!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",a,"instead."),s=a);var l=n.logarithmicDepthBuffer===!0,u=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),c=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),d=t.getParameter(t.MAX_VERTEX_ATTRIBS),f=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),g=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),v=h>0,y=!!e.get("OES_texture_float"),_=v&&y;return{getMaxAnisotropy:i,getMaxPrecision:r,precision:s,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:h,maxTextureSize:c,maxCubemapSize:p,maxAttributes:d,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:_}}function me(t,e,n,i){ht.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function ge(t){me.call(this),this.cameras=t||[]}function ve(t){function e(){if(null!==r&&r.isPresenting){var e=r.getEyeParameters("left"),i=e.renderWidth,o=e.renderHeight;f=t.getPixelRatio(),d=t.getSize(),t.setDrawingBufferSize(2*i,o,1)}else n.enabled&&t.setDrawingBufferSize(d.width,d.height,f)}var n=this,r=null,o=null;"undefined"!=typeof window&&"VRFrameData"in window&&(o=new window.VRFrameData);var s=new i,a=new i,u=new i,h=new me;h.bounds=new l(0,0,.5,1),h.layers.enable(1);var c=new me;c.bounds=new l(.5,0,.5,1),c.layers.enable(2);var p=new ge([h,c]);p.layers.enable(1),p.layers.enable(2);var d,f;"undefined"!=typeof window&&window.addEventListener("vrdisplaypresentchange",e,!1),this.enabled=!1,this.standing=!1,this.getDevice=function(){return r},this.setDevice=function(t){void 0!==t&&(r=t)},this.getCamera=function(t){if(null===r)return t;r.depthNear=t.near,r.depthFar=t.far,r.getFrameData(o);var e=o.pose;null!==e.position?t.position.fromArray(e.position):t.position.set(0,0,0),null!==e.orientation&&t.quaternion.fromArray(e.orientation),t.updateMatrixWorld();var n=r.stageParameters;if(this.standing&&n&&(a.fromArray(n.sittingToStandingTransform),u.getInverse(a),t.matrixWorld.multiply(a),t.matrixWorldInverse.multiply(u)),r.isPresenting===!1)return t;h.near=t.near,c.near=t.near,h.far=t.far,c.far=t.far,p.matrixWorld.copy(t.matrixWorld),p.matrixWorldInverse.copy(t.matrixWorldInverse),h.matrixWorldInverse.fromArray(o.leftViewMatrix),c.matrixWorldInverse.fromArray(o.rightViewMatrix),this.standing&&n&&(h.matrixWorldInverse.multiply(u),c.matrixWorldInverse.multiply(u));var i=t.parent;null!==i&&(s.getInverse(i.matrixWorld),h.matrixWorldInverse.multiply(s),c.matrixWorldInverse.multiply(s)),h.matrixWorld.getInverse(h.matrixWorldInverse),c.matrixWorld.getInverse(c.matrixWorldInverse),h.projectionMatrix.fromArray(o.leftProjectionMatrix),c.projectionMatrix.fromArray(o.rightProjectionMatrix),p.projectionMatrix.copy(h.projectionMatrix);var l=r.getLayers();if(l.length){var d=l[0];null!==d.leftBounds&&4===d.leftBounds.length&&h.bounds.fromArray(d.leftBounds),null!==d.rightBounds&&4===d.rightBounds.length&&c.bounds.fromArray(d.rightBounds)}return p},this.getStandingMatrix=function(){return a},this.submitFrame=function(){r&&r.isPresenting&&r.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",e)}}function ye(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":i=t.getExtension("WEBGL_compressed_texture_etc1");break;default:i=t.getExtension(n)}return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=i,i}}}function _e(){function t(){h.value!==i&&(h.value=i,h.needsUpdate=r>0),n.numPlanes=r,n.numIntersection=0}function e(t,e,i,r){var o=null!==t?t.length:0,s=null;if(0!==o){if(s=h.value,r!==!0||null===s){var a=i+4*o,c=e.matrixWorldInverse;u.getNormalMatrix(c),(null===s||s.length<a)&&(s=new Float32Array(a));for(var p=0,d=i;p!==o;++p,d+=4)l.copy(t[p]).applyMatrix4(c,u),l.normal.toArray(s,d),s[d+3]=l.constant}h.value=s,h.needsUpdate=!0}return n.numPlanes=o,s}var n=this,i=null,r=0,o=!1,a=!1,l=new it,u=new s,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,s){var a=0!==t.length||n||0!==r||o;return o=n,i=e(t,s,0),r=t.length,a},this.beginShadows=function(){a=!0,e(null)},this.endShadows=function(){a=!1,t()},this.setState=function(n,s,l,u,c,p){if(!o||null===n||0===n.length||a&&!l)a?e(null):t();else{var d=a?0:r,f=4*d,m=c.clippingState||null;h.value=m,m=e(n,u,f,p);for(var g=0;g!==f;++g)m[g]=i[g];c.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=d}}}function Ae(t,e){function n(n){var i;if(n===Ts)return t.REPEAT;if(n===Es)return t.CLAMP_TO_EDGE;if(n===Ss)return t.MIRRORED_REPEAT;if(n===Ms)return t.NEAREST;if(n===Cs)return t.NEAREST_MIPMAP_NEAREST;if(n===Ps)return t.NEAREST_MIPMAP_LINEAR;if(n===Rs)return t.LINEAR;if(n===Os)return t.LINEAR_MIPMAP_NEAREST;if(n===Ls)return t.LINEAR_MIPMAP_LINEAR;if(n===Ns)return t.UNSIGNED_BYTE;if(n===Gs)return t.UNSIGNED_SHORT_4_4_4_4;if(n===Hs)return t.UNSIGNED_SHORT_5_5_5_1;if(n===zs)return t.UNSIGNED_SHORT_5_6_5;if(n===Is)return t.BYTE;if(n===ks)return t.SHORT;if(n===Ds)return t.UNSIGNED_SHORT;if(n===Fs)return t.INT;if(n===Bs)return t.UNSIGNED_INT;if(n===Us)return t.FLOAT;if(n===Vs&&(i=e.get("OES_texture_half_float"),null!==i))return i.HALF_FLOAT_OES;

if(n===qs)return t.ALPHA;if(n===Ws)return t.RGB;if(n===Xs)return t.RGBA;if(n===Ks)return t.LUMINANCE;if(n===Ys)return t.LUMINANCE_ALPHA;if(n===Qs)return t.DEPTH_COMPONENT;if(n===Js)return t.DEPTH_STENCIL;if(n===Bo)return t.FUNC_ADD;if(n===Uo)return t.FUNC_SUBTRACT;if(n===Vo)return t.FUNC_REVERSE_SUBTRACT;if(n===zo)return t.ZERO;if(n===jo)return t.ONE;if(n===qo)return t.SRC_COLOR;if(n===Wo)return t.ONE_MINUS_SRC_COLOR;if(n===Xo)return t.SRC_ALPHA;if(n===Ko)return t.ONE_MINUS_SRC_ALPHA;if(n===Yo)return t.DST_ALPHA;if(n===Zo)return t.ONE_MINUS_DST_ALPHA;if(n===Qo)return t.DST_COLOR;if(n===Jo)return t.ONE_MINUS_DST_COLOR;if(n===$o)return t.SRC_ALPHA_SATURATE;if((n===$s||n===ta||n===ea||n===na)&&(i=e.get("WEBGL_compressed_texture_s3tc"),null!==i)){if(n===$s)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===ta)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===ea)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===na)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((n===ia||n===ra||n===oa||n===sa)&&(i=e.get("WEBGL_compressed_texture_pvrtc"),null!==i)){if(n===ia)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===ra)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===oa)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===sa)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===aa&&(i=e.get("WEBGL_compressed_texture_etc1"),null!==i))return i.COMPRESSED_RGB_ETC1_WEBGL;if((n===Go||n===Ho)&&(i=e.get("EXT_blend_minmax"),null!==i)){if(n===Go)return i.MIN_EXT;if(n===Ho)return i.MAX_EXT}return n===js&&(i=e.get("WEBGL_depth_texture"),null!==i)?i.UNSIGNED_INT_24_8_WEBGL:0}return{convert:n}}function be(t){function e(){return null===tt?mt:1}function n(){Rt=new ye(Mt),Rt.get("WEBGL_depth_texture"),Rt.get("OES_texture_float"),Rt.get("OES_texture_float_linear"),Rt.get("OES_texture_half_float"),Rt.get("OES_texture_half_float_linear"),Rt.get("OES_standard_derivatives"),Rt.get("OES_element_index_uint"),Rt.get("ANGLE_instanced_arrays"),ee=new Ae(Mt,Rt),Ot=new fe(Mt,Rt,t),Lt=new de(Mt,Rt,ee),Lt.scissor(ht.copy(vt).multiplyScalar(mt)),Lt.viewport(ut.copy(gt).multiplyScalar(mt)),Nt=new pe,It=new ce(Mt,Rt,Lt,Nt,Ot,ee,Et),kt=new st(Mt),Dt=new Wt(Mt,kt,Et),Bt=new Yt(Dt,St),Zt=new zt(Mt),Vt=new he(J,Rt,Ot),Ut=new Kt,Ht=new Gt,Xt=new Ft(J,Lt,Dt,H),Qt=new qt(Mt,Rt,St),Jt=new jt(Mt,Rt,St),$t=new Y(J,Mt,Lt,It,Ot),te=new Q(J,Mt,Lt,It,Ot),J.info.programs=Vt.programs,J.context=Mt,J.capabilities=Ot,J.extensions=Rt,J.properties=Nt,J.renderLists=Ht,J.state=Lt}function r(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),$=!0}function s(){console.log("THREE.WebGLRenderer: Context Restored."),$=!1,n()}function a(t){var e=t.target;e.removeEventListener("dispose",a),u(e)}function u(t){h(t),Nt.remove(t)}function h(t){var e=Nt.get(t).program;t.program=void 0,void 0!==e&&Vt.releaseProgram(e)}function p(t,e,n){t.render(function(t){J.renderBufferImmediate(t,e,n)})}function d(t,e,n,i){if(n&&n.isInstancedBufferGeometry&&null===Rt.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===i&&(i=0),Lt.initAttributes();var r=n.attributes,o=e.getAttributes(),s=t.defaultAttributeValues;for(var a in o){var l=o[a];if(l>=0){var u=r[a];if(void 0!==u){var h=u.normalized,c=u.itemSize,p=kt.get(u);if(void 0===p)continue;var d=p.buffer,f=p.type,m=p.bytesPerElement;if(u.isInterleavedBufferAttribute){var g=u.data,v=g.stride,y=u.offset;g&&g.isInstancedInterleavedBuffer?(Lt.enableAttributeAndDivisor(l,g.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):Lt.enableAttribute(l),Mt.bindBuffer(Mt.ARRAY_BUFFER,d),Mt.vertexAttribPointer(l,c,f,h,v*m,(i*v+y)*m)}else u.isInstancedBufferAttribute?(Lt.enableAttributeAndDivisor(l,u.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=u.meshPerAttribute*u.count)):Lt.enableAttribute(l),Mt.bindBuffer(Mt.ARRAY_BUFFER,d),Mt.vertexAttribPointer(l,c,f,h,0,i*c*m)}else if(void 0!==s){var _=s[a];if(void 0!==_)switch(_.length){case 2:Mt.vertexAttrib2fv(l,_);break;case 3:Mt.vertexAttrib3fv(l,_);break;case 4:Mt.vertexAttrib4fv(l,_);break;default:Mt.vertexAttrib1fv(l,_)}}}}Lt.disableUnusedAttributes()}function f(){if(!re){var t=ne.getDevice();t&&t.isPresenting?t.requestAnimationFrame(m):window.requestAnimationFrame(m),re=!0}}function m(t){null!==oe&&oe(t);var e=ne.getDevice();e&&e.isPresenting?e.requestAnimationFrame(m):window.requestAnimationFrame(m)}function g(t,e,n){if(t.visible!==!1){var i=t.layers.test(e.layers);if(i)if(t.isLight)j.push(t),t.castShadow&&q.push(t);else if(t.isSprite)(!t.frustumCulled||_t.intersectsSprite(t))&&K.push(t);else if(t.isLensFlare)Z.push(t);else if(t.isImmediateRenderObject)n&&Tt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(wt),X.push(t,null,t.material,Tt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||_t.intersectsObject(t))){n&&Tt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(wt);var r=Bt.update(t),o=t.material;if(Array.isArray(o))for(var s=r.groups,a=0,l=s.length;l>a;a++){var u=s[a],h=o[u.materialIndex];h&&h.visible&&X.push(t,r,h,Tt.z,u)}else o.visible&&X.push(t,r,o,Tt.z,null)}for(var c=t.children,a=0,l=c.length;l>a;a++)g(c[a],e,n)}}function v(t,e,n,i){for(var r=0,o=t.length;o>r;r++){var s=t[r],a=s.object,l=s.geometry,u=void 0===i?s.material:i,h=s.group;if(n.isArrayCamera){lt=n;for(var c=n.cameras,p=0,d=c.length;d>p;p++){var f=c[p];if(a.layers.test(f.layers)){var m=f.bounds,g=m.x*dt,v=m.y*ft,_=m.z*dt,A=m.w*ft;Lt.viewport(ut.set(g,v,_,A).multiplyScalar(mt)),y(a,e,f,l,u,h)}}}else lt=null,y(a,e,n,l,u,h)}}function y(t,e,n,i,r,o){if(t.onBeforeRender(J,e,n,i,r,o),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){Lt.setMaterial(r);var s=A(n,e.fog,r,t);it="",p(t,s,r)}else J.renderBufferDirect(n,e.fog,i,r,t,o);t.onAfterRender(J,e,n,i,r,o)}function _(t,e,n){var i=Nt.get(t),r=Vt.getParameters(t,Ut.state,q,e,At.numPlanes,At.numIntersection,n),o=Vt.getProgramCode(t,r),s=i.program,l=!0;if(void 0===s)t.addEventListener("dispose",a);else if(s.code!==o)h(t);else{if(void 0!==r.shaderID)return;l=!1}if(l){if(r.shaderID){var u=ju[r.shaderID];i.shader={name:t.type,uniforms:Ga.clone(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}}else i.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(i.shader),s=Vt.acquireProgram(t,i.shader,r,o),i.program=s,t.program=s}var c=s.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var p=0;p<J.maxMorphTargets;p++)c["morphTarget"+p]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var p=0;p<J.maxMorphNormals;p++)c["morphNormal"+p]>=0&&t.numSupportedMorphNormals++}var d=i.shader.uniforms;(!t.isShaderMaterial&&!t.isRawShaderMaterial||t.clipping===!0)&&(i.numClippingPlanes=At.numPlanes,i.numIntersection=At.numIntersection,d.clippingPlanes=At.uniform),i.fog=e,i.lightsHash=Ut.state.hash,t.lights&&(d.ambientLightColor.value=Ut.state.ambient,d.directionalLights.value=Ut.state.directional,d.spotLights.value=Ut.state.spot,d.rectAreaLights.value=Ut.state.rectArea,d.pointLights.value=Ut.state.point,d.hemisphereLights.value=Ut.state.hemi,d.directionalShadowMap.value=Ut.state.directionalShadowMap,d.directionalShadowMatrix.value=Ut.state.directionalShadowMatrix,d.spotShadowMap.value=Ut.state.spotShadowMap,d.spotShadowMatrix.value=Ut.state.spotShadowMatrix,d.pointShadowMap.value=Ut.state.pointShadowMap,d.pointShadowMatrix.value=Ut.state.pointShadowMatrix);var f=i.program.getUniforms(),m=W.seqWithValue(f.seq,d);i.uniformsList=m}function A(t,e,n,i){pt=0;var r=Nt.get(n);if(bt&&(xt||t!==at)){var o=t===at&&n.id===nt;At.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,r,o)}n.needsUpdate===!1&&(void 0===r.program?n.needsUpdate=!0:n.fog&&r.fog!==e?n.needsUpdate=!0:n.lights&&r.lightsHash!==Ut.state.hash?n.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===At.numPlanes&&r.numIntersection===At.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(_(n,e,i),n.needsUpdate=!1);var s=!1,a=!1,l=!1,u=r.program,h=u.getUniforms(),p=r.shader.uniforms;if(Lt.useProgram(u.program)&&(s=!0,a=!0,l=!0),n.id!==nt&&(nt=n.id,a=!0),s||t!==at){if(h.setValue(Mt,"projectionMatrix",t.projectionMatrix),Ot.logarithmicDepthBuffer&&h.setValue(Mt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),at!==(lt||t)&&(at=lt||t,a=!0,l=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var d=h.map.cameraPosition;void 0!==d&&d.setValue(Mt,Tt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&h.setValue(Mt,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){h.setOptional(Mt,i,"bindMatrix"),h.setOptional(Mt,i,"bindMatrixInverse");var f=i.skeleton;if(f){var m=f.bones;if(Ot.floatVertexTextures){if(void 0===f.boneTexture){var g=Math.sqrt(4*m.length);g=Ra.ceilPowerOfTwo(g),g=Math.max(g,4);var v=new Float32Array(g*g*4);v.set(f.boneMatrices);var y=new c(v,g,g,Xs,Us);f.boneMatrices=v,f.boneTexture=y,f.boneTextureSize=g}h.setValue(Mt,"boneTexture",f.boneTexture),h.setValue(Mt,"boneTextureSize",f.boneTextureSize)}else h.setOptional(Mt,f,"boneMatrices")}}return a&&(h.setValue(Mt,"toneMappingExposure",J.toneMappingExposure),h.setValue(Mt,"toneMappingWhitePoint",J.toneMappingWhitePoint),n.lights&&I(p,l),e&&n.fog&&E(p,e),n.isMeshBasicMaterial?b(p,n):n.isMeshLambertMaterial?(b(p,n),S(p,n)):n.isMeshPhongMaterial?(b(p,n),n.isMeshToonMaterial?C(p,n):M(p,n)):n.isMeshStandardMaterial?(b(p,n),n.isMeshPhysicalMaterial?R(p,n):P(p,n)):n.isMeshDepthMaterial?(b(p,n),O(p,n)):n.isMeshDistanceMaterial?(b(p,n),L(p,n)):n.isMeshNormalMaterial?(b(p,n),N(p,n)):n.isLineBasicMaterial?(x(p,n),n.isLineDashedMaterial&&w(p,n)):n.isPointsMaterial?T(p,n):n.isShadowMaterial&&(p.color.value=n.color,p.opacity.value=n.opacity),void 0!==p.ltcMat&&(p.ltcMat.value=Va.LTC_MAT_TEXTURE),void 0!==p.ltcMag&&(p.ltcMag.value=Va.LTC_MAG_TEXTURE),W.upload(Mt,r.uniformsList,p,J)),h.setValue(Mt,"modelViewMatrix",i.modelViewMatrix),h.setValue(Mt,"normalMatrix",i.normalMatrix),h.setValue(Mt,"modelMatrix",i.matrixWorld),u}function b(t,e){t.opacity.value=e.opacity,e.color&&(t.diffuse.value=e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;if(e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n){if(n.isWebGLRenderTarget&&(n=n.texture),n.matrixAutoUpdate===!0){var i=n.offset,r=n.repeat,o=n.rotation,s=n.center;n.matrix.setUvTransform(i.x,i.y,r.x,r.y,o,s.x,s.y)}t.uvTransform.value.copy(n.matrix)}}function x(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function w(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function T(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*mt,t.scale.value=.5*ft,t.map.value=e.map,null!==e.map){if(e.map.matrixAutoUpdate===!0){var n=e.map.offset,i=e.map.repeat,r=e.map.rotation,o=e.map.center;e.map.matrix.setUvTransform(n.x,n.y,i.x,i.y,r,o.x,o.y)}t.uvTransform.value.copy(e.map.matrix)}}function E(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function S(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function M(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function C(t,e){M(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function P(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function R(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,P(t,e)}function O(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function L(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}function N(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function I(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function k(){var t=pt;return t>=Ot.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+t+" texture units while this GPU supports only "+Ot.maxTextures),pt+=1,t}console.log("THREE.WebGLRenderer",po),t=t||{};var D=void 0!==t.canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),F=void 0!==t.context?t.context:null,B=void 0!==t.alpha?t.alpha:!1,U=void 0!==t.depth?t.depth:!0,V=void 0!==t.stencil?t.stencil:!0,G=void 0!==t.antialias?t.antialias:!1,H=void 0!==t.premultipliedAlpha?t.premultipliedAlpha:!0,z=void 0!==t.preserveDrawingBuffer?t.preserveDrawingBuffer:!1,j=[],q=[],X=null,K=[],Z=[];this.domElement=D,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=ps,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var J=this,$=!1,tt=null,et=null,nt=-1,it="",at=null,lt=null,ut=new l,ht=new l,ct=null,pt=0,dt=D.width,ft=D.height,mt=1,gt=new l(0,0,dt,ft),vt=new l(0,0,dt,ft),yt=!1,_t=new rt,At=new _e,bt=!1,xt=!1,wt=new i,Tt=new o,Et={geometries:0,textures:0},St={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:St,memory:Et,programs:null};var Mt;try{var Ct={alpha:B,depth:U,stencil:V,antialias:G,premultipliedAlpha:H,preserveDrawingBuffer:z};if(Mt=F||D.getContext("webgl",Ct)||D.getContext("experimental-webgl",Ct),null===Mt)throw null!==D.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===Mt.getShaderPrecisionFormat&&(Mt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),D.addEventListener("webglcontextlost",r,!1),D.addEventListener("webglcontextrestored",s,!1)}catch(Pt){console.error("THREE.WebGLRenderer: "+Pt)}var Rt,Ot,Lt,Nt,It,kt,Dt,Bt,Ut,Vt,Ht,Xt,Zt,Qt,Jt,$t,te,ee;n();var ne=new ve(J);this.vr=ne;var ie=new ot(J,Bt,Ot.maxTextureSize);this.shadowMap=ie,this.getContext=function(){return Mt},this.getContextAttributes=function(){return Mt.getContextAttributes()},this.forceContextLoss=function(){var t=Rt.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=Rt.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return mt},this.setPixelRatio=function(t){void 0!==t&&(mt=t,this.setSize(dt,ft,!1))},this.getSize=function(){return{width:dt,height:ft}},this.setSize=function(t,e,n){var i=ne.getDevice();return i&&i.isPresenting?void console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(dt=t,ft=e,D.width=t*mt,D.height=e*mt,n!==!1&&(D.style.width=t+"px",D.style.height=e+"px"),void this.setViewport(0,0,t,e))},this.getDrawingBufferSize=function(){return{width:dt*mt,height:ft*mt}},this.setDrawingBufferSize=function(t,e,n){dt=t,ft=e,mt=n,D.width=t*n,D.height=e*n,this.setViewport(0,0,t,e)},this.setViewport=function(t,e,n,i){gt.set(t,ft-e-i,n,i),Lt.viewport(ut.copy(gt).multiplyScalar(mt))},this.setScissor=function(t,e,n,i){vt.set(t,ft-e-i,n,i),Lt.scissor(ht.copy(vt).multiplyScalar(mt))},this.setScissorTest=function(t){Lt.setScissorTest(yt=t)},this.getClearColor=function(){return Xt.getClearColor()},this.setClearColor=function(){Xt.setClearColor.apply(Xt,arguments)},this.getClearAlpha=function(){return Xt.getClearAlpha()},this.setClearAlpha=function(){Xt.setClearAlpha.apply(Xt,arguments)},this.clear=function(t,e,n){var i=0;(void 0===t||t)&&(i|=Mt.COLOR_BUFFER_BIT),(void 0===e||e)&&(i|=Mt.DEPTH_BUFFER_BIT),(void 0===n||n)&&(i|=Mt.STENCIL_BUFFER_BIT),Mt.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,i){this.setRenderTarget(t),this.clear(e,n,i)},this.dispose=function(){D.removeEventListener("webglcontextlost",r,!1),D.removeEventListener("webglcontextrestored",s,!1),Ht.dispose(),ne.dispose()},this.renderBufferImmediate=function(t,e,n){Lt.initAttributes();var i=Nt.get(t);t.hasPositions&&!i.position&&(i.position=Mt.createBuffer()),t.hasNormals&&!i.normal&&(i.normal=Mt.createBuffer()),t.hasUvs&&!i.uv&&(i.uv=Mt.createBuffer()),t.hasColors&&!i.color&&(i.color=Mt.createBuffer());var r=e.getAttributes();if(t.hasPositions&&(Mt.bindBuffer(Mt.ARRAY_BUFFER,i.position),Mt.bufferData(Mt.ARRAY_BUFFER,t.positionArray,Mt.DYNAMIC_DRAW),Lt.enableAttribute(r.position),Mt.vertexAttribPointer(r.position,3,Mt.FLOAT,!1,0,0)),t.hasNormals){if(Mt.bindBuffer(Mt.ARRAY_BUFFER,i.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.flatShading===!0)for(var o=0,s=3*t.count;s>o;o+=9){var a=t.normalArray,l=(a[o+0]+a[o+3]+a[o+6])/3,u=(a[o+1]+a[o+4]+a[o+7])/3,h=(a[o+2]+a[o+5]+a[o+8])/3;a[o+0]=l,a[o+1]=u,a[o+2]=h,a[o+3]=l,a[o+4]=u,a[o+5]=h,a[o+6]=l,a[o+7]=u,a[o+8]=h}Mt.bufferData(Mt.ARRAY_BUFFER,t.normalArray,Mt.DYNAMIC_DRAW),Lt.enableAttribute(r.normal),Mt.vertexAttribPointer(r.normal,3,Mt.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(Mt.bindBuffer(Mt.ARRAY_BUFFER,i.uv),Mt.bufferData(Mt.ARRAY_BUFFER,t.uvArray,Mt.DYNAMIC_DRAW),Lt.enableAttribute(r.uv),Mt.vertexAttribPointer(r.uv,2,Mt.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==Po&&(Mt.bindBuffer(Mt.ARRAY_BUFFER,i.color),Mt.bufferData(Mt.ARRAY_BUFFER,t.colorArray,Mt.DYNAMIC_DRAW),Lt.enableAttribute(r.color),Mt.vertexAttribPointer(r.color,3,Mt.FLOAT,!1,0,0)),Lt.disableUnusedAttributes(),Mt.drawArrays(Mt.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,n,i,r,o,s){Lt.setMaterial(r);var a=A(t,n,r,o),l=i.id+"_"+a.id+"_"+(r.wireframe===!0),u=!1;l!==it&&(it=l,u=!0),o.morphTargetInfluences&&(Zt.update(o,i,r,a),u=!0);var h=i.index,c=i.attributes.position,p=1;r.wireframe===!0&&(h=Dt.getWireframeAttribute(i),p=2);var f,m=Qt;null!==h&&(f=kt.get(h),m=Jt,m.setIndex(f)),u&&(d(r,a,i),null!==h&&Mt.bindBuffer(Mt.ELEMENT_ARRAY_BUFFER,f.buffer));var g=0;null!==h?g=h.count:void 0!==c&&(g=c.count);var v=i.drawRange.start*p,y=i.drawRange.count*p,_=null!==s?s.start*p:0,b=null!==s?s.count*p:1/0,x=Math.max(v,_),w=Math.min(g,v+y,_+b)-1,T=Math.max(0,w-x+1);if(0!==T){if(o.isMesh)if(r.wireframe===!0)Lt.setLineWidth(r.wireframeLinewidth*e()),m.setMode(Mt.LINES);else switch(o.drawMode){case va:m.setMode(Mt.TRIANGLES);break;case ya:m.setMode(Mt.TRIANGLE_STRIP);break;case _a:m.setMode(Mt.TRIANGLE_FAN)}else if(o.isLine){var E=r.linewidth;void 0===E&&(E=1),Lt.setLineWidth(E*e()),m.setMode(o.isLineSegments?Mt.LINES:o.isLineLoop?Mt.LINE_LOOP:Mt.LINE_STRIP)}else o.isPoints&&m.setMode(Mt.POINTS);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&m.renderInstances(i,x,T):m.render(x,T)}},this.compile=function(t,e){j.length=0,q.length=0,t.traverse(function(t){t.isLight&&(j.push(t),t.castShadow&&q.push(t))}),Ut.setup(j,q,e),t.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)_(e.material[n],t.fog,e);else _(e.material,t.fog,e)})};var re=!1,oe=null;this.animate=function(t){oe=t,f()},this.render=function(t,e,n,i){if(!e||!e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!$){it="",nt=-1,at=null,t.autoUpdate===!0&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),ne.enabled&&(e=ne.getCamera(e)),wt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),_t.setFromMatrix(wt),j.length=0,q.length=0,K.length=0,Z.length=0,xt=this.localClippingEnabled,bt=At.init(this.clippingPlanes,xt,e),X=Ht.get(t,e),X.init(),g(t,e,J.sortObjects),J.sortObjects===!0&&X.sort(),bt&&At.beginShadows(),ie.render(q,t,e),Ut.setup(j,q,e),bt&&At.endShadows(),St.frame++,St.calls=0,St.vertices=0,St.faces=0,St.points=0,void 0===n&&(n=null),this.setRenderTarget(n),Xt.render(X,t,e,i);var r=X.opaque,o=X.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;r.length&&v(r,t,e,s),o.length&&v(o,t,e,s)}else r.length&&v(r,t,e),o.length&&v(o,t,e);te.render(K,t,e),$t.render(Z,t,e,ut),n&&It.updateRenderTargetMipmap(n),Lt.buffers.depth.setTest(!0),Lt.buffers.depth.setMask(!0),Lt.buffers.color.setMask(!0),Lt.setPolygonOffset(!1),ne.enabled&&ne.submitFrame()}},this.setFaceCulling=function(t,e){Lt.setCullFace(t),Lt.setFlipSided(e===_o)},this.allocTextureUnit=k,this.setTexture2D=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),It.setTexture2D(e,n)}}(),this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),It.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?It.setTextureCube(e,n):It.setTextureCubeDynamic(e,n)}}(),this.getRenderTarget=function(){return tt},this.setRenderTarget=function(t){tt=t,t&&void 0===Nt.get(t).__webglFramebuffer&&It.setupRenderTarget(t);var e=null,n=!1;if(t){var i=Nt.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(e=i[t.activeCubeFace],n=!0):e=i,ut.copy(t.viewport),ht.copy(t.scissor),ct=t.scissorTest}else ut.copy(gt).multiplyScalar(mt),ht.copy(vt).multiplyScalar(mt),ct=yt;if(et!==e&&(Mt.bindFramebuffer(Mt.FRAMEBUFFER,e),et=e),Lt.viewport(ut),Lt.scissor(ht),Lt.setScissorTest(ct),n){var r=Nt.get(t.texture);Mt.framebufferTexture2D(Mt.FRAMEBUFFER,Mt.COLOR_ATTACHMENT0,Mt.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,r.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,i,r,o){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var s=Nt.get(t).__webglFramebuffer;if(s){var a=!1;s!==et&&(Mt.bindFramebuffer(Mt.FRAMEBUFFER,s),a=!0);try{var l=t.texture,u=l.format,h=l.type;if(u!==Xs&&ee.convert(u)!==Mt.getParameter(Mt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(h===Ns||ee.convert(h)===Mt.getParameter(Mt.IMPLEMENTATION_COLOR_READ_TYPE)||h===Us&&(Rt.get("OES_texture_float")||Rt.get("WEBGL_color_buffer_float"))||h===Vs&&Rt.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Mt.checkFramebufferStatus(Mt.FRAMEBUFFER)===Mt.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&Mt.readPixels(e,n,i,r,ee.convert(u),ee.convert(h),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{a&&Mt.bindFramebuffer(Mt.FRAMEBUFFER,et)}}}}function xe(t,e){this.name="",this.color=new X(t),this.density=void 0!==e?e:25e-5}function we(t,e,n){this.name="",this.color=new X(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function Te(){ut.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Ee(t,e,n,i,r){ut.call(this),this.lensFlares=[],this.positionScreen=new o,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,n,i,r)}function Se(t){J.call(this),this.type="SpriteMaterial",this.color=new X(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Me(t){ut.call(this),this.type="Sprite",this.material=void 0!==t?t:new Se}function Ce(){ut.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Pe(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;r>n;n++)this.boneInverses.push(new i)}}function Re(){ut.call(this),this.type="Bone"}function Oe(t,e){Dt.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new i,this.bindMatrixInverse=new i;var n=this.initBones(),r=new Pe(n);this.bind(r,this.matrixWorld),this.normalizeSkinWeights()}function Le(t){J.call(this),this.type="LineBasicMaterial",this.color=new X(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Ne(t,e,n){return 1===n?(console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new Ie(t,e)):(ut.call(this),this.type="Line",this.geometry=void 0!==t?t:new St,void(this.material=void 0!==e?e:new Le({color:16777215*Math.random()})))}function Ie(t,e){Ne.call(this,t,e),this.type="LineSegments"}function ke(t,e){Ne.call(this,t,e),this.type="LineLoop"}function De(t){J.call(this),this.type="PointsMaterial",this.color=new X(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function Fe(t,e){ut.call(this),this.type="Points",this.geometry=void 0!==t?t:new St,this.material=void 0!==e?e:new De({color:16777215*Math.random()})}function Be(){ut.call(this),this.type="Group"}function Ue(t,e,n,i,r,o,s,l,u){function h(){var t=c.image;t.readyState>=t.HAVE_CURRENT_DATA&&(c.needsUpdate=!0),requestAnimationFrame(h)}a.call(this,t,e,n,i,r,o,s,l,u),this.generateMipmaps=!1;var c=this;requestAnimationFrame(h)}function Ve(t,e,n,i,r,o,s,l,u,h,c,p){a.call(this,null,o,s,l,u,h,i,r,c,p),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Ge(t,e,n,i,r,o,s,l,u,h){if(h=void 0!==h?h:Qs,h!==Qs&&h!==Js)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&h===Qs&&(n=Ds),void 0===n&&h===Js&&(n=js),a.call(this,null,i,r,o,s,l,h,n,u),this.image={width:t,height:e},this.magFilter=void 0!==s?s:Ms,this.minFilter=void 0!==l?l:Ms,this.flipY=!1,this.generateMipmaps=!1}function He(t){St.call(this),this.type="WireframeGeometry";var e,n,i,r,s,a,l,u,h,c,p=[],d=[0,0],f={},m=["a","b","c"];if(t&&t.isGeometry){var g=t.faces;for(e=0,i=g.length;i>e;e++){var v=g[e];for(n=0;3>n;n++)l=v[m[n]],u=v[m[(n+1)%3]],d[0]=Math.min(l,u),d[1]=Math.max(l,u),h=d[0]+","+d[1],void 0===f[h]&&(f[h]={index1:d[0],index2:d[1]})}for(h in f)a=f[h],c=t.vertices[a.index1],p.push(c.x,c.y,c.z),c=t.vertices[a.index2],p.push(c.x,c.y,c.z)}else if(t&&t.isBufferGeometry){var y,_,A,b,x,w,T,E;if(c=new o,null!==t.index){for(y=t.attributes.position,_=t.index,A=t.groups,0===A.length&&(A=[{start:0,count:_.count,materialIndex:0}]),r=0,s=A.length;s>r;++r)for(b=A[r],x=b.start,w=b.count,e=x,i=x+w;i>e;e+=3)for(n=0;3>n;n++)l=_.getX(e+n),u=_.getX(e+(n+1)%3),d[0]=Math.min(l,u),d[1]=Math.max(l,u),h=d[0]+","+d[1],void 0===f[h]&&(f[h]={index1:d[0],index2:d[1]});for(h in f)a=f[h],c.fromBufferAttribute(y,a.index1),p.push(c.x,c.y,c.z),c.fromBufferAttribute(y,a.index2),p.push(c.x,c.y,c.z)}else for(y=t.attributes.position,e=0,i=y.count/3;i>e;e++)for(n=0;3>n;n++)T=3*e+n,c.fromBufferAttribute(y,T),p.push(c.x,c.y,c.z),E=3*e+(n+1)%3,c.fromBufferAttribute(y,E),p.push(c.x,c.y,c.z)}this.addAttribute("position",new xt(p,3))}function ze(t,e,n){dt.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new je(t,e,n)),this.mergeVertices()}function je(t,e,n){St.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var i,r,s=[],a=[],l=[],u=[],h=1e-5,c=new o,p=new o,d=new o,f=new o,m=new o,g=e+1;for(i=0;n>=i;i++){var v=i/n;for(r=0;e>=r;r++){var y=r/e;p=t(y,v,p),a.push(p.x,p.y,p.z),y-h>=0?(d=t(y-h,v,d),f.subVectors(p,d)):(d=t(y+h,v,d),f.subVectors(d,p)),v-h>=0?(d=t(y,v-h,d),m.subVectors(p,d)):(d=t(y,v+h,d),m.subVectors(d,p)),c.crossVectors(f,m).normalize(),l.push(c.x,c.y,c.z),u.push(y,v)}}for(i=0;n>i;i++)for(r=0;e>r;r++){var _=i*g+r,A=i*g+r+1,b=(i+1)*g+r+1,x=(i+1)*g+r;s.push(_,A,x),s.push(A,b,x)}this.setIndex(s),this.addAttribute("position",new xt(a,3)),this.addAttribute("normal",new xt(l,3)),this.addAttribute("uv",new xt(u,2))}function qe(t,e,n,i){dt.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i},this.fromBufferGeometry(new We(t,e,n,i)),this.mergeVertices()}function We(t,e,i,r){function s(t){for(var n=new o,i=new o,r=new o,s=0;s<e.length;s+=3)p(e[s+0],n),p(e[s+1],i),p(e[s+2],r),a(n,i,r,t)}function a(t,e,n,i){var r,o,s=Math.pow(2,i),a=[];for(r=0;s>=r;r++){a[r]=[];var l=t.clone().lerp(n,r/s),u=e.clone().lerp(n,r/s),h=s-r;for(o=0;h>=o;o++)a[r][o]=0===o&&r===s?l:l.clone().lerp(u,o/h)}for(r=0;s>r;r++)for(o=0;2*(s-r)-1>o;o++){var p=Math.floor(o/2);o%2===0?(c(a[r][p+1]),c(a[r+1][p]),c(a[r][p])):(c(a[r][p+1]),c(a[r+1][p+1]),c(a[r+1][p]))}}function l(t){for(var e=new o,n=0;n<v.length;n+=3)e.x=v[n+0],e.y=v[n+1],e.z=v[n+2],e.normalize().multiplyScalar(t),v[n+0]=e.x,v[n+1]=e.y,v[n+2]=e.z}function u(){for(var t=new o,e=0;e<v.length;e+=3){t.x=v[e+0],t.y=v[e+1],t.z=v[e+2];var n=m(t)/2/Math.PI+.5,i=g(t)/Math.PI+.5;y.push(n,1-i)}d(),h()}function h(){for(var t=0;t<y.length;t+=6){var e=y[t+0],n=y[t+2],i=y[t+4],r=Math.max(e,n,i),o=Math.min(e,n,i);r>.9&&.1>o&&(.2>e&&(y[t+0]+=1),.2>n&&(y[t+2]+=1),.2>i&&(y[t+4]+=1))}}function c(t){v.push(t.x,t.y,t.z)}function p(e,n){var i=3*e;n.x=t[i+0],n.y=t[i+1],n.z=t[i+2]}function d(){for(var t=new o,e=new o,i=new o,r=new o,s=new n,a=new n,l=new n,u=0,h=0;u<v.length;u+=9,
h+=6){t.set(v[u+0],v[u+1],v[u+2]),e.set(v[u+3],v[u+4],v[u+5]),i.set(v[u+6],v[u+7],v[u+8]),s.set(y[h+0],y[h+1]),a.set(y[h+2],y[h+3]),l.set(y[h+4],y[h+5]),r.copy(t).add(e).add(i).divideScalar(3);var c=m(r);f(s,h+0,t,c),f(a,h+2,e,c),f(l,h+4,i,c)}}function f(t,e,n,i){0>i&&1===t.x&&(y[e]=t.x-1),0===n.x&&0===n.z&&(y[e]=i/2/Math.PI+.5)}function m(t){return Math.atan2(t.z,-t.x)}function g(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}St.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},i=i||1,r=r||0;var v=[],y=[];s(r),l(i),u(),this.addAttribute("position",new xt(v,3)),this.addAttribute("normal",new xt(v.slice(),3)),this.addAttribute("uv",new xt(y,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Xe(t,e){dt.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ke(t,e)),this.mergeVertices()}function Ke(t,e){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];We.call(this,n,i,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ye(t,e){dt.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ze(t,e)),this.mergeVertices()}function Ze(t,e){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];We.call(this,n,i,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Qe(t,e){dt.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Je(t,e)),this.mergeVertices()}function Je(t,e){var n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];We.call(this,i,r,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function $e(t,e){dt.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new tn(t,e)),this.mergeVertices()}function tn(t,e){var n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];We.call(this,r,o,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function en(t,e,n,i,r,o){dt.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:r},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var s=new nn(t,e,n,i,r);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals,this.fromBufferGeometry(s),this.mergeVertices()}function nn(t,e,i,r,s){function a(){for(p=0;e>p;p++)l(p);l(s===!1?e:0),h(),u()}function l(n){v=t.getPointAt(n/e,v);var o=c.normals[n],s=c.binormals[n];for(d=0;r>=d;d++){var a=d/r*Math.PI*2,l=Math.sin(a),u=-Math.cos(a);m.x=u*o.x+l*s.x,m.y=u*o.y+l*s.y,m.z=u*o.z+l*s.z,m.normalize(),_.push(m.x,m.y,m.z),f.x=v.x+i*m.x,f.y=v.y+i*m.y,f.z=v.z+i*m.z,y.push(f.x,f.y,f.z)}}function u(){for(d=1;e>=d;d++)for(p=1;r>=p;p++){var t=(r+1)*(d-1)+(p-1),n=(r+1)*d+(p-1),i=(r+1)*d+p,o=(r+1)*(d-1)+p;b.push(t,n,o),b.push(n,i,o)}}function h(){for(p=0;e>=p;p++)for(d=0;r>=d;d++)g.x=p/e,g.y=d/r,A.push(g.x,g.y)}St.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:s},e=e||64,i=i||1,r=r||8,s=s||!1;var c=t.computeFrenetFrames(e,s);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;var p,d,f=new o,m=new o,g=new n,v=new o,y=[],_=[],A=[],b=[];a(),this.setIndex(b),this.addAttribute("position",new xt(y,3)),this.addAttribute("normal",new xt(_,3)),this.addAttribute("uv",new xt(A,2))}function rn(t,e,n,i,r,o,s){dt.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:r,q:o},void 0!==s&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new on(t,e,n,i,r,o)),this.mergeVertices()}function on(t,e,n,i,r,s){function a(t,e,n,i,r){var o=Math.cos(t),s=Math.sin(t),a=n/e*t,l=Math.cos(a);r.x=i*(2+l)*.5*o,r.y=i*(2+l)*s*.5,r.z=i*Math.sin(a)*.5}St.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:r,q:s},t=t||1,e=e||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,s=s||3;var l,u,h=[],c=[],p=[],d=[],f=new o,m=new o,g=new o,v=new o,y=new o,_=new o,A=new o;for(l=0;n>=l;++l){var b=l/n*r*Math.PI*2;for(a(b,r,s,t,g),a(b+.01,r,s,t,v),_.subVectors(v,g),A.addVectors(v,g),y.crossVectors(_,A),A.crossVectors(y,_),y.normalize(),A.normalize(),u=0;i>=u;++u){var x=u/i*Math.PI*2,w=-e*Math.cos(x),T=e*Math.sin(x);f.x=g.x+(w*A.x+T*y.x),f.y=g.y+(w*A.y+T*y.y),f.z=g.z+(w*A.z+T*y.z),c.push(f.x,f.y,f.z),m.subVectors(f,g).normalize(),p.push(m.x,m.y,m.z),d.push(l/n),d.push(u/i)}}for(u=1;n>=u;u++)for(l=1;i>=l;l++){var E=(i+1)*(u-1)+(l-1),S=(i+1)*u+(l-1),M=(i+1)*u+l,C=(i+1)*(u-1)+l;h.push(E,S,C),h.push(S,M,C)}this.setIndex(h),this.addAttribute("position",new xt(c,3)),this.addAttribute("normal",new xt(p,3)),this.addAttribute("uv",new xt(d,2))}function sn(t,e,n,i,r){dt.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new an(t,e,n,i,r)),this.mergeVertices()}function an(t,e,n,i,r){St.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},t=t||1,e=e||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var s,a,l=[],u=[],h=[],c=[],p=new o,d=new o,f=new o;for(s=0;n>=s;s++)for(a=0;i>=a;a++){var m=a/i*r,g=s/n*Math.PI*2;d.x=(t+e*Math.cos(g))*Math.cos(m),d.y=(t+e*Math.cos(g))*Math.sin(m),d.z=e*Math.sin(g),u.push(d.x,d.y,d.z),p.x=t*Math.cos(m),p.y=t*Math.sin(m),f.subVectors(d,p).normalize(),h.push(f.x,f.y,f.z),c.push(a/i),c.push(s/n)}for(s=1;n>=s;s++)for(a=1;i>=a;a++){var v=(i+1)*s+a-1,y=(i+1)*(s-1)+a-1,_=(i+1)*(s-1)+a,A=(i+1)*s+a;l.push(v,y,A),l.push(y,_,A)}this.setIndex(l),this.addAttribute("position",new xt(u,3)),this.addAttribute("normal",new xt(h,3)),this.addAttribute("uv",new xt(c,2))}function ln(t,e){dt.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new un(t,e)),this.mergeVertices()}function un(t,e){"undefined"!=typeof t&&(St.call(this),this.type="ExtrudeBufferGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeVertexNormals())}function hn(t,e){dt.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new cn(t,e)),this.mergeVertices()}function cn(t,e){e=e||{};var n=e.font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new dt;var i=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),un.call(this,i,e),this.type="TextBufferGeometry"}function pn(t,e,n,i,r,o,s){dt.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new dn(t,e,n,i,r,o,s)),this.mergeVertices()}function dn(t,e,n,i,r,s,a){St.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:a},t=t||1,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI,s=void 0!==s?s:0,a=void 0!==a?a:Math.PI;var l,u,h=s+a,c=0,p=[],d=new o,f=new o,m=[],g=[],v=[],y=[];for(u=0;n>=u;u++){var _=[],A=u/n;for(l=0;e>=l;l++){var b=l/e;d.x=-t*Math.cos(i+b*r)*Math.sin(s+A*a),d.y=t*Math.cos(s+A*a),d.z=t*Math.sin(i+b*r)*Math.sin(s+A*a),g.push(d.x,d.y,d.z),f.set(d.x,d.y,d.z).normalize(),v.push(f.x,f.y,f.z),y.push(b,1-A),_.push(c++)}p.push(_)}for(u=0;n>u;u++)for(l=0;e>l;l++){var x=p[u][l+1],w=p[u][l],T=p[u+1][l],E=p[u+1][l+1];(0!==u||s>0)&&m.push(x,w,E),(u!==n-1||h<Math.PI)&&m.push(w,T,E)}this.setIndex(m),this.addAttribute("position",new xt(g,3)),this.addAttribute("normal",new xt(v,3)),this.addAttribute("uv",new xt(y,2))}function fn(t,e,n,i,r,o){dt.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},this.fromBufferGeometry(new mn(t,e,n,i,r,o)),this.mergeVertices()}function mn(t,e,i,r,s,a){St.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},t=t||.5,e=e||1,s=void 0!==s?s:0,a=void 0!==a?a:2*Math.PI,i=void 0!==i?Math.max(3,i):8,r=void 0!==r?Math.max(1,r):1;var l,u,h,c=[],p=[],d=[],f=[],m=t,g=(e-t)/r,v=new o,y=new n;for(u=0;r>=u;u++){for(h=0;i>=h;h++)l=s+h/i*a,v.x=m*Math.cos(l),v.y=m*Math.sin(l),p.push(v.x,v.y,v.z),d.push(0,0,1),y.x=(v.x/e+1)/2,y.y=(v.y/e+1)/2,f.push(y.x,y.y);m+=g}for(u=0;r>u;u++){var _=u*(i+1);for(h=0;i>h;h++){l=h+_;var A=l,b=l+i+1,x=l+i+2,w=l+1;c.push(A,b,w),c.push(b,x,w)}}this.setIndex(c),this.addAttribute("position",new xt(p,3)),this.addAttribute("normal",new xt(d,3)),this.addAttribute("uv",new xt(f,2))}function gn(t,e,n,i){dt.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},this.fromBufferGeometry(new vn(t,e,n,i)),this.mergeVertices()}function vn(t,e,i,r){St.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},e=Math.floor(e)||12,i=i||0,r=r||2*Math.PI,r=Ra.clamp(r,0,2*Math.PI);var s,a,l,u=[],h=[],c=[],p=1/e,d=new o,f=new n;for(a=0;e>=a;a++){var m=i+a*p*r,g=Math.sin(m),v=Math.cos(m);for(l=0;l<=t.length-1;l++)d.x=t[l].x*g,d.y=t[l].y,d.z=t[l].x*v,h.push(d.x,d.y,d.z),f.x=a/e,f.y=l/(t.length-1),c.push(f.x,f.y)}for(a=0;e>a;a++)for(l=0;l<t.length-1;l++){s=l+a*t.length;var y=s,_=s+t.length,A=s+t.length+1,b=s+1;u.push(y,_,b),u.push(_,A,b)}if(this.setIndex(u),this.addAttribute("position",new xt(h,3)),this.addAttribute("uv",new xt(c,2)),this.computeVertexNormals(),r===2*Math.PI){var x=this.attributes.normal.array,w=new o,T=new o,E=new o;for(s=e*t.length*3,a=0,l=0;a<t.length;a++,l+=3)w.x=x[l+0],w.y=x[l+1],w.z=x[l+2],T.x=x[s+l+0],T.y=x[s+l+1],T.z=x[s+l+2],E.addVectors(w,T).normalize(),x[l+0]=x[s+l+0]=E.x,x[l+1]=x[s+l+1]=E.y,x[l+2]=x[s+l+2]=E.z}}function yn(t,e){dt.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new _n(t,e)),this.mergeVertices()}function _n(t,e){function n(t){var n,a,u,h=r.length/3,c=t.extractPoints(e),p=c.shape,d=c.holes;if(Zu.isClockWise(p)===!1)for(p=p.reverse(),n=0,a=d.length;a>n;n++)u=d[n],Zu.isClockWise(u)===!0&&(d[n]=u.reverse());var f=Zu.triangulateShape(p,d);for(n=0,a=d.length;a>n;n++)u=d[n],p=p.concat(u);for(n=0,a=p.length;a>n;n++){var m=p[n];r.push(m.x,m.y,0),o.push(0,0,1),s.push(m.x,m.y)}for(n=0,a=f.length;a>n;n++){var g=f[n],v=g[0]+h,y=g[1]+h,_=g[2]+h;i.push(v,y,_),l+=3}}St.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var i=[],r=[],o=[],s=[],a=0,l=0;if(Array.isArray(t)===!1)n(t);else for(var u=0;u<t.length;u++)n(t[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.addAttribute("position",new xt(r,3)),this.addAttribute("normal",new xt(o,3)),this.addAttribute("uv",new xt(s,2))}function An(t,e){St.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n,i,r,o,s=[],a=Math.cos(Ra.DEG2RAD*e),l=[0,0],u={},h=["a","b","c"];t.isBufferGeometry?(o=new dt,o.fromBufferGeometry(t)):o=t.clone(),o.mergeVertices(),o.computeFaceNormals();for(var c=o.vertices,p=o.faces,d=0,f=p.length;f>d;d++)for(var m=p[d],g=0;3>g;g++)n=m[h[g]],i=m[h[(g+1)%3]],l[0]=Math.min(n,i),l[1]=Math.max(n,i),r=l[0]+","+l[1],void 0===u[r]?u[r]={index1:l[0],index2:l[1],face1:d,face2:void 0}:u[r].face2=d;for(r in u){var v=u[r];if(void 0===v.face2||p[v.face1].normal.dot(p[v.face2].normal)<=a){var y=c[v.index1];s.push(y.x,y.y,y.z),y=c[v.index2],s.push(y.x,y.y,y.z)}}this.addAttribute("position",new xt(s,3))}function bn(t,e,n,i,r,o,s,a){dt.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a},this.fromBufferGeometry(new xn(t,e,n,i,r,o,s,a)),this.mergeVertices()}function xn(t,e,i,r,s,a,l,u){function h(){var n,a,h=new o,c=new o,b=0,x=(e-t)/i;for(a=0;s>=a;a++){var w=[],T=a/s,E=T*(e-t)+t;for(n=0;r>=n;n++){var S=n/r,M=S*u+l,C=Math.sin(M),P=Math.cos(M);c.x=E*C,c.y=-T*i+_,c.z=E*P,f.push(c.x,c.y,c.z),h.set(C,x,P).normalize(),m.push(h.x,h.y,h.z),g.push(S,1-T),w.push(v++)}y.push(w)}for(n=0;r>n;n++)for(a=0;s>a;a++){var R=y[a][n],O=y[a+1][n],L=y[a+1][n+1],N=y[a][n+1];d.push(R,O,N),d.push(O,L,N),b+=6}p.addGroup(A,b,0),A+=b}function c(i){var s,a,h,c=new n,y=new o,b=0,x=i===!0?t:e,w=i===!0?1:-1;for(a=v,s=1;r>=s;s++)f.push(0,_*w,0),m.push(0,w,0),g.push(.5,.5),v++;for(h=v,s=0;r>=s;s++){var T=s/r,E=T*u+l,S=Math.cos(E),M=Math.sin(E);y.x=x*M,y.y=_*w,y.z=x*S,f.push(y.x,y.y,y.z),m.push(0,w,0),c.x=.5*S+.5,c.y=.5*M*w+.5,g.push(c.x,c.y),v++}for(s=0;r>s;s++){var C=a+s,P=h+s;i===!0?d.push(P,P+1,C):d.push(P+1,P,C),b+=3}p.addGroup(A,b,i===!0?1:2),A+=b}St.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:l,thetaLength:u};var p=this;t=void 0!==t?t:1,e=void 0!==e?e:1,i=i||1,r=Math.floor(r)||8,s=Math.floor(s)||1,a=void 0!==a?a:!1,l=void 0!==l?l:0,u=void 0!==u?u:2*Math.PI;var d=[],f=[],m=[],g=[],v=0,y=[],_=i/2,A=0;h(),a===!1&&(t>0&&c(!0),e>0&&c(!1)),this.setIndex(d),this.addAttribute("position",new xt(f,3)),this.addAttribute("normal",new xt(m,3)),this.addAttribute("uv",new xt(g,2))}function wn(t,e,n,i,r,o,s){bn.call(this,0,t,e,n,i,r,o,s),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:s}}function Tn(t,e,n,i,r,o,s){xn.call(this,0,t,e,n,i,r,o,s),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:s}}function En(t,e,n,i){dt.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new Sn(t,e,n,i)),this.mergeVertices()}function Sn(t,e,i,r){St.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},t=t||1,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var s,a,l=[],u=[],h=[],c=[],p=new o,d=new n;for(u.push(0,0,0),h.push(0,0,1),c.push(.5,.5),a=0,s=3;e>=a;a++,s+=3){var f=i+a/e*r;p.x=t*Math.cos(f),p.y=t*Math.sin(f),u.push(p.x,p.y,p.z),h.push(0,0,1),d.x=(u[s]/t+1)/2,d.y=(u[s+1]/t+1)/2,c.push(d.x,d.y)}for(s=1;e>=s;s++)l.push(s,s+1,0);this.setIndex(l),this.addAttribute("position",new xt(u,3)),this.addAttribute("normal",new xt(h,3)),this.addAttribute("uv",new xt(c,2))}function Mn(t){J.call(this),this.type="ShadowMaterial",this.color=new X(0),this.opacity=1,this.lights=!0,this.transparent=!0,this.setValues(t)}function Cn(t){Lt.call(this,t),this.type="RawShaderMaterial"}function Pn(t){J.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new X(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Rn(t){Pn.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function On(t){J.call(this),this.type="MeshPhongMaterial",this.color=new X(16777215),this.specular=new X(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ls,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ln(t){On.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function Nn(t){J.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function In(t){J.call(this),this.type="MeshLambertMaterial",this.color=new X(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ls,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function kn(t){Le.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}function Dn(t,e,n){var i=this,r=!1,o=0,s=0,a=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){s++,r===!1&&void 0!==i.onStart&&i.onStart(t,o,s),r=!0},this.itemEnd=function(t){o++,void 0!==i.onProgress&&i.onProgress(t,o,s),o===s&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return a?a(t):t},this.setURLModifier=function(t){a=t}}function Fn(t){this.manager=void 0!==t?t:th}function Bn(t){this.manager=void 0!==t?t:th,this._parser=null}function Un(t){this.manager=void 0!==t?t:th,this._parser=null}function Vn(t){this.manager=void 0!==t?t:th}function Gn(t){this.manager=void 0!==t?t:th}function Hn(t){this.manager=void 0!==t?t:th}function zn(t,e){ut.call(this),this.type="Light",this.color=new X(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function jn(t,e,n){zn.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ut.DefaultUp),this.updateMatrix(),this.groundColor=new X(e)}function qn(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new n(512,512),this.map=null,this.matrix=new i}function Wn(){qn.call(this,new me(50,1,.5,500))}function Xn(t,e,n,i,r,o){zn.call(this,t,e),this.type="SpotLight",this.position.copy(ut.DefaultUp),this.updateMatrix(),this.target=new ut,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==o?o:1,this.shadow=new Wn}function Kn(t,e,n,i){zn.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new qn(new me(90,1,.5,500))}function Yn(){qn.call(this,new ct(-5,5,5,-5,.5,500))}function Zn(t,e){zn.call(this,t,e),this.type="DirectionalLight",this.position.copy(ut.DefaultUp),this.updateMatrix(),this.target=new ut,this.shadow=new Yn}function Qn(t,e){zn.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Jn(t,e,n,i){zn.call(this,t,e),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function $n(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function ti(t,e,n,i){$n.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function ei(t,e,n,i){$n.call(this,t,e,n,i)}function ni(t,e,n,i){$n.call(this,t,e,n,i)}function ii(t,e,n,i){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=nh.convertArray(e,this.TimeBufferType),this.values=nh.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation),this.validate(),this.optimize()}function ri(t,e,n,i){ii.call(this,t,e,n,i)}function oi(t,e,n,i){$n.call(this,t,e,n,i)}function si(t,e,n,i){ii.call(this,t,e,n,i)}function ai(t,e,n,i){ii.call(this,t,e,n,i)}function li(t,e,n,i){ii.call(this,t,e,n,i)}function ui(t,e,n){ii.call(this,t,e,n)}function hi(t,e,n,i){ii.call(this,t,e,n,i)}function ci(t,e,n,i){ii.apply(this,t,e,n,i)}function pi(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=Ra.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function di(t){this.manager=void 0!==t?t:th,this.textures={}}function fi(t){this.manager=void 0!==t?t:th}function mi(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function gi(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:th,this.withCredentials=!1}function vi(t){this.manager=void 0!==t?t:th,this.texturePath=""}function yi(t,e,n,i,r){var o=.5*(i-e),s=.5*(r-n),a=t*t,l=t*a;return(2*n-2*i+o+s)*l+(-3*n+3*i-2*o-s)*a+o*t+n}function _i(t,e){var n=1-t;return n*n*e}function Ai(t,e){return 2*(1-t)*t*e}function bi(t,e){return t*t*e}function xi(t,e,n,i){return _i(t,e)+Ai(t,n)+bi(t,i)}function wi(t,e){var n=1-t;return n*n*n*e}function Ti(t,e){var n=1-t;return 3*n*n*t*e}function Ei(t,e){return 3*(1-t)*t*t*e}function Si(t,e){return t*t*t*e}function Mi(t,e,n,i,r){return wi(t,e)+Ti(t,n)+Ei(t,i)+Si(t,r)}function Ci(){this.type="Curve",this.arcLengthDivisions=200}function Pi(t,e){Ci.call(this),this.type="LineCurve",this.v1=t||new n,this.v2=e||new n}function Ri(){Ci.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Oi(t,e,n,i,r,o,s,a){Ci.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=s||!1,this.aRotation=a||0}function Li(t){Ci.call(this),this.type="SplineCurve",this.points=t||[]}function Ni(t,e,i,r){Ci.call(this),this.type="CubicBezierCurve",this.v0=t||new n,this.v1=e||new n,this.v2=i||new n,this.v3=r||new n}function Ii(t,e,i){Ci.call(this),this.type="QuadraticBezierCurve",this.v0=t||new n,this.v1=e||new n,this.v2=i||new n}function ki(t){Ri.call(this),this.type="Path",this.currentPoint=new n,t&&this.setFromPoints(t)}function Di(t){ki.call(this,t),this.type="Shape",this.holes=[]}function Fi(){this.type="ShapePath",this.subPaths=[],this.currentPath=null}function Bi(t){this.type="Font",this.data=t}function Ui(t){this.manager=void 0!==t?t:th}function Vi(t){this.manager=void 0!==t?t:th}function Gi(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new me,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new me,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Hi(t,e,n){ut.call(this),this.type="CubeCamera";var i=90,r=1,s=new me(i,r,t,e);s.up.set(0,-1,0),s.lookAt(new o(1,0,0)),this.add(s);var a=new me(i,r,t,e);a.up.set(0,-1,0),a.lookAt(new o(-1,0,0)),this.add(a);var l=new me(i,r,t,e);l.up.set(0,0,1),l.lookAt(new o(0,1,0)),this.add(l);var u=new me(i,r,t,e);u.up.set(0,0,-1),u.lookAt(new o(0,-1,0)),this.add(u);var c=new me(i,r,t,e);c.up.set(0,-1,0),c.lookAt(new o(0,0,1)),this.add(c);var p=new me(i,r,t,e);p.up.set(0,-1,0),p.lookAt(new o(0,0,-1)),this.add(p);var d={format:Ws,magFilter:Rs,minFilter:Rs};this.renderTarget=new h(n,n,d),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,i=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,s,n),n.activeCubeFace=1,t.render(e,a,n),n.activeCubeFace=2,t.render(e,l,n),n.activeCubeFace=3,t.render(e,u,n),n.activeCubeFace=4,t.render(e,c,n),n.texture.generateMipmaps=i,n.activeCubeFace=5,t.render(e,p,n),t.setRenderTarget(null)},this.clear=function(t,e,n,i){for(var r=this.renderTarget,o=0;6>o;o++)r.activeCubeFace=o,t.setRenderTarget(r),t.clear(e,n,i);t.setRenderTarget(null)}}function zi(){ut.call(this),this.type="AudioListener",this.context=hh.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function ji(t){ut.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function qi(t){ji.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Wi(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Xi(t,e,n){this.binding=t,this.valueSize=n;var i,r=Float64Array;switch(e){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Ki(t,e,n){var i=n||Yi.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}function Yi(t,e,n){this.path=e,this.parsedPath=n||Yi.parseTrackName(e),this.node=Yi.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Zi(){this.uuid=Ra.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Qi(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var i=e.tracks,r=i.length,o=new Array(r),s={endingStart:fa,endingEnd:fa},a=0;a!==r;++a){var l=i[a].createInterpolant(null);o[a]=l,l.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ua,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Ji(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function $i(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function tr(){St.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function er(t,e,n,i){this.uuid=Ra.generateUUID(),this.data=t,this.itemSize=e,this.offset=n,this.normalized=i===!0}function nr(t,e){this.uuid=Ra.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function ir(t,e,n){nr.call(this,t,e),this.meshPerAttribute=n||1}function rr(t,e,n){ft.call(this,t,e),this.meshPerAttribute=n||1}function or(t,e,n,i){this.ray=new Nt(t,e),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function sr(t,e){return t.distance-e.distance}function ar(t,e,n,i){if(t.visible!==!1&&(t.raycast(e,n),i===!0))for(var r=t.children,o=0,s=r.length;s>o;o++)ar(r[o],e,n,!0)}function lr(t){this.autoStart=void 0!==t?t:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function ur(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function hr(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function cr(t){ut.call(this),this.material=t,this.render=function(){}}function pr(t,e,n,i){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==n?n:16711680,o=void 0!==i?i:1,s=0,a=this.object.geometry;a&&a.isGeometry?s=3*a.faces.length:a&&a.isBufferGeometry&&(s=a.attributes.normal.count);var l=new St,u=new xt(2*s*3,3);l.addAttribute("position",u),Ie.call(this,l,new Le({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function dr(t,e){ut.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var n=new St,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,o=1,s=32;s>r;r++,o++){var a=r/s*Math.PI*2,l=o/s*Math.PI*2;i.push(Math.cos(a),Math.sin(a),1,Math.cos(l),Math.sin(l),1)}n.addAttribute("position",new xt(i,3));var u=new Le({fog:!1});this.cone=new Ie(n,u),this.add(this.cone),this.update()}function fr(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,fr(t.children[n]));return e}function mr(t){for(var e=fr(t),n=new St,i=[],r=[],o=new X(0,0,1),s=new X(0,1,0),a=0;a<e.length;a++){var l=e[a];l.parent&&l.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(o.r,o.g,o.b),r.push(s.r,s.g,s.b))}n.addAttribute("position",new xt(i,3)),n.addAttribute("color",new xt(r,3));var u=new Le({vertexColors:Oo,depthTest:!1,depthWrite:!1,transparent:!0});Ie.call(this,n,u),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function gr(t,e,n){this.light=t,this.light.updateMatrixWorld(),this.color=n;var i=new dn(e,4,2),r=new Ot({wireframe:!0,fog:!1});Dt.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function vr(t,e){ut.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;var n=new Le({fog:!1}),i=new St;i.addAttribute("position",new ft(new Float32Array(15),3)),this.line=new Ne(i,n),this.add(this.line),this.update()}function yr(t,e,n){ut.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var i=new Ze(e);i.rotateY(.5*Math.PI),this.material=new Ot({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=Oo);

var r=i.getAttribute("position"),o=new Float32Array(3*r.count);i.addAttribute("color",new ft(o,3)),this.add(new Dt(i,this.material)),this.update()}function _r(t,e,n,i){t=t||10,e=e||10,n=new X(void 0!==n?n:4473924),i=new X(void 0!==i?i:8947848);for(var r=e/2,o=t/e,s=t/2,a=[],l=[],u=0,h=0,c=-s;e>=u;u++,c+=o){a.push(-s,0,c,s,0,c),a.push(c,0,-s,c,0,s);var p=u===r?n:i;p.toArray(l,h),h+=3,p.toArray(l,h),h+=3,p.toArray(l,h),h+=3,p.toArray(l,h),h+=3}var d=new St;d.addAttribute("position",new xt(a,3)),d.addAttribute("color",new xt(l,3));var f=new Le({vertexColors:Oo});Ie.call(this,d,f)}function Ar(t,e,n,i,r,o){t=t||10,e=e||16,n=n||8,i=i||64,r=new X(void 0!==r?r:4473924),o=new X(void 0!==o?o:8947848);var s,a,l,u,h,c,p,d=[],f=[];for(u=0;e>=u;u++)l=u/e*2*Math.PI,s=Math.sin(l)*t,a=Math.cos(l)*t,d.push(0,0,0),d.push(s,0,a),p=1&u?r:o,f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b);for(u=0;n>=u;u++)for(p=1&u?r:o,c=t-t/n*u,h=0;i>h;h++)l=h/i*2*Math.PI,s=Math.sin(l)*c,a=Math.cos(l)*c,d.push(s,0,a),f.push(p.r,p.g,p.b),l=(h+1)/i*2*Math.PI,s=Math.sin(l)*c,a=Math.cos(l)*c,d.push(s,0,a),f.push(p.r,p.g,p.b);var m=new St;m.addAttribute("position",new xt(d,3)),m.addAttribute("color",new xt(f,3));var g=new Le({vertexColors:Oo});Ie.call(this,m,g)}function br(t,e,n,i){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==n?n:16776960,o=void 0!==i?i:1,s=0,a=this.object.geometry;a&&a.isGeometry?s=a.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new St,u=new xt(2*s*3,3);l.addAttribute("position",u),Ie.call(this,l,new Le({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function xr(t,e,n){ut.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);var i=new St;i.addAttribute("position",new xt([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new Le({fog:!1});this.lightPlane=new Ne(i,r),this.add(this.lightPlane),i=new St,i.addAttribute("position",new xt([0,0,0,0,0,1],3)),this.targetLine=new Ne(i,r),this.add(this.targetLine),this.update()}function wr(t){function e(t,e,i){n(t,i),n(e,i)}function n(t,e){o.push(0,0,0),s.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(o.length/3-1)}var i=new St,r=new Le({color:16777215,vertexColors:Ro}),o=[],s=[],a={},l=new X(16755200),u=new X(16711680),h=new X(43775),c=new X(16777215),p=new X(3355443);e("n1","n2",l),e("n2","n4",l),e("n4","n3",l),e("n3","n1",l),e("f1","f2",l),e("f2","f4",l),e("f4","f3",l),e("f3","f1",l),e("n1","f1",l),e("n2","f2",l),e("n3","f3",l),e("n4","f4",l),e("p","n1",u),e("p","n2",u),e("p","n3",u),e("p","n4",u),e("u1","u2",h),e("u2","u3",h),e("u3","u1",h),e("c","t",c),e("p","c",p),e("cn1","cn2",p),e("cn3","cn4",p),e("cf1","cf2",p),e("cf3","cf4",p),i.addAttribute("position",new xt(o,3)),i.addAttribute("color",new xt(s,3)),Ie.call(this,i,r),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Tr(t,e){this.object=t,void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new St;r.setIndex(new ft(n,1)),r.addAttribute("position",new ft(i,3)),Ie.call(this,r,new Le({color:e})),this.matrixAutoUpdate=!1,this.update()}function Er(t,e){this.type="Box3Helper",this.box=t;var n=void 0!==e?e:16776960,i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new St;o.setIndex(new ft(i,1)),o.addAttribute("position",new xt(r,3)),Ie.call(this,o,new Le({color:n})),this.geometry.computeBoundingSphere()}function Sr(t,e,n){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var i=void 0!==n?n:16776960,r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new St;o.addAttribute("position",new xt(r,3)),o.computeBoundingSphere(),Ne.call(this,o,new Le({color:i}));var s=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],a=new St;a.addAttribute("position",new xt(s,3)),a.computeBoundingSphere(),this.add(new Dt(a,new Ot({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}function Mr(t,e,n,i,r,o){ut.call(this),void 0===i&&(i=16776960),void 0===n&&(n=1),void 0===r&&(r=.2*n),void 0===o&&(o=.2*r),void 0===ch&&(ch=new St,ch.addAttribute("position",new xt([0,0,0,0,1,0],3)),ph=new xn(0,.5,1,5,1),ph.translate(0,-.5,0)),this.position.copy(e),this.line=new Ne(ch,new Le({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Dt(ph,new Ot({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,r,o)}function Cr(t){t=t||1;var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new St;i.addAttribute("position",new xt(e,3)),i.addAttribute("color",new xt(n,3));var r=new Le({vertexColors:Oo});Ie.call(this,i,r)}function Pr(){function t(t,o,s,a){e=t,n=s,i=-3*t+3*o-2*s-a,r=2*t-2*o+s+a}var e=0,n=0,i=0,r=0;return{initCatmullRom:function(e,n,i,r,o){t(n,i,o*(i-e),o*(r-n))},initNonuniformCatmullRom:function(e,n,i,r,o,s,a){var l=(n-e)/o-(i-e)/(o+s)+(i-n)/s,u=(i-n)/s-(r-n)/(s+a)+(r-i)/a;l*=s,u*=s,t(n,i,l,u)},calc:function(t){var o=t*t,s=o*t;return e+n*t+i*o+r*s}}}function Rr(t,e,n,i){Ci.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=n||"centripetal",this.tension=i||.5}function Or(t,e,n,i){Ci.call(this),this.type="CubicBezierCurve3",this.v0=t||new o,this.v1=e||new o,this.v2=n||new o,this.v3=i||new o}function Lr(t,e,n){Ci.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new o,this.v1=e||new o,this.v2=n||new o}function Nr(t,e){Ci.call(this),this.type="LineCurve3",this.v1=t||new o,this.v2=e||new o}function Ir(t,e,n,i,r,o){Oi.call(this,t,e,n,n,i,r,o),this.type="ArcCurve"}function kr(t,e,n,i,r,o,s){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new pt(t,e,n,r,o,s)}function Dr(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function Fr(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function Br(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Fe(t,e)}function Ur(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Me(t)}function Vr(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Fe(t,e)}function Gr(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new De(t)}function Hr(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new De(t)}function zr(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new De(t)}function jr(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new o(t,e,n)}function qr(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new ft(t,e).setDynamic(!0)}function Wr(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new mt(t,e)}function Xr(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new gt(t,e)}function Kr(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new vt(t,e)}function Yr(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new yt(t,e)}function Zr(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new _t(t,e)}function Qr(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new At(t,e)}function Jr(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new bt(t,e)}function $r(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new xt(t,e)}function to(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new wt(t,e)}function eo(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Rr.call(this,t),this.type="catmullrom",this.closed=!0}function no(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Rr.call(this,t),this.type="catmullrom"}function io(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Rr.call(this,t),this.type="catmullrom"}function ro(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Cr(t)}function oo(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Tr(t,e)}function so(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Ie(new An(t.geometry),new Le({color:void 0!==e?e:16777215}))}function ao(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Ie(new He(t.geometry),new Le({color:void 0!==e?e:16777215}))}function lo(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Fn(t)}function uo(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Un(t)}function ho(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function co(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return 0>t?-1:t>0?1:+t}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&!function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}}(),Object.assign(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,i=n[t];if(void 0!==i){var r=i.indexOf(e);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;for(var i=n.slice(0),r=0,o=i.length;o>r;r++)i[r].call(this,t)}}}});var po="88",fo={LEFT:0,MIDDLE:1,RIGHT:2},mo=0,go=1,vo=2,yo=3,_o=0,Ao=1,bo=0,xo=1,wo=2,To=0,Eo=1,So=2,Mo=1,Co=2,Po=0,Ro=1,Oo=2,Lo=0,No=1,Io=2,ko=3,Do=4,Fo=5,Bo=100,Uo=101,Vo=102,Go=103,Ho=104,zo=200,jo=201,qo=202,Wo=203,Xo=204,Ko=205,Yo=206,Zo=207,Qo=208,Jo=209,$o=210,ts=0,es=1,ns=2,is=3,rs=4,os=5,ss=6,as=7,ls=0,us=1,hs=2,cs=0,ps=1,ds=2,fs=3,ms=4,gs=300,vs=301,ys=302,_s=303,As=304,bs=305,xs=306,ws=307,Ts=1e3,Es=1001,Ss=1002,Ms=1003,Cs=1004,Ps=1005,Rs=1006,Os=1007,Ls=1008,Ns=1009,Is=1010,ks=1011,Ds=1012,Fs=1013,Bs=1014,Us=1015,Vs=1016,Gs=1017,Hs=1018,zs=1019,js=1020,qs=1021,Ws=1022,Xs=1023,Ks=1024,Ys=1025,Zs=Xs,Qs=1026,Js=1027,$s=2001,ta=2002,ea=2003,na=2004,ia=2100,ra=2101,oa=2102,sa=2103,aa=2151,la=2200,ua=2201,ha=2202,ca=2300,pa=2301,da=2302,fa=2400,ma=2401,ga=2402,va=0,ya=1,_a=2,Aa=3e3,ba=3001,xa=3007,wa=3002,Ta=3003,Ea=3004,Sa=3005,Ma=3006,Ca=3200,Pa=3201,Ra={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=0;return function(){for(var i="",r=0;36>r;r++)8===r||13===r||18===r||23===r?i+="-":14===r?i+="4":(2>=n&&(n=33554432+16777216*Math.random()|0),t=15&n,n>>=4,i+=e[19===r?3&t|8:t]);return i}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return e>=t?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))},smootherstep:function(t,e,n){return e>=t?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(6*t-15)+10))},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Ra.DEG2RAD},radToDeg:function(t){return t*Ra.RAD2DEG},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};Object.defineProperties(n.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(n.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t=new n,e=new n;return function(n,i){return t.set(n,n),e.set(i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return 0>t&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*i+t.x,this.y=r*i+o*n+t.y,this}}),Object.assign(i.prototype,{isMatrix4:!0,set:function(t,e,n,i,r,o,s,a,l,u,h,c,p,d,f,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=i,g[1]=r,g[5]=o,g[9]=s,g[13]=a,g[2]=l,g[6]=u,g[10]=h,g[14]=c,g[3]=p,g[7]=d,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new i).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t=new o;return function(e){var n=this.elements,i=e.elements,r=1/t.setFromMatrixColumn(e,0).length(),o=1/t.setFromMatrixColumn(e,1).length(),s=1/t.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[8]=i[8]*s,n[9]=i[9]*s,n[10]=i[10]*s,this}}(),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,i=t.y,r=t.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(i),l=Math.sin(i),u=Math.cos(r),h=Math.sin(r);if("XYZ"===t.order){var c=o*u,p=o*h,d=s*u,f=s*h;e[0]=a*u,e[4]=-a*h,e[8]=l,e[1]=p+d*l,e[5]=c-f*l,e[9]=-s*a,e[2]=f-c*l,e[6]=d+p*l,e[10]=o*a}else if("YXZ"===t.order){var m=a*u,g=a*h,v=l*u,y=l*h;e[0]=m+y*s,e[4]=v*s-g,e[8]=o*l,e[1]=o*h,e[5]=o*u,e[9]=-s,e[2]=g*s-v,e[6]=y+m*s,e[10]=o*a}else if("ZXY"===t.order){var m=a*u,g=a*h,v=l*u,y=l*h;e[0]=m-y*s,e[4]=-o*h,e[8]=v+g*s,e[1]=g+v*s,e[5]=o*u,e[9]=y-m*s,e[2]=-o*l,e[6]=s,e[10]=o*a}else if("ZYX"===t.order){var c=o*u,p=o*h,d=s*u,f=s*h;e[0]=a*u,e[4]=d*l-p,e[8]=c*l+f,e[1]=a*h,e[5]=f*l+c,e[9]=p*l-d,e[2]=-l,e[6]=s*a,e[10]=o*a}else if("YZX"===t.order){var _=o*a,A=o*l,b=s*a,x=s*l;e[0]=a*u,e[4]=x-_*h,e[8]=b*h+A,e[1]=h,e[5]=o*u,e[9]=-s*u,e[2]=-l*u,e[6]=A*h+b,e[10]=_-x*h}else if("XZY"===t.order){var _=o*a,A=o*l,b=s*a,x=s*l;e[0]=a*u,e[4]=-h,e[8]=l*u,e[1]=_*h+x,e[5]=o*u,e[9]=A*h-b,e[2]=b*h-A,e[6]=s*u,e[10]=x*h+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t._x,i=t._y,r=t._z,o=t._w,s=n+n,a=i+i,l=r+r,u=n*s,h=n*a,c=n*l,p=i*a,d=i*l,f=r*l,m=o*s,g=o*a,v=o*l;return e[0]=1-(p+f),e[4]=h-v,e[8]=c+g,e[1]=h+v,e[5]=1-(u+f),e[9]=d-m,e[2]=c-g,e[6]=d+m,e[10]=1-(u+p),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t=new o,e=new o,n=new o;return function(i,r,o){var s=this.elements;return n.subVectors(i,r),0===n.lengthSq()&&(n.z=1),n.normalize(),t.crossVectors(o,n),0===t.lengthSq()&&(1===Math.abs(o.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),t.crossVectors(o,n)),t.normalize(),e.crossVectors(n,t),s[0]=t.x,s[4]=e.x,s[8]=n.x,s[1]=t.y,s[5]=e.y,s[9]=n.y,s[2]=t.z,s[6]=e.z,s[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,i=e.elements,r=this.elements,o=n[0],s=n[4],a=n[8],l=n[12],u=n[1],h=n[5],c=n[9],p=n[13],d=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],_=n[11],A=n[15],b=i[0],x=i[4],w=i[8],T=i[12],E=i[1],S=i[5],M=i[9],C=i[13],P=i[2],R=i[6],O=i[10],L=i[14],N=i[3],I=i[7],k=i[11],D=i[15];return r[0]=o*b+s*E+a*P+l*N,r[4]=o*x+s*S+a*R+l*I,r[8]=o*w+s*M+a*O+l*k,r[12]=o*T+s*C+a*L+l*D,r[1]=u*b+h*E+c*P+p*N,r[5]=u*x+h*S+c*R+p*I,r[9]=u*w+h*M+c*O+p*k,r[13]=u*T+h*C+c*L+p*D,r[2]=d*b+f*E+m*P+g*N,r[6]=d*x+f*S+m*R+g*I,r[10]=d*w+f*M+m*O+g*k,r[14]=d*T+f*C+m*L+g*D,r[3]=v*b+y*E+_*P+A*N,r[7]=v*x+y*S+_*R+A*I,r[11]=v*w+y*M+_*O+A*k,r[15]=v*T+y*C+_*L+A*D,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new o;return function(e){for(var n=0,i=e.count;i>n;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],o=t[1],s=t[5],a=t[9],l=t[13],u=t[2],h=t[6],c=t[10],p=t[14],d=t[3],f=t[7],m=t[11],g=t[15];return d*(+r*a*h-i*l*h-r*s*c+n*l*c+i*s*p-n*a*p)+f*(+e*a*p-e*l*c+r*o*c-i*o*p+i*l*u-r*a*u)+m*(+e*l*h-e*s*p-r*o*h+n*o*p+r*s*u-n*l*u)+g*(-i*s*u-e*a*h+e*s*c+i*o*h-n*o*c+n*a*u)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,i=t.elements,r=i[0],o=i[1],s=i[2],a=i[3],l=i[4],u=i[5],h=i[6],c=i[7],p=i[8],d=i[9],f=i[10],m=i[11],g=i[12],v=i[13],y=i[14],_=i[15],A=d*y*c-v*f*c+v*h*m-u*y*m-d*h*_+u*f*_,b=g*f*c-p*y*c-g*h*m+l*y*m+p*h*_-l*f*_,x=p*v*c-g*d*c+g*u*m-l*v*m-p*u*_+l*d*_,w=g*d*h-p*v*h-g*u*f+l*v*f+p*u*y-l*d*y,T=r*A+o*b+s*x+a*w;if(0===T){var E="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(e===!0)throw new Error(E);return console.warn(E),this.identity()}var S=1/T;return n[0]=A*S,n[1]=(v*f*a-d*y*a-v*s*m+o*y*m+d*s*_-o*f*_)*S,n[2]=(u*y*a-v*h*a+v*s*c-o*y*c-u*s*_+o*h*_)*S,n[3]=(d*h*a-u*f*a-d*s*c+o*f*c+u*s*m-o*h*m)*S,n[4]=b*S,n[5]=(p*y*a-g*f*a+g*s*m-r*y*m-p*s*_+r*f*_)*S,n[6]=(g*h*a-l*y*a-g*s*c+r*y*c+l*s*_-r*h*_)*S,n[7]=(l*f*a-p*h*a+p*s*c-r*f*c-l*s*m+r*h*m)*S,n[8]=x*S,n[9]=(g*d*a-p*v*a-g*o*m+r*v*m+p*o*_-r*d*_)*S,n[10]=(l*v*a-g*u*a+g*o*c-r*v*c-l*o*_+r*u*_)*S,n[11]=(p*u*a-l*d*a-p*o*c+r*d*c+l*o*m-r*u*m)*S,n[12]=w*S,n[13]=(p*v*s-g*d*s+g*o*f-r*v*f-p*o*y+r*d*y)*S,n[14]=(g*u*s-l*v*s-g*o*h+r*v*h+l*o*y-r*u*y)*S,n[15]=(l*d*s-p*u*s+p*o*h-r*d*h-l*o*f+r*u*f)*S,this},scale:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=1-n,o=t.x,s=t.y,a=t.z,l=r*o,u=r*s;return this.set(l*o+n,l*s-i*a,l*a+i*s,0,l*s+i*a,u*s+n,u*a-i*o,0,l*a-i*s,u*a+i*o,r*a*a+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t=new o,e=new i;return function(n,i,r){var o=this.elements,s=t.set(o[0],o[1],o[2]).length(),a=t.set(o[4],o[5],o[6]).length(),l=t.set(o[8],o[9],o[10]).length(),u=this.determinant();0>u&&(s=-s),n.x=o[12],n.y=o[13],n.z=o[14],e.copy(this);var h=1/s,c=1/a,p=1/l;return e.elements[0]*=h,e.elements[1]*=h,e.elements[2]*=h,e.elements[4]*=c,e.elements[5]*=c,e.elements[6]*=c,e.elements[8]*=p,e.elements[9]*=p,e.elements[10]*=p,i.setFromRotationMatrix(e),r.x=s,r.y=a,r.z=l,this}}(),makePerspective:function(t,e,n,i,r,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var s=this.elements,a=2*r/(e-t),l=2*r/(n-i),u=(e+t)/(e-t),h=(n+i)/(n-i),c=-(o+r)/(o-r),p=-2*o*r/(o-r);return s[0]=a,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=l,s[9]=h,s[13]=0,s[2]=0,s[6]=0,s[10]=c,s[14]=p,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this},makeOrthographic:function(t,e,n,i,r,o){var s=this.elements,a=1/(e-t),l=1/(n-i),u=1/(o-r),h=(e+t)*a,c=(n+i)*l,p=(o+r)*u;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-h,s[1]=0,s[5]=2*l,s[9]=0,s[13]=-c,s[2]=0,s[6]=0,s[10]=-2*u,s[14]=-p,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,i=0;16>i;i++)if(e[i]!==n[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;16>n;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}),Object.assign(r,{slerp:function(t,e,n,i){return n.copy(t).slerp(e,i)},slerpFlat:function(t,e,n,i,r,o,s){var a=n[i+0],l=n[i+1],u=n[i+2],h=n[i+3],c=r[o+0],p=r[o+1],d=r[o+2],f=r[o+3];if(h!==f||a!==c||l!==p||u!==d){var m=1-s,g=a*c+l*p+u*d+h*f,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var _=Math.sqrt(y),A=Math.atan2(_,g*v);m=Math.sin(m*A)/_,s=Math.sin(s*A)/_}var b=s*v;if(a=a*m+c*b,l=l*m+p*b,u=u*m+d*b,h=h*m+f*b,m===1-s){var x=1/Math.sqrt(a*a+l*l+u*u+h*h);a*=x,l*=x,u*=x,h*=x}}t[e]=a,t[e+1]=l,t[e+2]=u,t[e+3]=h}}),Object.defineProperties(r.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(r.prototype,{set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,i=t._y,r=t._z,o=t.order,s=Math.cos,a=Math.sin,l=s(n/2),u=s(i/2),h=s(r/2),c=a(n/2),p=a(i/2),d=a(r/2);return"XYZ"===o?(this._x=c*u*h+l*p*d,this._y=l*p*h-c*u*d,this._z=l*u*d+c*p*h,this._w=l*u*h-c*p*d):"YXZ"===o?(this._x=c*u*h+l*p*d,this._y=l*p*h-c*u*d,this._z=l*u*d-c*p*h,this._w=l*u*h+c*p*d):"ZXY"===o?(this._x=c*u*h-l*p*d,this._y=l*p*h+c*u*d,this._z=l*u*d+c*p*h,this._w=l*u*h-c*p*d):"ZYX"===o?(this._x=c*u*h-l*p*d,this._y=l*p*h+c*u*d,this._z=l*u*d-c*p*h,this._w=l*u*h+c*p*d):"YZX"===o?(this._x=c*u*h+l*p*d,this._y=l*p*h+c*u*d,this._z=l*u*d-c*p*h,this._w=l*u*h-c*p*d):"XZY"===o&&(this._x=c*u*h-l*p*d,this._y=l*p*h-c*u*d,this._z=l*u*d+c*p*h,this._w=l*u*h+c*p*d),e!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,i=n[0],r=n[4],o=n[8],s=n[1],a=n[5],l=n[9],u=n[2],h=n[6],c=n[10],p=i+a+c;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(h-l)*e,this._y=(o-u)*e,this._z=(s-r)*e):i>a&&i>c?(e=2*Math.sqrt(1+i-a-c),this._w=(h-l)/e,this._x=.25*e,this._y=(r+s)/e,this._z=(o+u)/e):a>c?(e=2*Math.sqrt(1+a-i-c),this._w=(o-u)/e,this._x=(r+s)/e,this._y=.25*e,this._z=(l+h)/e):(e=2*Math.sqrt(1+c-i-a),this._w=(s-r)/e,this._x=(o+u)/e,this._y=(l+h)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e=new o,n=1e-6;return function(i,r){return void 0===e&&(e=new o),t=i.dot(r)+1,n>t?(t=0,Math.abs(i.x)>Math.abs(i.z)?e.set(-i.y,i.x,0):e.set(0,-i.z,i.y)):e.crossVectors(i,r),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,i=t._y,r=t._z,o=t._w,s=e._x,a=e._y,l=e._z,u=e._w;return this._x=n*u+o*s+i*l-r*a,this._y=i*u+o*a+r*s-n*l,this._z=r*u+o*l+n*a-i*s,this._w=o*u-n*s-i*a-r*l,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,o=this._w,s=o*t._w+n*t._x+i*t._y+r*t._z;if(0>s?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;var a=Math.sqrt(1-s*s);if(Math.abs(a)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(i+this._y),this._z=.5*(r+this._z),this;var l=Math.atan2(a,s),u=Math.sin((1-e)*l)/a,h=Math.sin(e*l)/a;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=i*u+this._y*h,
this._z=r*u+this._z*h,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(o.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t=new r;return function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t=new r;return function(e,n){return this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,o=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*o,this},applyQuaternion:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,o=t.y,s=t.z,a=t.w,l=a*e+o*i-s*n,u=a*n+s*e-r*i,h=a*i+r*n-o*e,c=-r*e-o*n-s*i;return this.x=l*a+c*-r+u*-s-h*-o,this.y=u*a+c*-o+h*-r-l*-s,this.z=h*a+c*-s+l*-o-u*-r,this},project:function(){var t=new i;return function(e){return t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t=new i;return function(e){return t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new o,e=new o;return function(n,i){return t.set(n,n,n),e.set(i,i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var n=t.x,i=t.y,r=t.z,o=e.x,s=e.y,a=e.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new o;return function(e){return t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t=new o;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Ra.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(s.prototype,{isMatrix3:!0,set:function(t,e,n,i,r,o,s,a,l){var u=this.elements;return u[0]=t,u[1]=i,u[2]=s,u[3]=e,u[4]=r,u[5]=a,u[6]=n,u[7]=o,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new o;return function(e){for(var n=0,i=e.count;i>n;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix3(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,i=e.elements,r=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],u=n[4],h=n[7],c=n[2],p=n[5],d=n[8],f=i[0],m=i[3],g=i[6],v=i[1],y=i[4],_=i[7],A=i[2],b=i[5],x=i[8];return r[0]=o*f+s*v+a*A,r[3]=o*m+s*y+a*b,r[6]=o*g+s*_+a*x,r[1]=l*f+u*v+h*A,r[4]=l*m+u*y+h*b,r[7]=l*g+u*_+h*x,r[2]=c*f+p*v+d*A,r[5]=c*m+p*y+d*b,r[8]=c*g+p*_+d*x,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],l=t[7],u=t[8];return e*o*u-e*s*l-n*r*u+n*s*a+i*r*l-i*o*a},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=t.elements,i=this.elements,r=n[0],o=n[1],s=n[2],a=n[3],l=n[4],u=n[5],h=n[6],c=n[7],p=n[8],d=p*l-u*c,f=u*h-p*a,m=c*a-l*h,g=r*d+o*f+s*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(e===!0)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return i[0]=d*y,i[1]=(s*c-p*o)*y,i[2]=(u*o-s*l)*y,i[3]=f*y,i[4]=(p*r-s*h)*y,i[5]=(s*a-u*r)*y,i[6]=m*y,i[7]=(o*h-c*r)*y,i[8]=(l*r-o*a)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,n,i,r,o,s){var a=Math.cos(r),l=Math.sin(r);this.set(n*a,n*l,-n*(a*o+l*s)+o+t,-i*l,i*a,-i*(-l*o+a*s)+s+e,0,0,1)},scale:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],o=i[3],s=i[6],a=i[1],l=i[4],u=i[7];return i[0]=e*r+n*a,i[3]=e*o+n*l,i[6]=e*s+n*u,i[1]=-n*r+e*a,i[4]=-n*o+e*l,i[7]=-n*s+e*u,this},translate:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this},equals:function(t){for(var e=this.elements,n=t.elements,i=0;9>i;i++)if(e[i]!==n[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;9>n;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}});var Oa=0;a.DEFAULT_IMAGE=void 0,a.DEFAULT_MAPPING=gs,Object.defineProperty(a.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Object.assign(a.prototype,e.prototype,{constructor:a,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){function e(t){var e;if(t instanceof HTMLCanvasElement)e=t;else{e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e.width=t.width,e.height=t.height;var n=e.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height)}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}var n=void 0===t||"string"==typeof t;if(!n&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var r=this.image;void 0===r.uuid&&(r.uuid=Ra.generateUUID()),n||void 0!==t.images[r.uuid]||(t.images[r.uuid]={uuid:r.uuid,url:e(r)}),i.image=r.uuid}return n||(t.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===gs){if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Ts:t.x=t.x-Math.floor(t.x);break;case Es:t.x=t.x<0?0:1;break;case Ss:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case Ts:t.y=t.y-Math.floor(t.y);break;case Es:t.y=t.y<0?0:1;break;case Ss:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}}),Object.assign(l.prototype,{isVector4:!0,set:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*e+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*e+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*e+o[7]*n+o[11]*i+o[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return 1e-4>e?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,i,r,o=.01,s=.1,a=t.elements,l=a[0],u=a[4],h=a[8],c=a[1],p=a[5],d=a[9],f=a[2],m=a[6],g=a[10];if(Math.abs(u-c)<o&&Math.abs(h-f)<o&&Math.abs(d-m)<o){if(Math.abs(u+c)<s&&Math.abs(h+f)<s&&Math.abs(d+m)<s&&Math.abs(l+p+g-3)<s)return this.set(1,0,0,0),this;e=Math.PI;var v=(l+1)/2,y=(p+1)/2,_=(g+1)/2,A=(u+c)/4,b=(h+f)/4,x=(d+m)/4;return v>y&&v>_?o>v?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(v),i=A/n,r=b/n):y>_?o>y?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(y),n=A/i,r=x/i):o>_?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(_),n=b/r,i=x/r),this.set(n,i,r,e),this}var w=Math.sqrt((m-d)*(m-d)+(h-f)*(h-f)+(c-u)*(c-u));return Math.abs(w)<.001&&(w=1),this.x=(m-d)/w,this.y=(h-f)/w,this.z=(c-u)/w,this.w=Math.acos((l+p+g-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,i){return void 0===t&&(t=new l,e=new l),t.set(n,n,n,n),e.set(i,i,i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),Object.assign(u.prototype,e.prototype,{isWebGLRenderTarget:!0,setSize:function(t,e){(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),h.prototype=Object.create(u.prototype),h.prototype.constructor=h,h.prototype.isWebGLRenderTargetCube=!0,c.prototype=Object.create(a.prototype),c.prototype.constructor=c,c.prototype.isDataTexture=!0,p.prototype=Object.create(a.prototype),p.prototype.constructor=p,p.prototype.isCubeTexture=!0,Object.defineProperty(p.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var La=new a,Na=new p,Ia=[],ka=[],Da=new Float32Array(16),Fa=new Float32Array(9);z.prototype.setValue=function(t,e){for(var n=this.seq,i=0,r=n.length;i!==r;++i){var o=n[i];o.setValue(t,e[o.id])}};var Ba=/([\w\d_]+)(\])?(\[|\.)?/g;W.prototype.setValue=function(t,e,n){var i=this.map[e];void 0!==i&&i.setValue(t,n,this.renderer)},W.prototype.setOptional=function(t,e,n){var i=e[n];void 0!==i&&this.setValue(t,n,i)},W.upload=function(t,e,n,i){for(var r=0,o=e.length;r!==o;++r){var s=e[r],a=n[s.id];a.needsUpdate!==!1&&s.setValue(t,a.value,i)}},W.seqWithValue=function(t,e){for(var n=[],i=0,r=t.length;i!==r;++i){var o=t[i];o.id in e&&n.push(o)}return n};var Ua={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(X.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+6*(e-t)*(2/3-n):t}return function(e,n,i){if(e=Ra.euclideanModulo(e,1),n=Ra.clamp(n,0,1),i=Ra.clamp(i,0,1),0===n)this.r=this.g=this.b=i;else{var r=.5>=i?i*(1+n):i+n-i*n,o=2*i-r;this.r=t(o,r,e+1/3),this.g=t(o,r,e),this.b=t(o,r,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var i,r=n[1],o=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,e(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,e(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var s=parseFloat(i[1])/360,a=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return e(i[5]),this.setHSL(s,a,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var u=n[1],h=u.length;if(3===h)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}if(t&&t.length>0){var u=Ua[t];void 0!==u?this.setHex(u):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,n,i=t||{h:0,s:0,l:0},r=this.r,o=this.g,s=this.b,a=Math.max(r,o,s),l=Math.min(r,o,s),u=(l+a)/2;if(l===a)e=0,n=0;else{var h=a-l;switch(n=.5>=u?h/(a+l):h/(2-a-l),a){case r:e=(o-s)/h+(s>o?6:0);break;case o:e=(s-r)/h+2;break;case s:e=(r-o)/h+4}e/=6}return i.h=e,i.s=n,i.l=u,i},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var i=this.getHSL();return i.h+=t,i.s+=e,i.l+=n,this.setHSL(i.h,i.s,i.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var Va={common:{diffuse:{value:new X(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new s},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new n(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new X(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new X(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new s}}},Ga={merge:function(t){for(var e={},n=0;n<t.length;n++){var i=this.clone(t[n]);for(var r in i)e[r]=i[r]}return e},clone:function(t){var e={};for(var n in t){e[n]={};for(var i in t[n]){var r=t[n][i];e[n][i]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?r.clone():Array.isArray(r)?r.slice():r}}return e}},Ha="#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",za="#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif\n",ja="#ifdef ALPHATEST\n	if ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",qa="#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n	#endif\n#endif\n",Wa="#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif",Xa="\nvec3 transformed = vec3( position );\n",Ka="\nvec3 objectNormal = vec3( normal );\n",Ya="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n	if( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n		float maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n		return distanceFalloff * maxDistanceCutoffFactor;\n#else\n		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n	}\n	return 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n	return ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	return 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n	float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n	float dotNH = saturate( dot( geometry.normal, halfDir ) );\n	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n	vec3 F = F_Schlick( specularColor, dotLH );\n	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n	float D = D_GGX( alpha, dotNH );\n	return F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n	const float LUT_SIZE  = 64.0;\n	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n	const float LUT_BIAS  = 0.5 / LUT_SIZE;\n	float theta = acos( dot( N, V ) );\n	vec2 uv = vec2(\n		sqrt( saturate( roughness ) ),\n		saturate( theta / ( 0.5 * PI ) ) );\n	uv = uv * LUT_SCALE + LUT_BIAS;\n	return uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n	float l = length( f );\n	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n	float x = dot( v1, v2 );\n	float y = abs( x );\n	float a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n	float b = 3.45068 + (4.18814 + y) * y;\n	float v = a / b;\n	float theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n	return cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n	vec3 lightNormal = cross( v1, v2 );\n	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n	vec3 T1, T2;\n	T1 = normalize( V - N * dot( V, N ) );\n	T2 = - cross( N, T1 );\n	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n	vec3 coords[ 4 ];\n	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n	coords[ 0 ] = normalize( coords[ 0 ] );\n	coords[ 1 ] = normalize( coords[ 1 ] );\n	coords[ 2 ] = normalize( coords[ 2 ] );\n	coords[ 3 ] = normalize( coords[ 3 ] );\n	vec3 vectorFormFactor = vec3( 0.0 );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n	vec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n	return result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n	vec4 r = roughness * c0 + c1;\n	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n	vec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n	return specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n	float dotNH = saturate( dot( geometry.normal, halfDir ) );\n	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n	vec3 F = F_Schlick( specularColor, dotLH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",Za="#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vUv );\n		vec2 dSTdy = dFdy( vUv );\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 );\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif\n",Qa="#if NUM_CLIPPING_PLANES > 0\n	for ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n		vec4 plane = clippingPlanes[ i ];\n		if ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n	}\n		\n	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n		bool clipped = true;\n		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n			vec4 plane = clippingPlanes[ i ];\n			clipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n		}\n		if ( clipped ) discard;\n	\n	#endif\n#endif\n",Ja="#if NUM_CLIPPING_PLANES > 0\n	#if ! defined( PHYSICAL ) && ! defined( PHONG )\n		varying vec3 vViewPosition;\n	#endif\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",$a="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n	varying vec3 vViewPosition;\n#endif\n",tl="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n	vViewPosition = - mvPosition.xyz;\n#endif\n",el="#ifdef USE_COLOR\n	diffuseColor.rgb *= vColor;\n#endif",nl="#ifdef USE_COLOR\n	varying vec3 vColor;\n#endif\n",il="#ifdef USE_COLOR\n	varying vec3 vColor;\n#endif",rl="#ifdef USE_COLOR\n	vColor.xyz = color.xyz;\n#endif",ol="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract(sin(sn) * c);\n}\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\nstruct GeometricContext {\n	vec3 position;\n	vec3 normal;\n	vec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	float distance = dot( planeNormal, point - pointOnPlane );\n	return - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	return sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n	mat3 tmp;\n	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n	return tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n	return dot( weights, color.rgb );\n}\n",sl="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n	vec3 absDirection = abs(direction);\n	int face = -1;\n	if( absDirection.x > absDirection.z ) {\n		if(absDirection.x > absDirection.y )\n			face = direction.x > 0.0 ? 0 : 3;\n		else\n			face = direction.y > 0.0 ? 1 : 4;\n	}\n	else {\n		if(absDirection.z > absDirection.y )\n			face = direction.z > 0.0 ? 2 : 5;\n		else\n			face = direction.y > 0.0 ? 1 : 4;\n	}\n	return face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n	float scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n	float dxRoughness = dFdx(roughness);\n	float dyRoughness = dFdy(roughness);\n	vec3 dx = dFdx( vec * scale * dxRoughness );\n	vec3 dy = dFdy( vec * scale * dyRoughness );\n	float d = max( dot( dx, dx ), dot( dy, dy ) );\n	d = clamp(d, 1.0, cubeUV_rangeClamp);\n	float mipLevel = 0.5 * log2(d);\n	return vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n	mipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n	float a = 16.0 * cubeUV_rcpTextureSize;\n	vec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n	vec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n	float powScale = exp2_packed.x * exp2_packed.y;\n	float scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n	float mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n	bool bRes = mipLevel == 0.0;\n	scale =  bRes && (scale < a) ? a : scale;\n	vec3 r;\n	vec2 offset;\n	int face = getFaceFromDirection(direction);\n	float rcpPowScale = 1.0 / powScale;\n	if( face == 0) {\n		r = vec3(direction.x, -direction.z, direction.y);\n		offset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n	}\n	else if( face == 1) {\n		r = vec3(direction.y, direction.x, direction.z);\n		offset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n	}\n	else if( face == 2) {\n		r = vec3(direction.z, direction.x, direction.y);\n		offset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n	}\n	else if( face == 3) {\n		r = vec3(direction.x, direction.z, direction.y);\n		offset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n	}\n	else if( face == 4) {\n		r = vec3(direction.y, direction.x, -direction.z);\n		offset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n	}\n	else {\n		r = vec3(direction.z, -direction.x, direction.y);\n		offset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n	}\n	r = normalize(r);\n	float texelOffset = 0.5 * cubeUV_rcpTextureSize;\n	vec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n	vec2 base = offset + vec2( texelOffset );\n	return base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n	float roughnessVal = roughness* cubeUV_maxLods3;\n	float r1 = floor(roughnessVal);\n	float r2 = r1 + 1.0;\n	float t = fract(roughnessVal);\n	vec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n	float s = mipInfo.y;\n	float level0 = mipInfo.x;\n	float level1 = level0 + 1.0;\n	level1 = level1 > 5.0 ? 5.0 : level1;\n	level0 += min( floor( s + 0.5 ), 5.0 );\n	vec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n	vec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n	vec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n	vec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n	vec4 result = mix(color10, color20, t);\n	return vec4(result.rgb, 1.0);\n}\n#endif\n",al="vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n	transformedNormal = - transformedNormal;\n#endif\n",ll="#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif\n",ul="#ifdef USE_DISPLACEMENTMAP\n	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",hl="#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vUv );\n	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",cl="#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif\n",pl="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",dl="\nvec4 LinearToLinear( in vec4 value ) {\n	return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n	return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n	return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n	float maxComponent = max( max( value.r, value.g ), value.b );\n	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n	return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n	float maxRGB = max( value.x, max( value.g, value.b ) );\n	float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n	M            = ceil( M * 255.0 ) / 255.0;\n	return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n	float maxRGB = max( value.x, max( value.g, value.b ) );\n	float D      = max( maxRange / maxRGB, 1.0 );\n	D            = min( floor( D ) / 255.0, 1.0 );\n	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n	vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n	Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n	vec4 vResult;\n	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n	vResult.w = fract(Le);\n	vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n	return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n	float Le = value.z * 255.0 + value.w;\n	vec3 Xp_Y_XYZp;\n	Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n	vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n	return vec4( max(vRGB, 0.0), 1.0 );\n}\n",fl="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToVertex, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#elif defined( ENVMAP_TYPE_EQUIREC )\n		vec2 sampleUV;\n		reflectVec = normalize( reflectVec );\n		sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n		sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n		vec4 envColor = texture2D( envMap, sampleUV );\n	#elif defined( ENVMAP_TYPE_SPHERE )\n		reflectVec = normalize( reflectVec );\n		vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n	#else\n		vec4 envColor = vec4( 0.0 );\n	#endif\n	envColor = envMapTexelToLinear( envColor );\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif\n",ml="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n	uniform float reflectivity;\n	uniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n	#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n		varying vec3 vWorldPosition;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	uniform float flipEnvMap;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif\n",gl="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif\n",vl="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif\n",yl="\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",_l="#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",Al="#ifdef USE_FOG\n	#ifdef FOG_EXP2\n		float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",bl="#ifdef USE_FOG\n	uniform vec3 fogColor;\n	varying float fogDepth;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif\n",xl="#ifdef TOON\n	uniform sampler2D gradientMap;\n	vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n		float dotNL = dot( normal, lightDirection );\n		vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n		#ifdef USE_GRADIENTMAP\n			return texture2D( gradientMap, coord ).rgb;\n		#else\n			return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n		#endif\n	}\n#endif\n",wl="#ifdef USE_LIGHTMAP\n	reflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",Tl="#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif",El="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n	vLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_DIR_LIGHTS > 0\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n		vLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n		#ifdef DOUBLE_SIDED\n			vLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n		#endif\n	}\n#endif\n",Sl="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	#ifndef PHYSICALLY_CORRECT_LIGHTS\n		irradiance *= PI;\n	#endif\n	return irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n		directLight.color = directionalLight.color;\n		directLight.direction = directionalLight.direction;\n		directLight.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n		float shadowCameraNear;\n		float shadowCameraFar;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n		vec3 lVector = pointLight.position - geometry.position;\n		directLight.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		directLight.color = pointLight.color;\n		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n		directLight.visible = ( directLight.color != vec3( 0.0 ) );\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n		vec3 lVector = spotLight.position - geometry.position;\n		directLight.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		float angleCos = dot( directLight.direction, spotLight.direction );\n		if ( angleCos > spotLight.coneCos ) {\n			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n			directLight.color = spotLight.color;\n			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n			directLight.visible = true;\n		} else {\n			directLight.color = vec3( 0.0 );\n			directLight.visible = false;\n		}\n	}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n	struct RectAreaLight {\n		vec3 color;\n		vec3 position;\n		vec3 halfWidth;\n		vec3 halfHeight;\n	};\n	uniform sampler2D ltcMat;	uniform sampler2D ltcMag;\n	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n		float dotNL = dot( geometry.normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		#ifndef PHYSICALLY_CORRECT_LIGHTS\n			irradiance *= PI;\n		#endif\n		return irradiance;\n	}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n		#ifdef ENVMAP_TYPE_CUBE\n			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n			#else\n				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#elif defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n			vec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n		#else\n			vec4 envMapColor = vec4( 0.0 );\n		#endif\n		return PI * envMapColor.rgb * envMapIntensity;\n	}\n	float getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n		float maxMIPLevelScalar = float( maxMIPLevel );\n		float desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n	}\n	vec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n		#else\n			vec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n		#endif\n		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n		float specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n		#ifdef ENVMAP_TYPE_CUBE\n			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n			#else\n				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#elif defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n			vec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n		#elif defined( ENVMAP_TYPE_EQUIREC )\n			vec2 sampleUV;\n			sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n			sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n			#else\n				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#elif defined( ENVMAP_TYPE_SPHERE )\n			vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n			#else\n				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n			#endif\n			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n		#endif\n		return envMapColor.rgb * envMapIntensity;\n	}\n#endif\n",Ml="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",Cl="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n	vec3	diffuseColor;\n	vec3	specularColor;\n	float	specularShininess;\n	float	specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	#ifdef TOON\n		vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n	#else\n		float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n		vec3 irradiance = dotNL * directLight.color;\n	#endif\n	#ifndef PHYSICALLY_CORRECT_LIGHTS\n		irradiance *= PI;\n	#endif\n	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )	(0)\n",Pl="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n	material.clearCoat = saturate( clearCoat );	material.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",Rl="struct PhysicalMaterial {\n	vec3	diffuseColor;\n	float	specularRoughness;\n	vec3	specularColor;\n	#ifndef STANDARD\n		float clearCoat;\n		float clearCoatRoughness;\n	#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n		vec3 normal = geometry.normal;\n		vec3 viewDir = geometry.viewDir;\n		vec3 position = geometry.position;\n		vec3 lightPos = rectAreaLight.position;\n		vec3 halfWidth = rectAreaLight.halfWidth;\n		vec3 halfHeight = rectAreaLight.halfHeight;\n		vec3 lightColor = rectAreaLight.color;\n		float roughness = material.specularRoughness;\n		vec3 rectCoords[ 4 ];\n		rectCoords[ 0 ] = lightPos - halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n		rectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n		rectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n		vec2 uv = LTC_Uv( normal, viewDir, roughness );\n		float norm = texture2D( ltcMag, uv ).a;\n		vec4 t = texture2D( ltcMat, uv );\n		mat3 mInv = mat3(\n			vec3(   1,   0, t.y ),\n			vec3(   0, t.z,   0 ),\n			vec3( t.w,   0, t.x )\n		);\n		reflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n	}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifndef PHYSICALLY_CORRECT_LIGHTS\n		irradiance *= PI;\n	#endif\n	#ifndef STANDARD\n		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n	#else\n		float clearCoatDHR = 0.0;\n	#endif\n	reflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n	reflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n	#ifndef STANDARD\n		reflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n	#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	#ifndef STANDARD\n		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n		float dotNL = dotNV;\n		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n	#else\n		float clearCoatDHR = 0.0;\n	#endif\n	reflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n	#ifndef STANDARD\n		reflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n	#endif\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_Direct_RectArea		RE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",Ol="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointDirectLightIrradiance( pointLight, geometry, directLight );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotDirectLightIrradiance( spotLight, geometry, directLight );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n	RectAreaLight rectAreaLight;\n	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n		rectAreaLight = rectAreaLights[ i ];\n		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n	}\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	#ifdef USE_LIGHTMAP\n		vec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n		#ifndef PHYSICALLY_CORRECT_LIGHTS\n			lightMapIrradiance *= PI;\n		#endif\n		irradiance += lightMapIrradiance;\n	#endif\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n		}\n	#endif\n	#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n		irradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n	#endif\n	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	vec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n	#ifndef STANDARD\n		vec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n	#else\n		vec3 clearCoatRadiance = vec3( 0.0 );\n	#endif\n	RE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",Ll="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	gl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",Nl="#ifdef USE_LOGDEPTHBUF\n	uniform float logDepthBufFC;\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n	#endif\n#endif\n",Il="#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n	#endif\n	uniform float logDepthBufFC;\n#endif",kl="#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		vFragDepth = 1.0 + gl_Position.w;\n	#else\n		gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n		gl_Position.z *= gl_Position.w;\n	#endif\n#endif\n",Dl="#ifdef USE_MAP\n	vec4 texelColor = texture2D( map, vUv );\n	texelColor = mapTexelToLinear( texelColor );\n	diffuseColor *= texelColor;\n#endif\n",Fl="#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n",Bl="#ifdef USE_MAP\n	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n	vec4 mapTexel = texture2D( map, uv );\n	diffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",Ul="#ifdef USE_MAP\n	uniform mat3 uvTransform;\n	uniform sampler2D map;\n#endif\n",Vl="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vUv );\n	metalnessFactor *= texelMetalness.b;\n#endif\n",Gl="#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif",Hl="#ifdef USE_MORPHNORMALS\n	objectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n	objectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n	objectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n	objectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",zl="#ifdef USE_MORPHTARGETS\n	#ifndef USE_MORPHNORMALS\n	uniform float morphTargetInfluences[ 8 ];\n	#else\n	uniform float morphTargetInfluences[ 4 ];\n	#endif\n#endif",jl="#ifdef USE_MORPHTARGETS\n	transformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n	transformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n	transformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n	transformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n	#ifndef USE_MORPHNORMALS\n	transformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n	transformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n	transformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n	transformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n	#endif\n#endif\n",ql="#ifdef FLAT_SHADED\n	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n	#endif\n#endif\n#ifdef USE_NORMALMAP\n	normal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",Wl="#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n		vec2 st0 = dFdx( vUv.st );\n		vec2 st1 = dFdy( vUv.st );\n		vec3 S = normalize( q0 * st1.t - q1 * st0.t );\n		vec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n		vec3 N = normalize( surf_norm );\n		vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n		mapN.xy = normalScale * mapN.xy;\n		mat3 tsn = mat3( S, T, N );\n		return normalize( tsn * mapN );\n	}\n#endif\n",Xl="vec3 packNormalToRGB( const in vec3 normal ) {\n	return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n	return 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n	vec4 r = vec4( fract( v * PackFactors ), v );\n	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n	return dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n	return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n	return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",Kl="#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",Yl="vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",Zl="#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",Ql="#if defined( DITHERING )\n	vec3 dithering( vec3 color ) {\n		float grid_position = rand( gl_FragCoord.xy );\n		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n		return color + dither_shift_RGB;\n	}\n#endif\n",Jl="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vUv );\n	roughnessFactor *= texelRoughness.g;\n#endif\n",$l="#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif",tu="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n	#endif\n	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n	}\n	float texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n		const vec2 offset = vec2( 0.0, 1.0 );\n		vec2 texelSize = vec2( 1.0 ) / size;\n		vec2 centroidUV = floor( uv * size + 0.5 ) / size;\n		float lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n		float lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n		float rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n		float rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n		vec2 f = fract( uv * size + 0.5 );\n		float a = mix( lb, lt, f.y );\n		float b = mix( rb, rt, f.y );\n		float c = mix( a, b, f.x );\n		return c;\n	}\n	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n		float shadow = 1.0;\n		shadowCoord.xyz /= shadowCoord.w;\n		shadowCoord.z += shadowBias;\n		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n		bool inFrustum = all( inFrustumVec );\n		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n		bool frustumTest = all( frustumTestVec );\n		if ( frustumTest ) {\n		#if defined( SHADOWMAP_TYPE_PCF )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			shadow = (\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 9.0 );\n		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			shadow = (\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 9.0 );\n		#else\n			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#endif\n		}\n		return shadow;\n	}\n	vec2 cubeToUV( vec3 v, float texelSizeY ) {\n		vec3 absV = abs( v );\n		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n		absV *= scaleToCube;\n		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n		vec2 planar = v.xy;\n		float almostATexel = 1.5 * texelSizeY;\n		float almostOne = 1.0 - almostATexel;\n		if ( absV.z >= almostOne ) {\n			if ( v.z > 0.0 )\n				planar.x = 4.0 - v.x;\n		} else if ( absV.x >= almostOne ) {\n			float signX = sign( v.x );\n			planar.x = v.z * signX + 2.0 * signX;\n		} else if ( absV.y >= almostOne ) {\n			float signY = sign( v.y );\n			planar.x = v.x + 2.0 * signY + 2.0;\n			planar.y = v.z * signY - 2.0;\n		}\n		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n	}\n	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n		vec3 lightToPosition = shadowCoord.xyz;\n		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;\n		vec3 bd3D = normalize( lightToPosition );\n		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n			return (\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n			) * ( 1.0 / 9.0 );\n		#else\n			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n		#endif\n	}\n#endif\n",eu="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n	#endif\n#endif\n",nu="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n#endif\n",iu="float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n	DirectionalLight directionalLight;\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		shadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n	SpotLight spotLight;\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		shadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n	}\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n	PointLight pointLight;\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		shadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n	}\n	#endif\n	#endif\n	return shadow;\n}\n",ru="#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",ou="#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	#ifdef BONE_TEXTURE\n		uniform sampler2D boneTexture;\n		uniform int boneTextureSize;\n		mat4 getBoneMatrix( const in float i ) {\n			float j = i * 4.0;\n			float x = mod( j, float( boneTextureSize ) );\n			float y = floor( j / float( boneTextureSize ) );\n			float dx = 1.0 / float( boneTextureSize );\n			float dy = 1.0 / float( boneTextureSize );\n			y = dy * ( y + 0.5 );\n			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n			mat4 bone = mat4( v1, v2, v3, v4 );\n			return bone;\n		}\n	#else\n		uniform mat4 boneMatrices[ MAX_BONES ];\n		mat4 getBoneMatrix( const in float i ) {\n			mat4 bone = boneMatrices[ int(i) ];\n			return bone;\n		}\n	#endif\n#endif\n",su="#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	transformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",au="#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",lu="float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif",uu="#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif",hu="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",cu="#ifndef saturate\n	#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n	return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	color = max( vec3( 0.0 ), color - 0.004 );\n	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",pu="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	varying vec2 vUv;\n#endif",du="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	varying vec2 vUv;\n	uniform mat3 uvTransform;\n#endif\n",fu="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",mu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	varying vec2 vUv2;\n#endif",gu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	attribute vec2 uv2;\n	varying vec2 vUv2;\n#endif",vu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	vUv2 = uv2;\n#endif",yu="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n	vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",_u="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n	gl_FragColor.a *= opacity;\n}\n",Au="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n	vWorldPosition = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}\n",bu="#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <logdepthbuf_fragment>\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n	#endif\n}\n",xu="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n}\n",wu="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	float dist = length( vWorldPosition - referencePosition );\n	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n	dist = saturate( dist );\n	gl_FragColor = packDepthToRGBA( dist );\n}\n",Tu="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition.xyz;\n}\n",Eu="uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n	vec3 direction = normalize( vWorldPosition );\n	vec2 sampleUV;\n	sampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",Su="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n	vWorldPosition = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n}\n",Mu="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n",Cu="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <color_vertex>\n	vLineDistance = scale * lineDistance;\n	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}\n",Pu="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	#ifdef USE_LIGHTMAP\n		reflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n	#else\n		reflectedLight.indirectDiffuse += vec3( 1.0 );\n	#endif\n	#include <aomap_fragment>\n	reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n",Ru="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_ENVMAP\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	#include <envmap_vertex>\n	#include <fog_vertex>\n}\n",Ou="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n	varying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <emissivemap_fragment>\n	reflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n	#include <lightmap_fragment>\n	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n	#ifdef DOUBLE_SIDED\n		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n	#else\n		reflectedLight.directDiffuse = vLightFront;\n	#endif\n	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}\n",Lu="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n	varying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <lights_lambert_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}\n",Nu="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_template>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}\n",Iu="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}\n",ku="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n	uniform float clearCoat;\n	uniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_template>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}\n",Du="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <uv2_vertex>\n	#include <color_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}\n",Fu="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n	varying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n	#include <logdepthbuf_fragment>\n	#include <normal_fragment>\n	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",Bu="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n	varying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n	vViewPosition = - mvPosition.xyz;\n#endif\n}\n",Uu="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n	#include <premultiplied_alpha_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}\n",Vu="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <color_vertex>\n	#include <begin_vertex>\n	#include <project_vertex>\n	#ifdef USE_SIZEATTENUATION\n		gl_PointSize = size * ( scale / - mvPosition.z );\n	#else\n		gl_PointSize = size;\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}\n",Gu="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n	#include <fog_fragment>\n}\n",Hu="#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n	#include <begin_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}\n",zu={
alphamap_fragment:Ha,alphamap_pars_fragment:za,alphatest_fragment:ja,aomap_fragment:qa,aomap_pars_fragment:Wa,begin_vertex:Xa,beginnormal_vertex:Ka,bsdfs:Ya,bumpmap_pars_fragment:Za,clipping_planes_fragment:Qa,clipping_planes_pars_fragment:Ja,clipping_planes_pars_vertex:$a,clipping_planes_vertex:tl,color_fragment:el,color_pars_fragment:nl,color_pars_vertex:il,color_vertex:rl,common:ol,cube_uv_reflection_fragment:sl,defaultnormal_vertex:al,displacementmap_pars_vertex:ll,displacementmap_vertex:ul,emissivemap_fragment:hl,emissivemap_pars_fragment:cl,encodings_fragment:pl,encodings_pars_fragment:dl,envmap_fragment:fl,envmap_pars_fragment:ml,envmap_pars_vertex:gl,envmap_vertex:vl,fog_vertex:yl,fog_pars_vertex:_l,fog_fragment:Al,fog_pars_fragment:bl,gradientmap_pars_fragment:xl,lightmap_fragment:wl,lightmap_pars_fragment:Tl,lights_lambert_vertex:El,lights_pars:Sl,lights_phong_fragment:Ml,lights_phong_pars_fragment:Cl,lights_physical_fragment:Pl,lights_physical_pars_fragment:Rl,lights_template:Ol,logdepthbuf_fragment:Ll,logdepthbuf_pars_fragment:Nl,logdepthbuf_pars_vertex:Il,logdepthbuf_vertex:kl,map_fragment:Dl,map_pars_fragment:Fl,map_particle_fragment:Bl,map_particle_pars_fragment:Ul,metalnessmap_fragment:Vl,metalnessmap_pars_fragment:Gl,morphnormal_vertex:Hl,morphtarget_pars_vertex:zl,morphtarget_vertex:jl,normal_fragment:ql,normalmap_pars_fragment:Wl,packing:Xl,premultiplied_alpha_fragment:Kl,project_vertex:Yl,dithering_fragment:Zl,dithering_pars_fragment:Ql,roughnessmap_fragment:Jl,roughnessmap_pars_fragment:$l,shadowmap_pars_fragment:tu,shadowmap_pars_vertex:eu,shadowmap_vertex:nu,shadowmask_pars_fragment:iu,skinbase_vertex:ru,skinning_pars_vertex:ou,skinning_vertex:su,skinnormal_vertex:au,specularmap_fragment:lu,specularmap_pars_fragment:uu,tonemapping_fragment:hu,tonemapping_pars_fragment:cu,uv_pars_fragment:pu,uv_pars_vertex:du,uv_vertex:fu,uv2_pars_fragment:mu,uv2_pars_vertex:gu,uv2_vertex:vu,worldpos_vertex:yu,cube_frag:_u,cube_vert:Au,depth_frag:bu,depth_vert:xu,distanceRGBA_frag:wu,distanceRGBA_vert:Tu,equirect_frag:Eu,equirect_vert:Su,linedashed_frag:Mu,linedashed_vert:Cu,meshbasic_frag:Pu,meshbasic_vert:Ru,meshlambert_frag:Ou,meshlambert_vert:Lu,meshphong_frag:Nu,meshphong_vert:Iu,meshphysical_frag:ku,meshphysical_vert:Du,normal_frag:Fu,normal_vert:Bu,points_frag:Uu,points_vert:Vu,shadow_frag:Gu,shadow_vert:Hu},ju={basic:{uniforms:Ga.merge([Va.common,Va.specularmap,Va.envmap,Va.aomap,Va.lightmap,Va.fog]),vertexShader:zu.meshbasic_vert,fragmentShader:zu.meshbasic_frag},lambert:{uniforms:Ga.merge([Va.common,Va.specularmap,Va.envmap,Va.aomap,Va.lightmap,Va.emissivemap,Va.fog,Va.lights,{emissive:{value:new X(0)}}]),vertexShader:zu.meshlambert_vert,fragmentShader:zu.meshlambert_frag},phong:{uniforms:Ga.merge([Va.common,Va.specularmap,Va.envmap,Va.aomap,Va.lightmap,Va.emissivemap,Va.bumpmap,Va.normalmap,Va.displacementmap,Va.gradientmap,Va.fog,Va.lights,{emissive:{value:new X(0)},specular:{value:new X(1118481)},shininess:{value:30}}]),vertexShader:zu.meshphong_vert,fragmentShader:zu.meshphong_frag},standard:{uniforms:Ga.merge([Va.common,Va.envmap,Va.aomap,Va.lightmap,Va.emissivemap,Va.bumpmap,Va.normalmap,Va.displacementmap,Va.roughnessmap,Va.metalnessmap,Va.fog,Va.lights,{emissive:{value:new X(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:zu.meshphysical_vert,fragmentShader:zu.meshphysical_frag},points:{uniforms:Ga.merge([Va.points,Va.fog]),vertexShader:zu.points_vert,fragmentShader:zu.points_frag},dashed:{uniforms:Ga.merge([Va.common,Va.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:zu.linedashed_vert,fragmentShader:zu.linedashed_frag},depth:{uniforms:Ga.merge([Va.common,Va.displacementmap]),vertexShader:zu.depth_vert,fragmentShader:zu.depth_frag},normal:{uniforms:Ga.merge([Va.common,Va.bumpmap,Va.normalmap,Va.displacementmap,{opacity:{value:1}}]),vertexShader:zu.normal_vert,fragmentShader:zu.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:zu.cube_vert,fragmentShader:zu.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:zu.equirect_vert,fragmentShader:zu.equirect_frag},distanceRGBA:{uniforms:Ga.merge([Va.common,Va.displacementmap,{referencePosition:{value:new o},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:zu.distanceRGBA_vert,fragmentShader:zu.distanceRGBA_frag},shadow:{uniforms:Ga.merge([Va.lights,Va.fog,{color:{value:new X(0)},opacity:{value:1}}]),vertexShader:zu.shadow_vert,fragmentShader:zu.shadow_frag}};ju.physical={uniforms:Ga.merge([ju.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:zu.meshphysical_vert,fragmentShader:zu.meshphysical_frag},Object.assign(K.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;n>e;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new n;return function(e,n){var i=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=+(1/0),this.max.x=this.max.y=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new n;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new n;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y?!1:!0},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){var i=e||new n;return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y?!1:!0},clampPoint:function(t,e){var i=e||new n;return i.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new n;return function(e){var n=t.copy(e).clamp(this.min,this.max);return n.sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Z.prototype=Object.create(a.prototype),Z.prototype.constructor=Z;var qu=0;Object.assign(J.prototype,e.prototype,{isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]="overdraw"===e?Number(n):n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===Mo?!0:!1;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){function e(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}var n=void 0===t||"string"==typeof t;n&&(t={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==No&&(i.blending=this.blending),this.flatShading===!0&&(i.flatShading=this.flatShading),this.side!==To&&(i.side=this.side),this.vertexColors!==Po&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(i.morphTargets=!0),this.skinning===!0&&(i.skinning=!0),this.visible===!1&&(i.visible=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),n){var r=e(t.textures),o=e(t.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var i=e.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),$.prototype=Object.create(J.prototype),$.prototype.constructor=$,$.prototype.isMeshDepthMaterial=!0,$.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},tt.prototype=Object.create(J.prototype),tt.prototype.constructor=tt,tt.prototype.isMeshDistanceMaterial=!0,tt.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},Object.assign(et.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=+(1/0),n=+(1/0),i=+(1/0),r=-(1/0),o=-(1/0),s=-(1/0),a=0,l=t.length;l>a;a+=3){var u=t[a],h=t[a+1],c=t[a+2];e>u&&(e=u),n>h&&(n=h),i>c&&(i=c),u>r&&(r=u),h>o&&(o=h),c>s&&(s=c)}return this.min.set(e,n,i),this.max.set(r,o,s),this},setFromBufferAttribute:function(t){for(var e=+(1/0),n=+(1/0),i=+(1/0),r=-(1/0),o=-(1/0),s=-(1/0),a=0,l=t.count;l>a;a++){var u=t.getX(a),h=t.getY(a),c=t.getZ(a);e>u&&(e=u),n>h&&(n=h),i>c&&(i=c),u>r&&(r=u),h>o&&(o=h),c>s&&(s=c)}return this.min.set(e,n,i),this.max.set(r,o,s),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;n>e;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new o;return function(e,n){var i=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=+(1/0),this.max.x=this.max.y=this.max.z=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new o;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new o;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){function t(t){var o=t.geometry;if(void 0!==o)if(o.isGeometry){var s=o.vertices;for(n=0,i=s.length;i>n;n++)r.copy(s[n]),r.applyMatrix4(t.matrixWorld),e.expandByPoint(r)}else if(o.isBufferGeometry){var a=o.attributes.position;if(void 0!==a)for(n=0,i=a.count;i>n;n++)r.fromBufferAttribute(a,n).applyMatrix4(t.matrixWorld),e.expandByPoint(r)}}var e,n,i,r=new o;return function(n){return e=this,n.updateMatrixWorld(!0),n.traverse(t),this}}(),containsPoint:function(t){return t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z?!1:!0},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){var n=e||new o;return n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z?!1:!0},intersectsSphere:function(){var t=new o;return function(e){return this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){var n=e||new o;return n.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new o;return function(e){var n=t.copy(e).clamp(this.min,this.max);return n.sub(e).length()}}(),getBoundingSphere:function(){var t=new o;return function(e){var n=e||new nt;return this.getCenter(n.center),n.radius=.5*this.getSize(t).length(),n}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new o,new o,new o,new o,new o,new o,new o,new o];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(nt.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new et;return function(e,n){var i=this.center;void 0!==n?i.copy(n):t.setFromPoints(e).getCenter(i);for(var r=0,o=0,s=e.length;s>o;o++)r=Math.max(r,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),i=e||new o;return i.copy(t),n>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i},getBoundingBox:function(t){var e=t||new et;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(it.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new o,e=new o;return function(n,i,r){var o=t.subVectors(r,i).cross(e.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){var n=e||new o;return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new o;return function(e,n){var i=n||new o,r=e.delta(t),s=this.normal.dot(r);if(0===s)return 0===this.distanceToPoint(e.start)?i.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/s;return 0>a||a>1?void 0:i.copy(r).multiplyScalar(a).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return 0>e&&n>0||0>n&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){var e=t||new o;return e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new o,e=new s;return function(n,i){var r=i||e.getNormalMatrix(n),o=this.coplanarPoint(t).applyMatrix4(n),s=this.normal.applyMatrix3(r).normalize();return this.constant=-o.dot(s),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(rt.prototype,{set:function(t,e,n,i,r,o){var s=this.planes;return s[0].copy(t),s[1].copy(e),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;6>n;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=n[5],u=n[6],h=n[7],c=n[8],p=n[9],d=n[10],f=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return e[0].setComponents(s-i,h-a,f-c,y-m).normalize(),e[1].setComponents(s+i,h+a,f+c,y+m).normalize(),e[2].setComponents(s+r,h+l,f+p,y+g).normalize(),e[3].setComponents(s-r,h-l,f-p,y-g).normalize(),e[4].setComponents(s-o,h-u,f-d,y-v).normalize(),e[5].setComponents(s+o,h+u,f+d,y+v).normalize(),this},intersectsObject:function(){var t=new nt;return function(e){var n=e.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new nt;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,i=-t.radius,r=0;6>r;r++){var o=e[r].distanceToPoint(n);if(i>o)return!1}return!0},intersectsBox:function(){var t=new o,e=new o;return function(n){for(var i=this.planes,r=0;6>r;r++){var o=i[r];t.x=o.normal.x>0?n.min.x:n.max.x,e.x=o.normal.x>0?n.max.x:n.min.x,t.y=o.normal.y>0?n.min.y:n.max.y,e.y=o.normal.y>0?n.max.y:n.min.y,t.z=o.normal.z>0?n.min.z:n.max.z,e.z=o.normal.z>0?n.max.z:n.min.z;var s=o.distanceToPoint(t),a=o.distanceToPoint(e);if(0>s&&0>a)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;6>n;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}),at.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],at.DefaultOrder="XYZ",Object.defineProperties(at.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(at.prototype,{isEuler:!0,set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var i=Ra.clamp,r=t.elements,o=r[0],s=r[4],a=r[8],l=r[1],u=r[5],h=r[9],c=r[2],p=r[6],d=r[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(p,u),this._z=0)):"YXZ"===e?(this._x=Math.asin(-i(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(a,d),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-c,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(i(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(l,o))):"ZYX"===e?(this._y=Math.asin(-i(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,u))):"YZX"===e?(this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-c,o)):(this._x=0,this._y=Math.atan2(a,d))):"XZY"===e?(this._z=Math.asin(-i(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-h,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,n!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new i;return function(e,n,i){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,i)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new r;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new o(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(lt.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!==(this.mask&t.mask)}});var Wu=0;ut.DefaultUp=new o(0,1,0),ut.DefaultMatrixAutoUpdate=!0,Object.assign(ut.prototype,e.prototype,{isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new r;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.multiply(t),this}}(),rotateOnWorldAxis:function(){var t=new r;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new o(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new o(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new o(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new o;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new o(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new o(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new o(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new i;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new i,e=new o;return function(n,i,r){n.isVector3?e.copy(n):e.set(n,i,r),this.isCamera?t.lookAt(this.position,e,this.up):t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;i>n;n++){var r=this.children[n],o=r.getObjectByProperty(t,e);if(void 0!==o)return o}return void 0},getWorldPosition:function(t){var e=t||new o;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new o,e=new o;return function(n){var i=n||new r;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,i,e),i}}(),getWorldRotation:function(){var t=new r;return function(e){var n=e||new at;return this.getWorldQuaternion(t),n.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new o,e=new r;return function(n){var i=n||new o;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,i),i}}(),getWorldDirection:function(){var t=new r;return function(e){var n=e||new o;return this.getWorldQuaternion(t),n.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,i=e.length;i>n;n++)e[n].traverse(t)},traverseVisible:function(t){if(this.visible!==!1){t(this);for(var e=this.children,n=0,i=e.length;i>n;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,i=e.length;i>n;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){function e(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}function n(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}var i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var o={};if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),o.matrix=this.matrix.toArray(),void 0!==this.geometry&&(o.geometry=e(t.geometries,this.geometry)),void 0!==this.material)if(Array.isArray(this.material)){for(var s=[],a=0,l=this.material.length;l>a;a++)s.push(e(t.materials,this.material[a]));

o.material=s}else o.material=e(t.materials,this.material);if(this.children.length>0){o.children=[];for(var a=0;a<this.children.length;a++)o.children.push(this.children[a].toJSON(t).object)}if(i){var u=n(t.geometries),h=n(t.materials),c=n(t.textures),p=n(t.images);u.length>0&&(r.geometries=u),h.length>0&&(r.materials=h),c.length>0&&(r.textures=c),p.length>0&&(r.images=p)}return r.object=o,r},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(var n=0;n<t.children.length;n++){var i=t.children[n];this.add(i.clone())}return this}}),ht.prototype=Object.assign(Object.create(ut.prototype),{constructor:ht,isCamera:!0,copy:function(t,e){return ut.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},getWorldDirection:function(){var t=new r;return function(e){var n=e||new o;return this.getWorldQuaternion(t),n.set(0,0,-1).applyQuaternion(t)}}(),updateMatrixWorld:function(t){ut.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),ct.prototype=Object.assign(Object.create(ht.prototype),{constructor:ct,isOrthographicCamera:!0,copy:function(t,e){return ht.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-t,o=n+t,s=i+e,a=i-e;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),h=(this.right-this.left)/this.view.width,c=(this.top-this.bottom)/this.view.height;r+=h*(this.view.offsetX/l),o=r+h*(this.view.width/l),s-=c*(this.view.offsetY/u),a=s-c*(this.view.height/u)}this.projectionMatrix.makeOrthographic(r,o,s,a,this.near,this.far)},toJSON:function(t){var e=ut.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Object.assign(pt.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;n>e;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,n=t.vertexColors.length;n>e;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}});var Xu=0;Object.assign(dt.prototype,e.prototype,{isGeometry:!0,applyMatrix:function(t){for(var e=(new s).getNormalMatrix(t),n=0,i=this.vertices.length;i>n;n++){var r=this.vertices[n];r.applyMatrix4(t)}for(var n=0,i=this.faces.length;i>n;n++){var o=this.faces[n];o.normal.applyMatrix3(e).normalize();for(var a=0,l=o.vertexNormals.length;l>a;a++)o.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new i;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new i;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new i;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new i;return function(e,n,i){return t.makeTranslation(e,n,i),this.applyMatrix(t),this}}(),scale:function(){var t=new i;return function(e,n,i){return t.makeScale(e,n,i),this.applyMatrix(t),this}}(),lookAt:function(){var t=new ut;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,n,r){var o=void 0!==l?[p[t].clone(),p[e].clone(),p[n].clone()]:[],s=void 0!==u?[i.colors[t].clone(),i.colors[e].clone(),i.colors[n].clone()]:[],a=new pt(t,e,n,o,s,r);i.faces.push(a),void 0!==h&&i.faceVertexUvs[0].push([d[t].clone(),d[e].clone(),d[n].clone()]),void 0!==c&&i.faceVertexUvs[1].push([f[t].clone(),f[e].clone(),f[n].clone()])}var i=this,r=null!==t.index?t.index.array:void 0,s=t.attributes,a=s.position.array,l=void 0!==s.normal?s.normal.array:void 0,u=void 0!==s.color?s.color.array:void 0,h=void 0!==s.uv?s.uv.array:void 0,c=void 0!==s.uv2?s.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var p=[],d=[],f=[],m=0,g=0;m<a.length;m+=3,g+=2)i.vertices.push(new o(a[m],a[m+1],a[m+2])),void 0!==l&&p.push(new o(l[m],l[m+1],l[m+2])),void 0!==u&&i.colors.push(new X(u[m],u[m+1],u[m+2])),void 0!==h&&d.push(new n(h[g],h[g+1])),void 0!==c&&f.push(new n(c[g],c[g+1]));var v=t.groups;if(v.length>0)for(var m=0;m<v.length;m++)for(var y=v[m],_=y.start,A=y.count,g=_,b=_+A;b>g;g+=3)void 0!==r?e(r[g],r[g+1],r[g+2],y.materialIndex):e(g,g+1,g+2,y.materialIndex);else if(void 0!==r)for(var m=0;m<r.length;m+=3)e(r[m],r[m+1],r[m+2]);else for(var m=0;m<a.length/3;m+=3)e(m,m+1,m+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new i;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new o,e=new o,n=0,i=this.faces.length;i>n;n++){var r=this.faces[n],s=this.vertices[r.a],a=this.vertices[r.b],l=this.vertices[r.c];t.subVectors(l,a),e.subVectors(s,a),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,n,i,r,s,a;for(a=new Array(this.vertices.length),e=0,n=this.vertices.length;n>e;e++)a[e]=new o;if(t){var l,u,h,c=new o,p=new o;for(i=0,r=this.faces.length;r>i;i++)s=this.faces[i],l=this.vertices[s.a],u=this.vertices[s.b],h=this.vertices[s.c],c.subVectors(h,u),p.subVectors(l,u),c.cross(p),a[s.a].add(c),a[s.b].add(c),a[s.c].add(c)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;r>i;i++)s=this.faces[i],a[s.a].add(s.normal),a[s.b].add(s.normal),a[s.c].add(s.normal);for(e=0,n=this.vertices.length;n>e;e++)a[e].normalize();for(i=0,r=this.faces.length;r>i;i++){s=this.faces[i];var d=s.vertexNormals;3===d.length?(d[0].copy(a[s.a]),d[1].copy(a[s.b]),d[2].copy(a[s.c])):(d[0]=a[s.a].clone(),d[1]=a[s.b].clone(),d[2]=a[s.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;e>t;t++){n=this.faces[t];var i=n.vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,i,r;for(n=0,i=this.faces.length;i>n;n++)for(r=this.faces[n],r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),t=0,e=r.vertexNormals.length;e>t;t++)r.__originalVertexNormals[t]?r.__originalVertexNormals[t].copy(r.vertexNormals[t]):r.__originalVertexNormals[t]=r.vertexNormals[t].clone();var s=new dt;for(s.faces=this.faces,t=0,e=this.morphTargets.length;e>t;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a,l,u=this.morphNormals[t].faceNormals,h=this.morphNormals[t].vertexNormals;for(n=0,i=this.faces.length;i>n;n++)a=new o,l={a:new o,b:new o,c:new o},u.push(a),h.push(l)}var c=this.morphNormals[t];s.vertices=this.morphTargets[t].vertices,s.computeFaceNormals(),s.computeVertexNormals();var a,l;for(n=0,i=this.faces.length;i>n;n++)r=this.faces[n],a=c.faceNormals[n],l=c.vertexNormals[n],a.copy(r.normal),l.a.copy(r.vertexNormals[0]),l.b.copy(r.vertexNormals[1]),l.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;i>n;n++)r=this.faces[n],r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,i=e.length;i>n;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new et),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new nt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!t||!t.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var i,r=this.vertices.length,o=this.vertices,a=t.vertices,l=this.faces,u=t.faces,h=this.faceVertexUvs[0],c=t.faceVertexUvs[0],p=this.colors,d=t.colors;void 0===n&&(n=0),void 0!==e&&(i=(new s).getNormalMatrix(e));for(var f=0,m=a.length;m>f;f++){var g=a[f],v=g.clone();void 0!==e&&v.applyMatrix4(e),o.push(v)}for(var f=0,m=d.length;m>f;f++)p.push(d[f].clone());for(f=0,m=u.length;m>f;f++){var y,_,A,b=u[f],x=b.vertexNormals,w=b.vertexColors;y=new pt(b.a+r,b.b+r,b.c+r),y.normal.copy(b.normal),void 0!==i&&y.normal.applyMatrix3(i).normalize();for(var T=0,E=x.length;E>T;T++)_=x[T].clone(),void 0!==i&&_.applyMatrix3(i).normalize(),y.vertexNormals.push(_);y.color.copy(b.color);for(var T=0,E=w.length;E>T;T++)A=w[T],y.vertexColors.push(A.clone());y.materialIndex=b.materialIndex+n,l.push(y)}for(f=0,m=c.length;m>f;f++){var S=c[f],M=[];if(void 0!==S){for(var T=0,E=S.length;E>T;T++)M.push(S[T].clone());h.push(M)}}},mergeMesh:function(t){return t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),void this.merge(t.geometry,t.matrix)):void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,n,i,r,o,s,a,l={},u=[],h=[],c=4,p=Math.pow(10,c);for(n=0,i=this.vertices.length;i>n;n++)t=this.vertices[n],e=Math.round(t.x*p)+"_"+Math.round(t.y*p)+"_"+Math.round(t.z*p),void 0===l[e]?(l[e]=n,u.push(this.vertices[n]),h[n]=u.length-1):h[n]=h[l[e]];var d=[];for(n=0,i=this.faces.length;i>n;n++){r=this.faces[n],r.a=h[r.a],r.b=h[r.b],r.c=h[r.c],o=[r.a,r.b,r.c];for(var f=0;3>f;f++)if(o[f]===o[(f+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var m=d[n];for(this.faces.splice(m,1),s=0,a=this.faceVertexUvs.length;a>s;s++)this.faceVertexUvs[s].splice(m,1)}var g=this.vertices.length-u.length;return this.vertices=u,g},setFromPoints:function(t){this.vertices=[];for(var e=0,n=t.length;n>e;e++){var i=t[e];this.vertices.push(new o(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,n=e.length,i=0;n>i;i++)e[i]._id=i;e.sort(t);var r,o,s=this.faceVertexUvs[0],a=this.faceVertexUvs[1];s&&s.length===n&&(r=[]),a&&a.length===n&&(o=[]);for(var i=0;n>i;i++){var l=e[i]._id;r&&r.push(s[l]),o&&o.push(a[l])}r&&(this.faceVertexUvs[0]=r),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==p[e]?p[e]:(p[e]=c.length/3,c.push(t.x,t.y,t.z),p[e])}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==f[e]?f[e]:(f[e]=d.length,d.push(t.getHex()),f[e])}function i(t){var e=t.x.toString()+t.y.toString();return void 0!==g[e]?g[e]:(g[e]=m.length/2,m.push(t.x,t.y),g[e])}var r={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var s in o)void 0!==o[s]&&(r[s]=o[s]);return r}for(var a=[],l=0;l<this.vertices.length;l++){var u=this.vertices[l];a.push(u.x,u.y,u.z)}for(var h=[],c=[],p={},d=[],f={},m=[],g={},l=0;l<this.faces.length;l++){var v=this.faces[l],y=!0,_=!1,A=void 0!==this.faceVertexUvs[0][l],b=v.normal.length()>0,x=v.vertexNormals.length>0,w=1!==v.color.r||1!==v.color.g||1!==v.color.b,T=v.vertexColors.length>0,E=0;if(E=t(E,0,0),E=t(E,1,y),E=t(E,2,_),E=t(E,3,A),E=t(E,4,b),E=t(E,5,x),E=t(E,6,w),E=t(E,7,T),h.push(E),h.push(v.a,v.b,v.c),h.push(v.materialIndex),A){var S=this.faceVertexUvs[0][l];h.push(i(S[0]),i(S[1]),i(S[2]))}if(b&&h.push(e(v.normal)),x){var M=v.vertexNormals;h.push(e(M[0]),e(M[1]),e(M[2]))}if(w&&h.push(n(v.color)),T){var C=v.vertexColors;h.push(n(C[0]),n(C[1]),n(C[2]))}}return r.data={},r.data.vertices=a,r.data.normals=c,d.length>0&&(r.data.colors=d),m.length>0&&(r.data.uvs=[m]),r.data.faces=h,r},clone:function(){return(new dt).copy(this)},copy:function(t){var e,n,i,r,o,s;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var a=t.vertices;for(e=0,n=a.length;n>e;e++)this.vertices.push(a[e].clone());var l=t.colors;for(e=0,n=l.length;n>e;e++)this.colors.push(l[e].clone());var u=t.faces;for(e=0,n=u.length;n>e;e++)this.faces.push(u[e].clone());for(e=0,n=t.faceVertexUvs.length;n>e;e++){var h=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),i=0,r=h.length;r>i;i++){var c=h[i],p=[];for(o=0,s=c.length;s>o;o++){var d=c[o];p.push(d.clone())}this.faceVertexUvs[e].push(p)}}var f=t.morphTargets;for(e=0,n=f.length;n>e;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],i=0,r=f[e].vertices.length;r>i;i++)m.vertices.push(f[e].vertices[i].clone());if(void 0!==f[e].normals)for(m.normals=[],i=0,r=f[e].normals.length;r>i;i++)m.normals.push(f[e].normals[i].clone());this.morphTargets.push(m)}var g=t.morphNormals;for(e=0,n=g.length;n>e;e++){var v={};if(void 0!==g[e].vertexNormals)for(v.vertexNormals=[],i=0,r=g[e].vertexNormals.length;r>i;i++){var y=g[e].vertexNormals[i],_={};_.a=y.a.clone(),_.b=y.b.clone(),_.c=y.c.clone(),v.vertexNormals.push(_)}if(void 0!==g[e].faceNormals)for(v.faceNormals=[],i=0,r=g[e].faceNormals.length;r>i;i++)v.faceNormals.push(g[e].faceNormals[i].clone());this.morphNormals.push(v)}var A=t.skinWeights;for(e=0,n=A.length;n>e;e++)this.skinWeights.push(A[e].clone());var b=t.skinIndices;for(e=0,n=b.length;n>e;e++)this.skinIndices.push(b[e].clone());var x=t.lineDistances;for(e=0,n=x.length;n>e;e++)this.lineDistances.push(x[e]);var w=t.boundingBox;null!==w&&(this.boundingBox=w.clone());var T=t.boundingSphere;return null!==T&&(this.boundingSphere=T.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(ft.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Object.assign(ft.prototype,{isBufferAttribute:!0,setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;r>i;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;r>i;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new X),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;r>i;i++){var o=t[i];e[n++]=o.a,e[n++]=o.b,e[n++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,i=0,r=0,o=t.length;o>r;r++){var s=t[r];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),s=new n),e[i++]=s.x,e[i++]=s.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;r>i;i++){var s=t[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new o),e[n++]=s.x,e[n++]=s.y,e[n++]=s.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;r>i;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new l),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),mt.prototype=Object.create(ft.prototype),mt.prototype.constructor=mt,gt.prototype=Object.create(ft.prototype),gt.prototype.constructor=gt,vt.prototype=Object.create(ft.prototype),vt.prototype.constructor=vt,yt.prototype=Object.create(ft.prototype),yt.prototype.constructor=yt,_t.prototype=Object.create(ft.prototype),_t.prototype.constructor=_t,At.prototype=Object.create(ft.prototype),At.prototype.constructor=At,bt.prototype=Object.create(ft.prototype),bt.prototype.constructor=bt,xt.prototype=Object.create(ft.prototype),xt.prototype.constructor=xt,wt.prototype=Object.create(ft.prototype),wt.prototype.constructor=wt,Object.assign(Tt.prototype,{computeGroups:function(t){for(var e,n=[],i=void 0,r=t.faces,o=0;o<r.length;o++){var s=r[o];s.materialIndex!==i&&(i=s.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:i})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,i=t.faces,r=t.vertices,o=t.faceVertexUvs,s=o[0]&&o[0].length>0,a=o[1]&&o[1].length>0,l=t.morphTargets,u=l.length;if(u>0){e=[];for(var h=0;u>h;h++)e[h]=[];this.morphTargets.position=e}var c,p=t.morphNormals,d=p.length;if(d>0){c=[];for(var h=0;d>h;h++)c[h]=[];this.morphTargets.normal=c}for(var f=t.skinIndices,m=t.skinWeights,g=f.length===r.length,v=m.length===r.length,h=0;h<i.length;h++){var y=i[h];this.vertices.push(r[y.a],r[y.b],r[y.c]);var _=y.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var A=y.normal;this.normals.push(A,A,A)}var b=y.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{var x=y.color;this.colors.push(x,x,x)}if(s===!0){var w=o[0][h];void 0!==w?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",h),this.uvs.push(new n,new n,new n))}if(a===!0){var w=o[1][h];void 0!==w?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",h),this.uvs2.push(new n,new n,new n))}for(var T=0;u>T;T++){var E=l[T].vertices;e[T].push(E[y.a],E[y.b],E[y.c])}for(var T=0;d>T;T++){var S=p[T].vertexNormals[h];c[T].push(S.a,S.b,S.c)}g&&this.skinIndices.push(f[y.a],f[y.b],f[y.c]),v&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var Ku=1;Object.assign(St.prototype,e.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){this.index=Array.isArray(t)?new(Et(t)>65535?bt:_t)(t,1):t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new ft(arguments[1],arguments[2])))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new s).getNormalMatrix(t);i.applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new i;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new i;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new i;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new i;return function(e,n,i){return t.makeTranslation(e,n,i),this.applyMatrix(t),this}}(),scale:function(){var t=new i;return function(e,n,i){return t.makeScale(e,n,i),this.applyMatrix(t),this}}(),lookAt:function(){var t=new ut;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new xt(3*e.vertices.length,3),i=new xt(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",i.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new xt(e.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],n=0,i=t.length;i>n;n++){var r=t[n];e.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new xt(e,3)),this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(e.elementsNeedUpdate===!0&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}var i;return e.verticesNeedUpdate===!0&&(i=this.attributes.position,void 0!==i&&(i.copyVector3sArray(e.vertices),i.needsUpdate=!0),e.verticesNeedUpdate=!1),e.normalsNeedUpdate===!0&&(i=this.attributes.normal,void 0!==i&&(i.copyVector3sArray(e.normals),i.needsUpdate=!0),e.normalsNeedUpdate=!1),e.colorsNeedUpdate===!0&&(i=this.attributes.color,void 0!==i&&(i.copyColorsArray(e.colors),i.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(i=this.attributes.uv,void 0!==i&&(i.copyVector2sArray(e.uvs),i.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(i=this.attributes.lineDistance,void 0!==i&&(i.copyArray(e.lineDistances),i.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Tt).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new ft(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new ft(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var i=new Float32Array(3*t.colors.length);this.addAttribute("color",new ft(i,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new ft(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new ft(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var s=Et(t.indices)>65535?Uint32Array:Uint16Array,a=new s(3*t.indices.length);this.setIndex(new ft(a,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var l in t.morphTargets){for(var u=[],h=t.morphTargets[l],c=0,p=h.length;p>c;c++){var d=h[c],f=new xt(3*d.length,3);u.push(f.copyVector3sArray(d))}this.morphAttributes[l]=u}if(t.skinIndices.length>0){var m=new xt(4*t.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var g=new xt(4*t.skinWeights.length,4);this.addAttribute("skinWeight",g.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new et);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new et,e=new o;return function(){null===this.boundingSphere&&(this.boundingSphere=new nt);var n=this.attributes.position;if(n){var i=this.boundingSphere.center;t.setFromBufferAttribute(n),t.getCenter(i);for(var r=0,o=0,s=n.count;s>o;o++)e.x=n.getX(o),e.y=n.getY(o),e.z=n.getZ(o),r=Math.max(r,i.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var i=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new ft(new Float32Array(i.length),3));else for(var r=e.normal.array,s=0,a=r.length;a>s;s++)r[s]=0;var l,u,h,c=e.normal.array,p=new o,d=new o,f=new o,m=new o,g=new o;if(t){var v=t.array;0===n.length&&this.addGroup(0,v.length);for(var y=0,_=n.length;_>y;++y)for(var A=n[y],b=A.start,x=A.count,s=b,a=b+x;a>s;s+=3)l=3*v[s+0],u=3*v[s+1],h=3*v[s+2],p.fromArray(i,l),d.fromArray(i,u),f.fromArray(i,h),m.subVectors(f,d),g.subVectors(p,d),m.cross(g),c[l]+=m.x,c[l+1]+=m.y,c[l+2]+=m.z,c[u]+=m.x,c[u+1]+=m.y,c[u+2]+=m.z,c[h]+=m.x,c[h+1]+=m.y,c[h+2]+=m.z}else for(var s=0,a=i.length;a>s;s+=9)p.fromArray(i,s),d.fromArray(i,s+3),f.fromArray(i,s+6),m.subVectors(f,d),g.subVectors(p,d),m.cross(g),c[s]=m.x,c[s+1]=m.y,c[s+2]=m.z,c[s+3]=m.x,c[s+4]=m.y,c[s+5]=m.z,c[s+6]=m.x,c[s+7]=m.y,c[s+8]=m.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0);var n=this.attributes;for(var i in n)if(void 0!==t.attributes[i])for(var r=n[i],o=r.array,s=t.attributes[i],a=s.array,l=s.itemSize,u=0,h=l*e;u<a.length;u++,h++)o[h]=a[u];return this},normalizeNormals:function(){var t=new o;return function(){for(var e=this.attributes.normal,n=0,i=e.count;i>n;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.normalize(),e.setXYZ(n,t.x,t.y,t.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new St,e=this.index.array,n=this.attributes;for(var i in n){for(var r=n[i],o=r.array,s=r.itemSize,a=new o.constructor(e.length*s),l=0,u=0,h=0,c=e.length;c>h;h++){l=e[h]*s;for(var p=0;s>p;p++)a[u++]=o[l++]}t.addAttribute(i,new ft(a,s))}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var i=this.index;if(null!==i){var r=Array.prototype.slice.call(i.array);t.data.index={type:i.array.constructor.name,array:r}}var o=this.attributes;for(var n in o){var s=o[n],r=Array.prototype.slice.call(s.array);t.data.attributes[n]={itemSize:s.itemSize,type:s.array.constructor.name,array:r,normalized:s.normalized}}var a=this.groups;a.length>0&&(t.data.groups=JSON.parse(JSON.stringify(a)));var l=this.boundingSphere;return null!==l&&(t.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),t},clone:function(){return(new St).copy(this)},copy:function(t){var e,n,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var r=t.index;null!==r&&this.setIndex(r.clone());var o=t.attributes;for(e in o){var s=o[e];this.addAttribute(e,s.clone())}var a=t.morphAttributes;for(e in a){var l=[],u=a[e];for(n=0,i=u.length;i>n;n++)l.push(u[n].clone());this.morphAttributes[e]=l}var h=t.groups;for(n=0,i=h.length;i>n;n++){var c=h[n];this.addGroup(c.start,c.count,c.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Mt.prototype=Object.create(dt.prototype),Mt.prototype.constructor=Mt,Ct.prototype=Object.create(St.prototype),Ct.prototype.constructor=Ct,Pt.prototype=Object.create(dt.prototype),Pt.prototype.constructor=Pt,Rt.prototype=Object.create(St.prototype),Rt.prototype.constructor=Rt,Ot.prototype=Object.create(J.prototype),Ot.prototype.constructor=Ot,
Ot.prototype.isMeshBasicMaterial=!0,Ot.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Lt.prototype=Object.create(J.prototype),Lt.prototype.constructor=Lt,Lt.prototype.isShaderMaterial=!0,Lt.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Ga.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Lt.prototype.toJSON=function(t){var e=J.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Object.assign(Nt.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){var n=e||new o;return n.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new o;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var n=e||new o;n.subVectors(t,this.origin);var i=n.dot(this.direction);return 0>i?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new o;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return 0>n?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new o,e=new o,n=new o;return function(i,r,o,s){t.copy(i).add(r).multiplyScalar(.5),e.copy(r).sub(i).normalize(),n.copy(this.origin).sub(t);var a,l,u,h,c=.5*i.distanceTo(r),p=-this.direction.dot(e),d=n.dot(this.direction),f=-n.dot(e),m=n.lengthSq(),g=Math.abs(1-p*p);if(g>0)if(a=p*f-d,l=p*d-f,h=c*g,a>=0)if(l>=-h)if(h>=l){var v=1/g;a*=v,l*=v,u=a*(a+p*l+2*d)+l*(p*a+l+2*f)+m}else l=c,a=Math.max(0,-(p*l+d)),u=-a*a+l*(l+2*f)+m;else l=-c,a=Math.max(0,-(p*l+d)),u=-a*a+l*(l+2*f)+m;else-h>=l?(a=Math.max(0,-(-p*c+d)),l=a>0?-c:Math.min(Math.max(-c,-f),c),u=-a*a+l*(l+2*f)+m):h>=l?(a=0,l=Math.min(Math.max(-c,-f),c),u=l*(l+2*f)+m):(a=Math.max(0,-(p*c+d)),l=a>0?c:Math.min(Math.max(-c,-f),c),u=-a*a+l*(l+2*f)+m);else l=p>0?-c:c,a=Math.max(0,-(p*l+d)),u=-a*a+l*(l+2*f)+m;return o&&o.copy(this.direction).multiplyScalar(a).add(this.origin),s&&s.copy(e).multiplyScalar(l).add(t),u}}(),intersectSphere:function(){var t=new o;return function(e,n){t.subVectors(e.center,this.origin);var i=t.dot(this.direction),r=t.dot(t)-i*i,o=e.radius*e.radius;if(r>o)return null;var s=Math.sqrt(o-r),a=i-s,l=i+s;return 0>a&&0>l?null:0>a?this.at(l,n):this.at(a,n)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);if(0===e)return!0;var n=t.normal.dot(this.direction);return 0>n*e?!0:!1},intersectBox:function(t,e){var n,i,r,o,s,a,l=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,c=this.origin;return l>=0?(n=(t.min.x-c.x)*l,i=(t.max.x-c.x)*l):(n=(t.max.x-c.x)*l,i=(t.min.x-c.x)*l),u>=0?(r=(t.min.y-c.y)*u,o=(t.max.y-c.y)*u):(r=(t.max.y-c.y)*u,o=(t.min.y-c.y)*u),n>o||r>i?null:((r>n||n!==n)&&(n=r),(i>o||i!==i)&&(i=o),h>=0?(s=(t.min.z-c.z)*h,a=(t.max.z-c.z)*h):(s=(t.max.z-c.z)*h,a=(t.min.z-c.z)*h),n>a||s>i?null:((s>n||n!==n)&&(n=s),(i>a||i!==i)&&(i=a),0>i?null:this.at(n>=0?n:i,e)))},intersectsBox:function(){var t=new o;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new o,e=new o,n=new o,i=new o;return function(r,o,s,a,l){e.subVectors(o,r),n.subVectors(s,r),i.crossVectors(e,n);var u,h=this.direction.dot(i);if(h>0){if(a)return null;u=1}else{if(!(0>h))return null;u=-1,h=-h}t.subVectors(this.origin,r);var c=u*this.direction.dot(n.crossVectors(t,n));if(0>c)return null;var p=u*this.direction.dot(e.cross(t));if(0>p)return null;if(c+p>h)return null;var d=-u*t.dot(i);return 0>d?null:this.at(d/h,l)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.assign(It.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){var e=t||new o;return e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){var e=t||new o;return e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new o;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new o,e=new o;return function(n,i){t.subVectors(n,this.start),e.subVectors(this.end,this.start);var r=e.dot(e),o=e.dot(t),s=o/r;return i&&(s=Ra.clamp(s,0,1)),s}}(),closestPointToPoint:function(t,e,n){var i=this.closestPointToPointParameter(t,e),r=n||new o;return this.delta(r).multiplyScalar(i).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Object.assign(kt,{normal:function(){var t=new o;return function(e,n,i,r){var s=r||new o;s.subVectors(i,n),t.subVectors(e,n),s.cross(t);var a=s.lengthSq();return a>0?s.multiplyScalar(1/Math.sqrt(a)):s.set(0,0,0)}}(),barycoordFromPoint:function(){var t=new o,e=new o,n=new o;return function(i,r,s,a,l){t.subVectors(a,r),e.subVectors(s,r),n.subVectors(i,r);var u=t.dot(t),h=t.dot(e),c=t.dot(n),p=e.dot(e),d=e.dot(n),f=u*p-h*h,m=l||new o;if(0===f)return m.set(-2,-1,-1);var g=1/f,v=(p*c-h*d)*g,y=(u*d-h*c)*g;return m.set(1-v-y,y,v)}}(),containsPoint:function(){var t=new o;return function(e,n,i,r){var o=kt.barycoordFromPoint(e,n,i,r,t);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}()}),Object.assign(kt.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new o,e=new o;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){var e=t||new o;return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return kt.normal(this.a,this.b,this.c,t)},plane:function(t){var e=t||new it;return e.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return kt.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return kt.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t=new it,e=[new It,new It,new It],n=new o,i=new o;return function(r,s){var a=s||new o,l=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(r,n),this.containsPoint(n)===!0)a.copy(n);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var u=0;u<e.length;u++){e[u].closestPointToPoint(n,!0,i);var h=n.distanceToSquared(i);l>h&&(l=h,a.copy(i))}}return a}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Dt.prototype=Object.assign(Object.create(ut.prototype),{constructor:Dt,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return ut.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,o=Object.keys(r);if(o.length>0){var s=r[o[0]];if(void 0!==s)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=s.length;e>t;t++)n=s[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var a=i.morphTargets;if(void 0!==a&&a.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=a.length;e>t;t++)n=a[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}},raycast:function(){function t(t,e,n,i,r,o,s){return kt.barycoordFromPoint(t,e,n,i,y),r.multiplyScalar(y.x),o.multiplyScalar(y.y),s.multiplyScalar(y.z),r.add(o).add(s),r.clone()}function e(t,e,n,i,r,o,s,a){var l;if(l=e.side===Eo?i.intersectTriangle(s,o,r,!0,a):i.intersectTriangle(r,o,s,e.side!==So,a),null===l)return null;A.copy(a),A.applyMatrix4(t.matrixWorld);var u=n.ray.origin.distanceTo(A);return u<n.near||u>n.far?null:{distance:u,point:A.clone(),object:t}}function r(n,i,r,o,s,a,l,p){u.fromBufferAttribute(o,a),h.fromBufferAttribute(o,l),c.fromBufferAttribute(o,p);var d=e(n,n.material,i,r,u,h,c,_);return d&&(s&&(m.fromBufferAttribute(s,a),g.fromBufferAttribute(s,l),v.fromBufferAttribute(s,p),d.uv=t(_,u,h,c,m,g,v)),d.face=new pt(a,l,p,kt.normal(u,h,c)),d.faceIndex=a),d}var s=new i,a=new Nt,l=new nt,u=new o,h=new o,c=new o,p=new o,d=new o,f=new o,m=new n,g=new n,v=new n,y=new o,_=new o,A=new o;return function(n,i){var o=this.geometry,y=this.material,A=this.matrixWorld;if(void 0!==y&&(null===o.boundingSphere&&o.computeBoundingSphere(),l.copy(o.boundingSphere),l.applyMatrix4(A),n.ray.intersectsSphere(l)!==!1&&(s.getInverse(A),a.copy(n.ray).applyMatrix4(s),null===o.boundingBox||a.intersectsBox(o.boundingBox)!==!1))){var b;if(o.isBufferGeometry){var x,w,T,E,S,M=o.index,C=o.attributes.position,P=o.attributes.uv;if(null!==M)for(E=0,S=M.count;S>E;E+=3)x=M.getX(E),w=M.getX(E+1),T=M.getX(E+2),b=r(this,n,a,C,P,x,w,T),b&&(b.faceIndex=Math.floor(E/3),i.push(b));else if(void 0!==C)for(E=0,S=C.count;S>E;E+=3)x=E,w=E+1,T=E+2,b=r(this,n,a,C,P,x,w,T),b&&(b.index=x,i.push(b))}else if(o.isGeometry){var R,O,L,N,I=Array.isArray(y),k=o.vertices,D=o.faces,F=o.faceVertexUvs[0];F.length>0&&(N=F);for(var B=0,U=D.length;U>B;B++){var V=D[B],G=I?y[V.materialIndex]:y;if(void 0!==G){if(R=k[V.a],O=k[V.b],L=k[V.c],G.morphTargets===!0){var H=o.morphTargets,z=this.morphTargetInfluences;u.set(0,0,0),h.set(0,0,0),c.set(0,0,0);for(var j=0,q=H.length;q>j;j++){var W=z[j];if(0!==W){var X=H[j].vertices;u.addScaledVector(p.subVectors(X[V.a],R),W),h.addScaledVector(d.subVectors(X[V.b],O),W),c.addScaledVector(f.subVectors(X[V.c],L),W)}}u.add(R),h.add(O),c.add(L),R=u,O=h,L=c}if(b=e(this,G,n,a,R,O,L,_)){if(N&&N[B]){var K=N[B];m.copy(K[0]),g.copy(K[1]),v.copy(K[2]),b.uv=t(_,R,O,L,m,g,v)}b.face=V,b.faceIndex=B,i.push(b)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Yu=0;me.prototype=Object.assign(Object.create(ht.prototype),{constructor:me,isPerspectiveCamera:!0,copy:function(t,e){return ht.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Ra.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Ra.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Ra.RAD2DEG*Math.atan(Math.tan(.5*Ra.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Ra.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i,o=this.view;if(null!==this.view&&this.view.enabled){var s=o.fullWidth,a=o.fullHeight;r+=o.offsetX*i/s,e-=o.offsetY*n/a,i*=o.width/s,n*=o.height/a}var l=this.filmOffset;0!==l&&(r+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far)},toJSON:function(t){var e=ut.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),ge.prototype=Object.assign(Object.create(me.prototype),{constructor:ge,isArrayCamera:!0}),xe.prototype.isFogExp2=!0,xe.prototype.clone=function(){return new xe(this.color.getHex(),this.density)},xe.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},we.prototype.isFog=!0,we.prototype.clone=function(){return new we(this.color.getHex(),this.near,this.far)},we.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Te.prototype=Object.assign(Object.create(ut.prototype),{constructor:Te,copy:function(t,e){return ut.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=ut.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}),Ee.prototype=Object.assign(Object.create(ut.prototype),{constructor:Ee,isLensFlare:!0,copy:function(t){ut.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;n>e;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,i,r,o){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===r&&(r=new X(16777215)),void 0===i&&(i=No),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:r,blending:i})},updateLensFlares:function(){var t,e,n=this.lensFlares.length,i=2*-this.positionScreen.x,r=2*-this.positionScreen.y;for(t=0;n>t;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+i*e.distance,e.y=this.positionScreen.y+r*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),Se.prototype=Object.create(J.prototype),Se.prototype.constructor=Se,Se.prototype.isSpriteMaterial=!0,Se.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},Me.prototype=Object.assign(Object.create(ut.prototype),{constructor:Me,isSprite:!0,raycast:function(){var t=new o,e=new o,n=new o;return function(i,r){e.setFromMatrixPosition(this.matrixWorld),i.ray.closestPointToPoint(e,t),n.setFromMatrixScale(this.matrixWorld);var o=n.x*n.y/4;if(!(e.distanceToSquared(t)>o)){var s=i.ray.origin.distanceTo(t);s<i.near||s>i.far||r.push({distance:s,point:t.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),Ce.prototype=Object.assign(Object.create(ut.prototype),{constructor:Ce,copy:function(t){ut.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,i=e.length;i>n;n++){var r=e[n];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,i=0;i<n.length&&!(e<n[i].distance);i++);n.splice(i,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,i=e.length;i>n&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new o;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var i=e.ray.origin.distanceTo(t);this.getObjectForDistance(i).raycast(e,n)}}(),update:function(){var t=new o,e=new o;return function(n){var i=this.levels;if(i.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var r=t.distanceTo(e);i[0].object.visible=!0;for(var o=1,s=i.length;s>o&&r>=i[o].distance;o++)i[o-1].object.visible=!1,i[o].object.visible=!0;for(;s>o;o++)i[o].object.visible=!1}}}(),toJSON:function(t){var e=ut.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,i=0,r=n.length;r>i;i++){var o=n[i];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(Pe.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;e>t;t++){var n=new i;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){var t,e,n;for(e=0,n=this.bones.length;n>e;e++)t=this.bones[e],t&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;n>e;e++)t=this.bones[e],t&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new i,e=new i;return function(){for(var n=this.bones,i=this.boneInverses,r=this.boneMatrices,o=this.boneTexture,s=0,a=n.length;a>s;s++){var l=n[s]?n[s].matrixWorld:e;t.multiplyMatrices(l,i[s]),t.toArray(r,16*s)}void 0!==o&&(o.needsUpdate=!0)}}(),clone:function(){return new Pe(this.bones,this.boneInverses)}}),Re.prototype=Object.assign(Object.create(ut.prototype),{constructor:Re,isBone:!0}),Oe.prototype=Object.assign(Object.create(Dt.prototype),{constructor:Oe,isSkinnedMesh:!0,initBones:function(){var t,e,n,i,r=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,i=this.geometry.bones.length;i>n;n++)e=this.geometry.bones[n],t=new Re,r.push(t),t.name=e.name,t.position.fromArray(e.pos),t.quaternion.fromArray(e.rotq),void 0!==e.scl&&t.scale.fromArray(e.scl);for(n=0,i=this.geometry.bones.length;i>n;n++)e=this.geometry.bones[n],-1!==e.parent&&null!==e.parent&&void 0!==r[e.parent]?r[e.parent].add(r[n]):this.add(r[n])}return this.updateMatrixWorld(!0),r},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var t,e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){var n=this.geometry.skinWeights[e];t=1/n.manhattanLength(),t!==1/0?n.multiplyScalar(t):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var i=new l,r=this.geometry.attributes.skinWeight;for(e=0;e<r.count;e++)i.x=r.getX(e),i.y=r.getY(e),i.z=r.getZ(e),i.w=r.getW(e),t=1/i.manhattanLength(),t!==1/0?i.multiplyScalar(t):i.set(1,0,0,0),r.setXYZW(e,i.x,i.y,i.z,i.w)}},updateMatrixWorld:function(t){Dt.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Le.prototype=Object.create(J.prototype),Le.prototype.constructor=Le,Le.prototype.isLineBasicMaterial=!0,Le.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Ne.prototype=Object.assign(Object.create(ut.prototype),{constructor:Ne,isLine:!0,raycast:function(){var t=new i,e=new Nt,n=new nt;return function(i,r){var s=i.linePrecision,a=s*s,l=this.geometry,u=this.matrixWorld;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(u),i.ray.intersectsSphere(n)!==!1){t.getInverse(u),e.copy(i.ray).applyMatrix4(t);var h=new o,c=new o,p=new o,d=new o,f=this&&this.isLineSegments?2:1;if(l.isBufferGeometry){var m=l.index,g=l.attributes,v=g.position.array;if(null!==m)for(var y=m.array,_=0,A=y.length-1;A>_;_+=f){var b=y[_],x=y[_+1];h.fromArray(v,3*b),c.fromArray(v,3*x);var w=e.distanceSqToSegment(h,c,d,p);if(!(w>a)){d.applyMatrix4(this.matrixWorld);var T=i.ray.origin.distanceTo(d);T<i.near||T>i.far||r.push({distance:T,point:p.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else for(var _=0,A=v.length/3-1;A>_;_+=f){h.fromArray(v,3*_),c.fromArray(v,3*_+3);var w=e.distanceSqToSegment(h,c,d,p);if(!(w>a)){d.applyMatrix4(this.matrixWorld);var T=i.ray.origin.distanceTo(d);T<i.near||T>i.far||r.push({distance:T,point:p.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else if(l.isGeometry)for(var E=l.vertices,S=E.length,_=0;S-1>_;_+=f){var w=e.distanceSqToSegment(E[_],E[_+1],d,p);if(!(w>a)){d.applyMatrix4(this.matrixWorld);var T=i.ray.origin.distanceTo(d);T<i.near||T>i.far||r.push({distance:T,point:p.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ie.prototype=Object.assign(Object.create(Ne.prototype),{constructor:Ie,isLineSegments:!0}),ke.prototype=Object.assign(Object.create(Ne.prototype),{constructor:ke,isLineLoop:!0}),De.prototype=Object.create(J.prototype),De.prototype.constructor=De,De.prototype.isPointsMaterial=!0,De.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Fe.prototype=Object.assign(Object.create(ut.prototype),{constructor:Fe,isPoints:!0,raycast:function(){var t=new i,e=new Nt,n=new nt;return function(i,r){function s(t,n){var o=e.distanceSqToPoint(t);if(p>o){var s=e.closestPointToPoint(t);s.applyMatrix4(u);var l=i.ray.origin.distanceTo(s);if(l<i.near||l>i.far)return;r.push({distance:l,distanceToRay:Math.sqrt(o),point:s.clone(),index:n,face:null,object:a})}}var a=this,l=this.geometry,u=this.matrixWorld,h=i.params.Points.threshold;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(u),n.radius+=h,i.ray.intersectsSphere(n)!==!1){t.getInverse(u),e.copy(i.ray).applyMatrix4(t);var c=h/((this.scale.x+this.scale.y+this.scale.z)/3),p=c*c,d=new o;if(l.isBufferGeometry){var f=l.index,m=l.attributes,g=m.position.array;if(null!==f)for(var v=f.array,y=0,_=v.length;_>y;y++){var A=v[y];d.fromArray(g,3*A),s(d,A)}else for(var y=0,b=g.length/3;b>y;y++)d.fromArray(g,3*y),s(d,y)}else for(var x=l.vertices,y=0,b=x.length;b>y;y++)s(x[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Be.prototype=Object.assign(Object.create(ut.prototype),{constructor:Be}),Ue.prototype=Object.create(a.prototype),Ue.prototype.constructor=Ue,Ve.prototype=Object.create(a.prototype),Ve.prototype.constructor=Ve,Ve.prototype.isCompressedTexture=!0,Ge.prototype=Object.create(a.prototype),Ge.prototype.constructor=Ge,Ge.prototype.isDepthTexture=!0,He.prototype=Object.create(St.prototype),He.prototype.constructor=He,ze.prototype=Object.create(dt.prototype),ze.prototype.constructor=ze,je.prototype=Object.create(St.prototype),je.prototype.constructor=je,qe.prototype=Object.create(dt.prototype),qe.prototype.constructor=qe,We.prototype=Object.create(St.prototype),We.prototype.constructor=We,Xe.prototype=Object.create(dt.prototype),Xe.prototype.constructor=Xe,Ke.prototype=Object.create(We.prototype),Ke.prototype.constructor=Ke,Ye.prototype=Object.create(dt.prototype),Ye.prototype.constructor=Ye,Ze.prototype=Object.create(We.prototype),Ze.prototype.constructor=Ze,Qe.prototype=Object.create(dt.prototype),Qe.prototype.constructor=Qe,Je.prototype=Object.create(We.prototype),Je.prototype.constructor=Je,$e.prototype=Object.create(dt.prototype),$e.prototype.constructor=$e,tn.prototype=Object.create(We.prototype),tn.prototype.constructor=tn,en.prototype=Object.create(dt.prototype),en.prototype.constructor=en,nn.prototype=Object.create(St.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(dt.prototype),rn.prototype.constructor=rn,on.prototype=Object.create(St.prototype),on.prototype.constructor=on,sn.prototype=Object.create(dt.prototype),sn.prototype.constructor=sn,an.prototype=Object.create(St.prototype),an.prototype.constructor=an;var Zu={area:function(t){for(var e=t.length,n=0,i=e-1,r=0;e>r;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n},triangulate:function(){function t(t,e,n,i,r,o){var s,a,l,u,h,c,p,d,f;if(a=t[o[e]].x,l=t[o[e]].y,u=t[o[n]].x,h=t[o[n]].y,c=t[o[i]].x,p=t[o[i]].y,0>=(u-a)*(p-l)-(h-l)*(c-a))return!1;var m,g,v,y,_,A,b,x,w,T,E,S,M,C,P;for(m=c-u,g=p-h,v=a-c,y=l-p,_=u-a,A=h-l,s=0;r>s;s++)if(d=t[o[s]].x,f=t[o[s]].y,!(d===a&&f===l||d===u&&f===h||d===c&&f===p)&&(b=d-a,x=f-l,w=d-u,T=f-h,E=d-c,S=f-p,P=m*T-g*w,M=_*x-A*b,C=v*S-y*E,P>=-Number.EPSILON&&C>=-Number.EPSILON&&M>=-Number.EPSILON))return!1;return!0}return function(e,n){var i=e.length;if(3>i)return null;var r,o,s,a=[],l=[],u=[];if(Zu.area(e)>0)for(o=0;i>o;o++)l[o]=o;else for(o=0;i>o;o++)l[o]=i-1-o;var h=i,c=2*h;for(o=h-1;h>2;){if(c--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?u:a;if(r=o,r>=h&&(r=0),o=r+1,o>=h&&(o=0),s=o+1,s>=h&&(s=0),t(e,r,o,s,h,l)){var p,d,f,m,g;for(p=l[r],d=l[o],f=l[s],a.push([e[p],e[d],e[f]]),u.push([l[r],l[o],l[s]]),m=o,g=o+1;h>g;m++,g++)l[m]=l[g];h--,c=2*h}}return n?u:a}}(),triangulateShape:function(t,e){function n(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function i(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function r(t,e,n,r,o){var s=e.x-t.x,a=e.y-t.y,l=r.x-n.x,u=r.y-n.y,h=t.x-n.x,c=t.y-n.y,p=a*l-s*u,d=a*h-s*c;if(Math.abs(p)>Number.EPSILON){var f;if(p>0){if(0>d||d>p)return[];if(f=u*h-l*c,0>f||f>p)return[]}else{if(d>0||p>d)return[];if(f=u*h-l*c,f>0||p>f)return[]}if(0===f)return!o||0!==d&&d!==p?[t]:[];if(f===p)return!o||0!==d&&d!==p?[e]:[];if(0===d)return[n];if(d===p)return[r];var m=f/p;return[{x:t.x+m*s,y:t.y+m*a}]}if(0!==d||u*h!==l*c)return[];var g=0===s&&0===a,v=0===l&&0===u;if(g&&v)return t.x!==n.x||t.y!==n.y?[]:[t];if(g)return i(n,r,t)?[t]:[];if(v)return i(t,e,n)?[n]:[];var y,_,A,b,x,w,T,E;return 0!==s?(t.x<e.x?(y=t,A=t.x,_=e,b=e.x):(y=e,A=e.x,_=t,b=t.x),n.x<r.x?(x=n,T=n.x,w=r,E=r.x):(x=r,T=r.x,w=n,E=n.x)):(t.y<e.y?(y=t,A=t.y,_=e,b=e.y):(y=e,A=e.y,_=t,b=t.y),n.y<r.y?(x=n,T=n.y,w=r,E=r.y):(x=r,T=r.y,w=n,E=n.y)),T>=A?T>b?[]:b===T?o?[]:[x]:E>=b?[x,_]:[x,w]:A>E?[]:A===E?o?[]:[y]:E>=b?[y,_]:[y,w]}function o(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,s=n.x-t.x,a=n.y-t.y,l=i.x-t.x,u=i.y-t.y,h=r*a-o*s,c=r*u-o*l;if(Math.abs(h)>Number.EPSILON){var p=l*a-u*s;return h>0?c>=0&&p>=0:c>=0||p>=0}return c>0}function s(t,e){function n(t,e){var n=y.length-1,i=t-1;0>i&&(i=n);var r=t+1;r>n&&(r=0);var s=o(y[t],y[i],y[r],a[e]);if(!s)return!1;var l=a.length-1,u=e-1;0>u&&(u=l);var h=e+1;return h>l&&(h=0),s=o(a[e],a[u],a[h],y[t]),s?!0:!1}function i(t,e){var n,i,o;for(n=0;n<y.length;n++)if(i=n+1,i%=y.length,o=r(t,e,y[n],y[i],!0),o.length>0)return!0;return!1}function s(t,n){var i,o,s,a,l;for(i=0;i<_.length;i++)for(o=e[_[i]],s=0;s<o.length;s++)if(a=s+1,a%=o.length,l=r(t,n,o[s],o[a],!0),l.length>0)return!0;return!1}for(var a,l,u,h,c,p,d,f,m,g,v,y=t.concat(),_=[],A=[],b=0,x=e.length;x>b;b++)_.push(b);for(var w=0,T=2*_.length;_.length>0;){if(T--,0>T){console.log('THREE.ShapeUtils: Infinite Loop! Holes left:" + indepHoles.length + ", Probably Hole outside Shape!');break}for(u=w;u<y.length;u++){h=y[u],l=-1;for(var b=0;b<_.length;b++)if(p=_[b],d=h.x+":"+h.y+":"+p,void 0===A[d]){a=e[p];for(var E=0;E<a.length;E++)if(c=a[E],n(u,E)&&!i(h,c)&&!s(h,c)){l=E,_.splice(b,1),f=y.slice(0,u+1),m=y.slice(u),g=a.slice(l),v=a.slice(0,l+1),y=f.concat(g).concat(v).concat(m),w=u;break}if(l>=0)break;A[d]=!0}if(l>=0)break}}return y}n(t),e.forEach(n);for(var a,l,u,h,c,p,d={},f=t.concat(),m=0,g=e.length;g>m;m++)Array.prototype.push.apply(f,e[m]);for(a=0,l=f.length;l>a;a++)c=f[a].x+":"+f[a].y,void 0!==d[c]&&console.warn("THREE.ShapeUtils: Duplicate point",c,a),d[c]=a;var v=s(t,e),y=Zu.triangulate(v,!1);for(a=0,l=y.length;l>a;a++)for(h=y[a],u=0;3>u;u++)c=h[u].x+":"+h[u].y,p=d[c],void 0!==p&&(h[u]=p);return y.concat()},isClockWise:function(t){return Zu.area(t)<0}};ln.prototype=Object.create(dt.prototype),ln.prototype.constructor=ln,un.prototype=Object.create(St.prototype),un.prototype.constructor=un,un.prototype.getArrays=function(){var t=this.getAttribute("position"),e=t?Array.prototype.slice.call(t.array):[],n=this.getAttribute("uv"),i=n?Array.prototype.slice.call(n.array):[],r=this.index,o=r?Array.prototype.slice.call(r.array):[];return{position:e,uv:i,index:o}},un.prototype.addShapeList=function(t,e){var n=t.length;e.arrays=this.getArrays();for(var i=0;n>i;i++){var r=t[i];this.addShape(r,e)}this.setIndex(e.arrays.index),this.addAttribute("position",new xt(e.arrays.position,3)),this.addAttribute("uv",new xt(e.arrays.uv,2))},un.prototype.addShape=function(t,e){function i(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}function r(t,e,i){var r,o,s,a=t.x-e.x,l=t.y-e.y,u=i.x-t.x,h=i.y-t.y,c=a*a+l*l,p=a*h-l*u;if(Math.abs(p)>Number.EPSILON){var d=Math.sqrt(c),f=Math.sqrt(u*u+h*h),m=e.x-l/d,g=e.y+a/d,v=i.x-h/f,y=i.y+u/f,_=((v-m)*h-(y-g)*u)/(a*h-l*u);r=m+a*_-t.x,o=g+l*_-t.y;var A=r*r+o*o;if(2>=A)return new n(r,o);s=Math.sqrt(A/2)}else{var b=!1;a>Number.EPSILON?u>Number.EPSILON&&(b=!0):a<-Number.EPSILON?u<-Number.EPSILON&&(b=!0):Math.sign(l)===Math.sign(h)&&(b=!0),b?(r=-l,o=a,s=Math.sqrt(c)):(r=a,o=l,s=Math.sqrt(c/2))}return new n(r/s,o/s)}function s(){var t=A.length/3;if(C){var n=0,i=Z*n;for($=0;Q>$;$++)Y=H[$],h(Y[2]+i,Y[1]+i,Y[0]+i);for(n=R+2*M,i=Z*n,$=0;Q>$;$++)Y=H[$],h(Y[0]+i,Y[1]+i,Y[2]+i)}else{for($=0;Q>$;$++)Y=H[$],h(Y[2],Y[1],Y[0]);for($=0;Q>$;$++)Y=H[$],h(Y[0]+Z*R,Y[1]+Z*R,Y[2]+Z*R)}F.addGroup(t,A.length/3-t,void 0!==e.material?e.material:0)}function a(){var t=A.length/3,n=0;for(l(z,n),n+=z.length,k=0,D=V.length;D>k;k++)I=V[k],l(I,n),n+=I.length;F.addGroup(t,A.length/3-t,void 0!==e.extrudeMaterial?e.extrudeMaterial:1)}function l(t,e){var n,i;for($=t.length;--$>=0;){n=$,i=$-1,0>i&&(i=t.length-1);var r=0,o=R+2*M;for(r=0;o>r;r++){var s=Z*r,a=Z*(r+1),l=e+n+s,u=e+i+s,h=e+i+a,p=e+n+a;c(l,u,h,p)}}}function u(t,e,n){w.push(t),w.push(e),w.push(n)}function h(t,e,n){p(t),p(e),p(n);var i=A.length/3,r=N.generateTopUV(F,A,i-3,i-2,i-1);d(r[0]),d(r[1]),
d(r[2])}function c(t,e,n,i){p(t),p(e),p(i),p(e),p(n),p(i);var r=A.length/3,o=N.generateSideWallUV(F,A,r-6,r-3,r-2,r-1);d(o[0]),d(o[1]),d(o[3]),d(o[1]),d(o[2]),d(o[3])}function p(t){b.push(A.length/3),A.push(w[3*t+0]),A.push(w[3*t+1]),A.push(w[3*t+2])}function d(t){x.push(t.x),x.push(t.y)}var f,m,g,v,y,_=e.arrays?e.arrays:this.getArrays(),A=_.position,b=_.index,x=_.uv,w=[],T=void 0!==e.amount?e.amount:100,E=void 0!==e.bevelThickness?e.bevelThickness:6,S=void 0!==e.bevelSize?e.bevelSize:E-2,M=void 0!==e.bevelSegments?e.bevelSegments:3,C=void 0!==e.bevelEnabled?e.bevelEnabled:!0,P=void 0!==e.curveSegments?e.curveSegments:12,R=void 0!==e.steps?e.steps:1,O=e.extrudePath,L=!1,N=void 0!==e.UVGenerator?e.UVGenerator:ln.WorldUVGenerator;O&&(f=O.getSpacedPoints(R),L=!0,C=!1,m=void 0!==e.frames?e.frames:O.computeFrenetFrames(R,!1),g=new o,v=new o,y=new o),C||(M=0,E=0,S=0);var I,k,D,F=this,B=t.extractPoints(P),U=B.shape,V=B.holes,G=!Zu.isClockWise(U);if(G)for(U=U.reverse(),k=0,D=V.length;D>k;k++)I=V[k],Zu.isClockWise(I)&&(V[k]=I.reverse());var H=Zu.triangulateShape(U,V),z=U;for(k=0,D=V.length;D>k;k++)I=V[k],U=U.concat(I);for(var j,q,W,X,K,Y,Z=U.length,Q=H.length,J=[],$=0,tt=z.length,et=tt-1,nt=$+1;tt>$;$++,et++,nt++)et===tt&&(et=0),nt===tt&&(nt=0),J[$]=r(z[$],z[et],z[nt]);var it,rt=[],ot=J.concat();for(k=0,D=V.length;D>k;k++){for(I=V[k],it=[],$=0,tt=I.length,et=tt-1,nt=$+1;tt>$;$++,et++,nt++)et===tt&&(et=0),nt===tt&&(nt=0),it[$]=r(I[$],I[et],I[nt]);rt.push(it),ot=ot.concat(it)}for(j=0;M>j;j++){for(W=j/M,X=E*Math.cos(W*Math.PI/2),q=S*Math.sin(W*Math.PI/2),$=0,tt=z.length;tt>$;$++)K=i(z[$],J[$],q),u(K.x,K.y,-X);for(k=0,D=V.length;D>k;k++)for(I=V[k],it=rt[k],$=0,tt=I.length;tt>$;$++)K=i(I[$],it[$],q),u(K.x,K.y,-X)}for(q=S,$=0;Z>$;$++)K=C?i(U[$],ot[$],q):U[$],L?(v.copy(m.normals[0]).multiplyScalar(K.x),g.copy(m.binormals[0]).multiplyScalar(K.y),y.copy(f[0]).add(v).add(g),u(y.x,y.y,y.z)):u(K.x,K.y,0);var st;for(st=1;R>=st;st++)for($=0;Z>$;$++)K=C?i(U[$],ot[$],q):U[$],L?(v.copy(m.normals[st]).multiplyScalar(K.x),g.copy(m.binormals[st]).multiplyScalar(K.y),y.copy(f[st]).add(v).add(g),u(y.x,y.y,y.z)):u(K.x,K.y,T/R*st);for(j=M-1;j>=0;j--){for(W=j/M,X=E*Math.cos(W*Math.PI/2),q=S*Math.sin(W*Math.PI/2),$=0,tt=z.length;tt>$;$++)K=i(z[$],J[$],q),u(K.x,K.y,T+X);for(k=0,D=V.length;D>k;k++)for(I=V[k],it=rt[k],$=0,tt=I.length;tt>$;$++)K=i(I[$],it[$],q),L?u(K.x,K.y+f[R-1].y,f[R-1].x+X):u(K.x,K.y,T+X)}s(),a(),e.arrays||(this.setIndex(b),this.addAttribute("position",new xt(A,3)),this.addAttribute("uv",new xt(e.arrays.uv,2)))},ln.WorldUVGenerator={generateTopUV:function(t,e,i,r,o){var s=e[3*i],a=e[3*i+1],l=e[3*r],u=e[3*r+1],h=e[3*o],c=e[3*o+1];return[new n(s,a),new n(l,u),new n(h,c)]},generateSideWallUV:function(t,e,i,r,o,s){var a=e[3*i],l=e[3*i+1],u=e[3*i+2],h=e[3*r],c=e[3*r+1],p=e[3*r+2],d=e[3*o],f=e[3*o+1],m=e[3*o+2],g=e[3*s],v=e[3*s+1],y=e[3*s+2];return Math.abs(l-c)<.01?[new n(a,1-u),new n(h,1-p),new n(d,1-m),new n(g,1-y)]:[new n(l,1-u),new n(c,1-p),new n(f,1-m),new n(v,1-y)]}},hn.prototype=Object.create(dt.prototype),hn.prototype.constructor=hn,cn.prototype=Object.create(un.prototype),cn.prototype.constructor=cn,pn.prototype=Object.create(dt.prototype),pn.prototype.constructor=pn,dn.prototype=Object.create(St.prototype),dn.prototype.constructor=dn,fn.prototype=Object.create(dt.prototype),fn.prototype.constructor=fn,mn.prototype=Object.create(St.prototype),mn.prototype.constructor=mn,gn.prototype=Object.create(dt.prototype),gn.prototype.constructor=gn,vn.prototype=Object.create(St.prototype),vn.prototype.constructor=vn,yn.prototype=Object.create(dt.prototype),yn.prototype.constructor=yn,_n.prototype=Object.create(St.prototype),_n.prototype.constructor=_n,An.prototype=Object.create(St.prototype),An.prototype.constructor=An,bn.prototype=Object.create(dt.prototype),bn.prototype.constructor=bn,xn.prototype=Object.create(St.prototype),xn.prototype.constructor=xn,wn.prototype=Object.create(bn.prototype),wn.prototype.constructor=wn,Tn.prototype=Object.create(xn.prototype),Tn.prototype.constructor=Tn,En.prototype=Object.create(dt.prototype),En.prototype.constructor=En,Sn.prototype=Object.create(St.prototype),Sn.prototype.constructor=Sn;var Qu=Object.freeze({WireframeGeometry:He,ParametricGeometry:ze,ParametricBufferGeometry:je,TetrahedronGeometry:Xe,TetrahedronBufferGeometry:Ke,OctahedronGeometry:Ye,OctahedronBufferGeometry:Ze,IcosahedronGeometry:Qe,IcosahedronBufferGeometry:Je,DodecahedronGeometry:$e,DodecahedronBufferGeometry:tn,PolyhedronGeometry:qe,PolyhedronBufferGeometry:We,TubeGeometry:en,TubeBufferGeometry:nn,TorusKnotGeometry:rn,TorusKnotBufferGeometry:on,TorusGeometry:sn,TorusBufferGeometry:an,TextGeometry:hn,TextBufferGeometry:cn,SphereGeometry:pn,SphereBufferGeometry:dn,RingGeometry:fn,RingBufferGeometry:mn,PlaneGeometry:Pt,PlaneBufferGeometry:Rt,LatheGeometry:gn,LatheBufferGeometry:vn,ShapeGeometry:yn,ShapeBufferGeometry:_n,ExtrudeGeometry:ln,ExtrudeBufferGeometry:un,EdgesGeometry:An,ConeGeometry:wn,ConeBufferGeometry:Tn,CylinderGeometry:bn,CylinderBufferGeometry:xn,CircleGeometry:En,CircleBufferGeometry:Sn,BoxGeometry:Mt,BoxBufferGeometry:Ct});Mn.prototype=Object.create(J.prototype),Mn.prototype.constructor=Mn,Mn.prototype.isShadowMaterial=!0,Cn.prototype=Object.create(Lt.prototype),Cn.prototype.constructor=Cn,Cn.prototype.isRawShaderMaterial=!0,Pn.prototype=Object.create(J.prototype),Pn.prototype.constructor=Pn,Pn.prototype.isMeshStandardMaterial=!0,Pn.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Rn.prototype=Object.create(Pn.prototype),Rn.prototype.constructor=Rn,Rn.prototype.isMeshPhysicalMaterial=!0,Rn.prototype.copy=function(t){return Pn.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},On.prototype=Object.create(J.prototype),On.prototype.constructor=On,On.prototype.isMeshPhongMaterial=!0,On.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Ln.prototype=Object.create(On.prototype),Ln.prototype.constructor=Ln,Ln.prototype.isMeshToonMaterial=!0,Ln.prototype.copy=function(t){return On.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},Nn.prototype=Object.create(J.prototype),Nn.prototype.constructor=Nn,Nn.prototype.isMeshNormalMaterial=!0,Nn.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},In.prototype=Object.create(J.prototype),In.prototype.constructor=In,In.prototype.isMeshLambertMaterial=!0,In.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},kn.prototype=Object.create(Le.prototype),kn.prototype.constructor=kn,kn.prototype.isLineDashedMaterial=!0,kn.prototype.copy=function(t){return Le.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Ju=Object.freeze({ShadowMaterial:Mn,SpriteMaterial:Se,RawShaderMaterial:Cn,ShaderMaterial:Lt,PointsMaterial:De,MeshPhysicalMaterial:Rn,MeshStandardMaterial:Pn,MeshPhongMaterial:On,MeshToonMaterial:Ln,MeshNormalMaterial:Nn,MeshLambertMaterial:In,MeshDepthMaterial:$,MeshDistanceMaterial:tt,MeshBasicMaterial:Ot,LineDashedMaterial:kn,LineBasicMaterial:Le,Material:J}),$u={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){return this.enabled!==!1?this.files[t]:void 0},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},th=new Dn,eh={};Object.assign(Fn.prototype,{load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,o=$u.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o;if(void 0!==eh[t])return void eh[t].push({onLoad:e,onProgress:n,onError:i});var s=/^data:(.*?)(;base64)?,(.*)$/,a=t.match(s);if(a){var l=a[1],u=!!a[2],h=a[3];h=window.decodeURIComponent(h),u&&(h=window.atob(h));try{var c,p=(this.responseType||"").toLowerCase();switch(p){case"arraybuffer":case"blob":for(var d=new Uint8Array(h.length),f=0;f<h.length;f++)d[f]=h.charCodeAt(f);c="blob"===p?new Blob([d.buffer],{type:l}):d.buffer;break;case"document":var m=new DOMParser;c=m.parseFromString(h,l);break;case"json":c=JSON.parse(h);break;default:c=h}window.setTimeout(function(){e&&e(c),r.manager.itemEnd(t)},0)}catch(g){window.setTimeout(function(){i&&i(g),r.manager.itemEnd(t),r.manager.itemError(t)},0)}}else{eh[t]=[],eh[t].push({onLoad:e,onProgress:n,onError:i});var v=new XMLHttpRequest;v.open("GET",t,!0),v.addEventListener("load",function(e){var n=e.target.response;$u.add(t,n);var i=eh[t];if(delete eh[t],200===this.status){for(var o=0,s=i.length;s>o;o++){var a=i[o];a.onLoad&&a.onLoad(n)}r.manager.itemEnd(t)}else if(0===this.status){console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,s=i.length;s>o;o++){var a=i[o];a.onLoad&&a.onLoad(n)}r.manager.itemEnd(t)}else{for(var o=0,s=i.length;s>o;o++){var a=i[o];a.onError&&a.onError(e)}r.manager.itemEnd(t),r.manager.itemError(t)}},!1),v.addEventListener("progress",function(e){for(var n=eh[t],i=0,r=n.length;r>i;i++){var o=n[i];o.onProgress&&o.onProgress(e)}},!1),v.addEventListener("error",function(e){var n=eh[t];delete eh[t];for(var i=0,o=n.length;o>i;i++){var s=n[i];s.onError&&s.onError(e)}r.manager.itemEnd(t),r.manager.itemError(t)},!1),void 0!==this.responseType&&(v.responseType=this.responseType),void 0!==this.withCredentials&&(v.withCredentials=this.withCredentials),v.overrideMimeType&&v.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var y in this.requestHeader)v.setRequestHeader(y,this.requestHeader[y]);v.send(null)}return r.manager.itemStart(t),v},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(Bn.prototype,{load:function(t,e,n,i){function r(r){l.load(t[r],function(t){var n=o._parser(t,!0);s[r]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},u+=1,6===u&&(1===n.mipmapCount&&(a.minFilter=Rs),a.format=n.format,a.needsUpdate=!0,e&&e(a))},n,i)}var o=this,s=[],a=new Ve;a.image=s;var l=new Fn(this.manager);if(l.setPath(this.path),l.setResponseType("arraybuffer"),Array.isArray(t))for(var u=0,h=0,c=t.length;c>h;++h)r(h);else l.load(t,function(t){var n=o._parser(t,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,r=0;i>r;r++){s[r]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)s[r].mipmaps.push(n.mipmaps[r*n.mipmapCount+l]),s[r].format=n.format,s[r].width=n.width,s[r].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Rs),a.format=n.format,a.needsUpdate=!0,e&&e(a)},n,i);return a},setPath:function(t){return this.path=t,this}}),Object.assign(Un.prototype,{load:function(t,e,n,i){var r=this,o=new c,s=new Fn(this.manager);return s.setResponseType("arraybuffer"),s.load(t,function(t){var n=r._parser(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:Es,o.wrapT=void 0!==n.wrapT?n.wrapT:Es,o.magFilter=void 0!==n.magFilter?n.magFilter:Rs,o.minFilter=void 0!==n.minFilter?n.minFilter:Ls,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=Rs),o.needsUpdate=!0,e&&e(o,n))},n,i),o}}),Object.assign(Vn.prototype,{crossOrigin:"Anonymous",load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,o=$u.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o;var s=document.createElementNS("http://www.w3.org/1999/xhtml","img");return s.addEventListener("load",function(){$u.add(t,this),e&&e(this),r.manager.itemEnd(t)},!1),s.addEventListener("error",function(e){i&&i(e),r.manager.itemEnd(t),r.manager.itemError(t)},!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(t),s.src=t,s},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Gn.prototype,{crossOrigin:"Anonymous",load:function(t,e,n,i){function r(n){s.load(t[n],function(t){o.images[n]=t,a++,6===a&&(o.needsUpdate=!0,e&&e(o))},void 0,i)}var o=new p,s=new Vn(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);for(var a=0,l=0;l<t.length;++l)r(l);return o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Hn.prototype,{crossOrigin:"Anonymous",load:function(t,e,n,i){var r=new Vn(this.manager);r.setCrossOrigin(this.crossOrigin),r.setPath(this.path);var o=new a;return o.image=r.load(t,function(){var n=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);o.format=n?Ws:Xs,o.needsUpdate=!0,void 0!==e&&e(o)},n,i),o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),zn.prototype=Object.assign(Object.create(ut.prototype),{constructor:zn,isLight:!0,copy:function(t){return ut.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=ut.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),jn.prototype=Object.assign(Object.create(zn.prototype),{constructor:jn,isHemisphereLight:!0,copy:function(t){return zn.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(qn.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Wn.prototype=Object.assign(Object.create(qn.prototype),{constructor:Wn,isSpotLightShadow:!0,update:function(t){var e=this.camera,n=2*Ra.RAD2DEG*t.angle,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;(n!==e.fov||i!==e.aspect||r!==e.far)&&(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix())}}),Xn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Xn,isSpotLight:!0,copy:function(t){return zn.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Kn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Kn,isPointLight:!0,copy:function(t){return zn.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Yn.prototype=Object.assign(Object.create(qn.prototype),{constructor:Yn}),Zn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Zn,isDirectionalLight:!0,copy:function(t){return zn.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Qn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Qn,isAmbientLight:!0}),Jn.prototype=Object.assign(Object.create(zn.prototype),{constructor:Jn,isRectAreaLight:!0,copy:function(t){return zn.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=zn.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});var nh={arraySlice:function(t,e,n){return nh.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,n){return t[e]-t[n]}for(var n=t.length,i=new Array(n),r=0;r!==n;++r)i[r]=r;return i.sort(e),i},sortedArray:function(t,e,n){for(var i=t.length,r=new t.constructor(i),o=0,s=0;s!==i;++o)for(var a=n[o]*e,l=0;l!==e;++l)r[s++]=t[a+l];return r},flattenJSON:function(t,e,n,i){for(var r=1,o=t[0];void 0!==o&&void 0===o[i];)o=t[r++];if(void 0!==o){var s=o[i];if(void 0!==s)if(Array.isArray(s)){do s=o[i],void 0!==s&&(e.push(o.time),n.push.apply(n,s)),o=t[r++];while(void 0!==o)}else if(void 0!==s.toArray){do s=o[i],void 0!==s&&(e.push(o.time),s.toArray(n,n.length)),o=t[r++];while(void 0!==o)}else do s=o[i],void 0!==s&&(e.push(o.time),n.push(s)),o=t[r++];while(void 0!==o)}}};Object.assign($n.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{var o;n:{i:if(!(i>t)){for(var s=n+2;;){if(void 0===i){if(r>t)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===s)break;if(r=i,i=e[++n],i>t)break e}o=e.length;break n}{if(t>=r)break t;var a=e[1];a>t&&(n=2,r=a);for(var s=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===s)break;if(i=r,r=e[--n-1],t>=r)break e}o=n,n=0}}for(;o>n;){var l=n+o>>>1;t<e[l]?o=l:n=l+1}if(i=e[n],r=e[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i,o=0;o!==i;++o)e[o]=n[r+o];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign($n.prototype,{beforeStart_:$n.prototype.copySampleValue_,afterEnd_:$n.prototype.copySampleValue_}),ti.prototype=Object.assign(Object.create($n.prototype),{constructor:ti,DefaultSettings_:{endingStart:fa,endingEnd:fa},intervalChanged_:function(t,e,n){var i=this.parameterPositions,r=t-2,o=t+1,s=i[r],a=i[o];if(void 0===s)switch(this.getSettings_().endingStart){case ma:r=t,s=2*e-n;break;case ga:r=i.length-2,s=e+i[r]-i[r+1];break;default:r=t,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case ma:o=t,a=2*n-e;break;case ga:o=1,a=n+i[1]-i[0];break;default:o=t-1,a=e}var l=.5*(n-e),u=this.valueSize;this._weightPrev=l/(e-s),this._weightNext=l/(a-n),this._offsetPrev=r*u,this._offsetNext=o*u},interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,l=a-s,u=this._offsetPrev,h=this._offsetNext,c=this._weightPrev,p=this._weightNext,d=(n-e)/(i-e),f=d*d,m=f*d,g=-c*m+2*c*f-c*d,v=(1+c)*m+(-1.5-2*c)*f+(-.5+c)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,_=p*m-p*f,A=0;A!==s;++A)r[A]=g*o[u+A]+v*o[l+A]+y*o[a+A]+_*o[h+A];return r}}),ei.prototype=Object.assign(Object.create($n.prototype),{constructor:ei,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,l=a-s,u=(n-e)/(i-e),h=1-u,c=0;c!==s;++c)r[c]=o[l+c]*h+o[a+c]*u;return r}}),ni.prototype=Object.assign(Object.create($n.prototype),{constructor:ni,interpolate_:function(t){return this.copySampleValue_(t-1)}});var ih;ih={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:pa,InterpolantFactoryMethodDiscrete:function(t){return new ni(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new ei(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new ti(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case ca:e=this.InterpolantFactoryMethodDiscrete;break;case pa:e=this.InterpolantFactoryMethodLinear;break;case da:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return void console.warn("THREE.KeyframeTrackPrototype:",n)}this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ca;case this.InterpolantFactoryMethodLinear:return pa;case this.InterpolantFactoryMethodSmooth:return da}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,i=n.length,r=0,o=i-1;r!==i&&n[r]<t;)++r;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);var s=this.getValueSize();this.times=nh.arraySlice(n,r,o),this.values=nh.arraySlice(this.values,r*s,o*s)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrackPrototype: Invalid value size in track.",this),t=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrackPrototype: Track is empty.",this),t=!1);for(var o=null,s=0;s!==r;s++){var a=n[s];if("number"==typeof a&&isNaN(a)){console.error("THREE.KeyframeTrackPrototype: Time is not a valid number.",this,s,a),t=!1;break}if(null!==o&&o>a){console.error("THREE.KeyframeTrackPrototype: Out of order keys.",this,s,a,o),t=!1;break}o=a}if(void 0!==i&&nh.isTypedArray(i))for(var s=0,l=i.length;s!==l;++s){var u=i[s];if(isNaN(u)){console.error("THREE.KeyframeTrackPrototype: Value is not a valid number.",this,s,u),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),i=this.getInterpolation()===da,r=1,o=t.length-1,s=1;o>s;++s){var a=!1,l=t[s],u=t[s+1];if(l!==u&&(1!==s||l!==l[0]))if(i)a=!0;else for(var h=s*n,c=h-n,p=h+n,d=0;d!==n;++d){var f=e[h+d];if(f!==e[c+d]||f!==e[p+d]){a=!0;break}}if(a){if(s!==r){t[r]=t[s];for(var m=s*n,g=r*n,d=0;d!==n;++d)e[g+d]=e[m+d]}++r}}if(o>0){t[r]=t[o];for(var m=o*n,g=r*n,d=0;d!==n;++d)e[g+d]=e[m+d];++r}return r!==t.length&&(this.times=nh.arraySlice(t,0,r),this.values=nh.arraySlice(e,0,r*n)),this}},ri.prototype=Object.assign(Object.create(ih),{constructor:ri,ValueTypeName:"vector"}),oi.prototype=Object.assign(Object.create($n.prototype),{constructor:oi,interpolate_:function(t,e,n,i){for(var o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=t*a,u=(n-e)/(i-e),h=l+a;l!==h;l+=4)r.slerpFlat(o,0,s,l-a,s,l,u);return o}}),si.prototype=Object.assign(Object.create(ih),{constructor:si,ValueTypeName:"quaternion",DefaultInterpolation:pa,InterpolantFactoryMethodLinear:function(t){return new oi(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),ai.prototype=Object.assign(Object.create(ih),{constructor:ai,ValueTypeName:"number"}),li.prototype=Object.assign(Object.create(ih),{constructor:li,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:ca,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ui.prototype=Object.assign(Object.create(ih),{constructor:ui,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:ca,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),hi.prototype=Object.assign(Object.create(ih),{constructor:hi,ValueTypeName:"color"}),ci.prototype=ih,ih.constructor=ci,Object.assign(ci,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=ci._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],i=[];nh.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:nh.convertArray(t.times,Array),values:nh.convertArray(t.values,Array)};var i=t.getInterpolation();i!==t.DefaultInterpolation&&(e.interpolation=i)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ai;case"vector":case"vector2":case"vector3":case"vector4":return ri;case"color":return hi;case"quaternion":return si;case"bool":case"boolean":return ui;case"string":return li}throw new Error("Unsupported typeName: "+t)}}),Object.assign(pi,{parse:function(t){for(var e=[],n=t.tracks,i=1/(t.fps||1),r=0,o=n.length;r!==o;++r)e.push(ci.parse(n[r]).scale(i));return new pi(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e},r=0,o=n.length;r!==o;++r)e.push(ci.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){for(var r=e.length,o=[],s=0;r>s;s++){var a=[],l=[];a.push((s+r-1)%r,s,(s+1)%r),l.push(0,1,0);var u=nh.getKeyframeOrder(a);a=nh.sortedArray(a,1,u),l=nh.sortedArray(l,1,u),i||0!==a[0]||(a.push(r),l.push(l[0])),o.push(new ai(".morphTargetInfluences["+e[s].name+"]",a,l).scale(1/n))}return new pi(t,-1,o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var i=t;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,o=0,s=t.length;s>o;o++){var a=t[o],l=a.name.match(r);if(l&&l.length>1){var u=l[1],h=i[u];h||(i[u]=h=[]),h.push(a)}}var c=[];for(var u in i)c.push(pi.CreateFromMorphTargetSequence(u,i[u],e,n));return c},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,i,r){if(0!==n.length){var o=[],s=[];nh.flattenJSON(n,o,s,i),0!==o.length&&r.push(new t(e,o,s))}},i=[],r=t.name||"default",o=t.length||-1,s=t.fps||30,a=t.hierarchy||[],l=0;l<a.length;l++){var u=a[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var h={},c=0;c<u.length;c++)if(u[c].morphTargets)for(var p=0;p<u[c].morphTargets.length;p++)h[u[c].morphTargets[p]]=-1;for(var d in h){for(var f=[],m=[],p=0;p!==u[c].morphTargets.length;++p){var g=u[c];f.push(g.time),m.push(g.morphTarget===d?1:0)}i.push(new ai(".morphTargetInfluence["+d+"]",f,m))}o=h.length*(s||1)}else{var v=".bones["+e[l].name+"]";n(ri,v+".position",u,"pos",i),n(si,v+".quaternion",u,"rot",i),n(ri,v+".scale",u,"scl",i)}}if(0===i.length)return null;var y=new pi(r,o,i);return y}}),Object.assign(pi.prototype,{resetDuration:function(){for(var t=this.tracks,e=0,n=0,i=t.length;n!==i;++n){var r=this.tracks[n];e=Math.max(e,r.times[r.times.length-1])}this.duration=e},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}}),Object.assign(di.prototype,{load:function(t,e,n,i){var r=this,o=new Fn(r.manager);o.load(t,function(t){e(r.parse(JSON.parse(t)))},n,i)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===i[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),i[t]}var i=this.textures,r=new Ju[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),
void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=e(t.map)),void 0!==t.alphaMap&&(r.alphaMap=e(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=e(t.normalMap)),void 0!==t.normalScale){var o=t.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=(new n).fromArray(o)}return void 0!==t.displacementMap&&(r.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=e(t.specularMap)),void 0!==t.envMap&&(r.envMap=e(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=e(t.gradientMap)),r}}),Object.assign(fi.prototype,{load:function(t,e,n,i){var r=this,o=new Fn(r.manager);o.load(t,function(t){e(r.parse(JSON.parse(t)))},n,i)},parse:function(t){var e=new St,n=t.data.index;if(void 0!==n){var i=new rh[n.type](n.array);e.setIndex(new ft(i,1))}var r=t.data.attributes;for(var s in r){var a=r[s],i=new rh[a.type](a.array);e.addAttribute(s,new ft(i,a.itemSize,a.normalized))}var l=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==l)for(var u=0,h=l.length;u!==h;++u){var c=l[u];e.addGroup(c.start,c.count,c.materialIndex)}var p=t.data.boundingSphere;if(void 0!==p){var d=new o;void 0!==p.center&&d.fromArray(p.center),e.boundingSphere=new nt(d,p.radius)}return e}});var rh={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};mi.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,i=e.length;i>n;n+=2){var r=e[n],o=e[n+1];if(r.test(t))return o}return null}},Object.assign(mi.prototype,{crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,n){for(var i=[],r=0;r<t.length;++r)i[r]=this.createMaterial(t[r],e,n);return i},createMaterial:function(){var t={NoBlending:Lo,NormalBlending:No,AdditiveBlending:Io,SubtractiveBlending:ko,MultiplyBlending:Do,CustomBlending:Fo},e=new X,n=new Hn,i=new di;return function(r,o,s){function a(t,e,i,r,a){var u,h=o+t,c=mi.Handlers.get(h);null!==c?u=c.load(h):(n.setCrossOrigin(s),u=n.load(h)),void 0!==e&&(u.repeat.fromArray(e),1!==e[0]&&(u.wrapS=Ts),1!==e[1]&&(u.wrapT=Ts)),void 0!==i&&u.offset.fromArray(i),void 0!==r&&("repeat"===r[0]&&(u.wrapS=Ts),"mirror"===r[0]&&(u.wrapS=Ss),"repeat"===r[1]&&(u.wrapT=Ts),"mirror"===r[1]&&(u.wrapT=Ss)),void 0!==a&&(u.anisotropy=a);var p=Ra.generateUUID();return l[p]=u,p}var l={},u={uuid:Ra.generateUUID(),type:"MeshLambertMaterial"};for(var h in r){var c=r[h];switch(h){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":u.name=c;break;case"blending":u.blending=t[c];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",h,"is no longer supported.");break;case"colorDiffuse":u.color=e.fromArray(c).getHex();break;case"colorSpecular":u.specular=e.fromArray(c).getHex();break;case"colorEmissive":u.emissive=e.fromArray(c).getHex();break;case"specularCoef":u.shininess=c;break;case"shading":"basic"===c.toLowerCase()&&(u.type="MeshBasicMaterial"),"phong"===c.toLowerCase()&&(u.type="MeshPhongMaterial"),"standard"===c.toLowerCase()&&(u.type="MeshStandardMaterial");break;case"mapDiffuse":u.map=a(c,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":u.emissiveMap=a(c,r.mapEmissiveRepeat,r.mapEmissiveOffset,r.mapEmissiveWrap,r.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":u.lightMap=a(c,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":u.aoMap=a(c,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":u.bumpMap=a(c,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":u.bumpScale=c;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":u.normalMap=a(c,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":u.normalScale=[c,c];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":u.specularMap=a(c,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":u.metalnessMap=a(c,r.mapMetalnessRepeat,r.mapMetalnessOffset,r.mapMetalnessWrap,r.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":u.roughnessMap=a(c,r.mapRoughnessRepeat,r.mapRoughnessOffset,r.mapRoughnessWrap,r.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":u.alphaMap=a(c,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":u.side=Eo;break;case"doubleSided":u.side=So;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),u.opacity=c;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":u[h]=c;break;case"vertexColors":c===!0&&(u.vertexColors=Oo),"face"===c&&(u.vertexColors=Ro);break;default:console.error("THREE.Loader.createMaterial: Unsupported",h,c)}}return"MeshBasicMaterial"===u.type&&delete u.emissive,"MeshPhongMaterial"!==u.type&&delete u.specular,u.opacity<1&&(u.transparent=!0),i.setTextures(l),i.parse(u)}}()}),Object.assign(gi.prototype,{load:function(t,e,n,i){var r=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:mi.prototype.extractUrlBase(t),s=new Fn(this.manager);s.setWithCredentials(this.withCredentials),s.load(t,function(n){var i=JSON.parse(n),s=i.metadata;if(void 0!==s){var a=s.type;if(void 0!==a){if("object"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}}var l=r.parse(i,o);e(l.geometry,l.materials)},n,i)},setTexturePath:function(t){this.texturePath=t},parse:function(){function t(t,e){function i(t,e){return t&1<<e}var r,s,a,l,u,h,c,p,d,f,m,g,v,y,_,A,b,x,w,T,E,S,M,C,P,R,O,L=t.faces,N=t.vertices,I=t.normals,k=t.colors,D=t.scale,F=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&F++;for(r=0;F>r;r++)e.faceVertexUvs[r]=[]}for(l=0,u=N.length;u>l;)x=new o,x.x=N[l++]*D,x.y=N[l++]*D,x.z=N[l++]*D,e.vertices.push(x);for(l=0,u=L.length;u>l;)if(f=L[l++],m=i(f,0),g=i(f,1),v=i(f,3),y=i(f,4),_=i(f,5),A=i(f,6),b=i(f,7),m){if(T=new pt,T.a=L[l],T.b=L[l+1],T.c=L[l+3],E=new pt,E.a=L[l+1],E.b=L[l+2],E.c=L[l+3],l+=4,g&&(d=L[l++],T.materialIndex=d,E.materialIndex=d),a=e.faces.length,v)for(r=0;F>r;r++)for(C=t.uvs[r],e.faceVertexUvs[r][a]=[],e.faceVertexUvs[r][a+1]=[],s=0;4>s;s++)p=L[l++],R=C[2*p],O=C[2*p+1],P=new n(R,O),2!==s&&e.faceVertexUvs[r][a].push(P),0!==s&&e.faceVertexUvs[r][a+1].push(P);if(y&&(c=3*L[l++],T.normal.set(I[c++],I[c++],I[c]),E.normal.copy(T.normal)),_)for(r=0;4>r;r++)c=3*L[l++],M=new o(I[c++],I[c++],I[c]),2!==r&&T.vertexNormals.push(M),0!==r&&E.vertexNormals.push(M);if(A&&(h=L[l++],S=k[h],T.color.setHex(S),E.color.setHex(S)),b)for(r=0;4>r;r++)h=L[l++],S=k[h],2!==r&&T.vertexColors.push(new X(S)),0!==r&&E.vertexColors.push(new X(S));e.faces.push(T),e.faces.push(E)}else{if(w=new pt,w.a=L[l++],w.b=L[l++],w.c=L[l++],g&&(d=L[l++],w.materialIndex=d),a=e.faces.length,v)for(r=0;F>r;r++)for(C=t.uvs[r],e.faceVertexUvs[r][a]=[],s=0;3>s;s++)p=L[l++],R=C[2*p],O=C[2*p+1],P=new n(R,O),e.faceVertexUvs[r][a].push(P);if(y&&(c=3*L[l++],w.normal.set(I[c++],I[c++],I[c])),_)for(r=0;3>r;r++)c=3*L[l++],M=new o(I[c++],I[c++],I[c]),w.vertexNormals.push(M);if(A&&(h=L[l++],w.color.setHex(k[h])),b)for(r=0;3>r;r++)h=L[l++],w.vertexColors.push(new X(k[h]));e.faces.push(w)}}function e(t,e){var n=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var i=0,r=t.skinWeights.length;r>i;i+=n){var o=t.skinWeights[i],s=n>1?t.skinWeights[i+1]:0,a=n>2?t.skinWeights[i+2]:0,u=n>3?t.skinWeights[i+3]:0;e.skinWeights.push(new l(o,s,a,u))}if(t.skinIndices)for(var i=0,r=t.skinIndices.length;r>i;i+=n){var h=t.skinIndices[i],c=n>1?t.skinIndices[i+1]:0,p=n>2?t.skinIndices[i+2]:0,d=n>3?t.skinIndices[i+3]:0;e.skinIndices.push(new l(h,c,p,d))}e.bones=t.bones,e.bones&&e.bones.length>0&&(e.skinWeights.length!==e.skinIndices.length||e.skinIndices.length!==e.vertices.length)&&console.warn("When skinning, number of vertices ("+e.vertices.length+"), skinIndices ("+e.skinIndices.length+"), and skinWeights ("+e.skinWeights.length+") should match.")}function i(t,e){var n=t.scale;if(void 0!==t.morphTargets)for(var i=0,r=t.morphTargets.length;r>i;i++){e.morphTargets[i]={},e.morphTargets[i].name=t.morphTargets[i].name,e.morphTargets[i].vertices=[];for(var s=e.morphTargets[i].vertices,a=t.morphTargets[i].vertices,l=0,u=a.length;u>l;l+=3){var h=new o;h.x=a[l]*n,h.y=a[l+1]*n,h.z=a[l+2]*n,s.push(h)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var c=e.faces,p=t.morphColors[0].colors,i=0,r=c.length;r>i;i++)c[i].color.fromArray(p,3*i)}}function r(t,e){var n=[],i=[];void 0!==t.animation&&i.push(t.animation),void 0!==t.animations&&(t.animations.length?i=i.concat(t.animations):i.push(t.animations));for(var r=0;r<i.length;r++){var o=pi.parseAnimation(i[r],e.bones);o&&n.push(o)}if(e.morphTargets){var s=pi.CreateClipsFromMorphTargetSequences(e.morphTargets,10);n=n.concat(s)}n.length>0&&(e.animations=n)}return function(n,o){void 0!==n.data&&(n=n.data),n.scale=void 0!==n.scale?1/n.scale:1;var s=new dt;if(t(n,s),e(n,s),i(n,s),r(n,s),s.computeFaceNormals(),s.computeBoundingSphere(),void 0===n.materials||0===n.materials.length)return{geometry:s};var a=mi.prototype.initMaterials(n.materials,o,this.crossOrigin);return{geometry:s,materials:a}}}()}),Object.assign(vi.prototype,{load:function(t,e,n,i){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var r=this,o=new Fn(r.manager);o.load(t,function(n){var o=null;try{o=JSON.parse(n)}catch(s){return void 0!==i&&i(s),void console.error("THREE:ObjectLoader: Can't parse "+t+".",s.message)}var a=o.metadata;return void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase()?void console.error("THREE.ObjectLoader: Can't load "+t+". Use THREE.JSONLoader instead."):void r.parse(o,e)},n,i)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),i=this.parseImages(t.images,function(){void 0!==e&&e(s)}),r=this.parseTextures(t.textures,i),o=this.parseMaterials(t.materials,r),s=this.parseObject(t.object,n,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),(void 0===t.images||0===t.images.length)&&void 0!==e&&e(s),s},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new gi,i=new fi,r=0,o=t.length;o>r;r++){var s,a=t[r];switch(a.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new Qu[a.type](a.width,a.height,a.widthSegments,a.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new Qu[a.type](a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new Qu[a.type](a.radius,a.segments,a.thetaStart,a.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new Qu[a.type](a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new Qu[a.type](a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new Qu[a.type](a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new Qu[a.type](a.radius,a.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new Qu[a.type](a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new Qu[a.type](a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new Qu[a.type](a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new Qu[a.type](a.points,a.segments,a.phiStart,a.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new Qu[a.type](a.vertices,a.indices,a.radius,a.details);break;case"BufferGeometry":s=i.parse(a);break;case"Geometry":s=n.parse(a,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+a.type+'"');continue}s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),e[a.uuid]=s}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var i=new di;i.setTextures(e);for(var r=0,o=t.length;o>r;r++){var s=t[r];if("MultiMaterial"===s.type){for(var a=[],l=0;l<s.materials.length;l++)a.push(i.parse(s.materials[l]));n[s.uuid]=a}else n[s.uuid]=i.parse(s)}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var i=pi.parse(t[n]);e.push(i)}return e},parseImages:function(t,e){function n(t){return i.manager.itemStart(t),s.load(t,function(){i.manager.itemEnd(t)},void 0,function(){i.manager.itemEnd(t),i.manager.itemError(t)})}var i=this,r={};if(void 0!==t&&t.length>0){var o=new Dn(e),s=new Vn(o);s.setCrossOrigin(this.crossOrigin);for(var a=0,l=t.length;l>a;a++){var u=t[a],h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:i.texturePath+u.url;r[u.uuid]=n(h)}}return r},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var i={};if(void 0!==t)for(var r=0,o=t.length;o>r;r++){var s=t[r];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);var l=new a(e[s.image]);l.needsUpdate=!0,l.uuid=s.uuid,void 0!==s.name&&(l.name=s.name),void 0!==s.mapping&&(l.mapping=n(s.mapping,oh)),void 0!==s.offset&&l.offset.fromArray(s.offset),void 0!==s.repeat&&l.repeat.fromArray(s.repeat),void 0!==s.center&&l.center.fromArray(s.center),void 0!==s.rotation&&(l.rotation=s.rotation),void 0!==s.wrap&&(l.wrapS=n(s.wrap[0],sh),l.wrapT=n(s.wrap[1],sh)),void 0!==s.minFilter&&(l.minFilter=n(s.minFilter,ah)),void 0!==s.magFilter&&(l.magFilter=n(s.magFilter,ah)),void 0!==s.anisotropy&&(l.anisotropy=s.anisotropy),void 0!==s.flipY&&(l.flipY=s.flipY),i[s.uuid]=l}return i},parseObject:function(){var t=new i;return function(e,n,i){function r(t){return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),n[t]}function o(t){if(void 0===t)return void 0;if(Array.isArray(t)){for(var e=[],n=0,r=t.length;r>n;n++){var o=t[n];void 0===i[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),e.push(i[o])}return e}return void 0===i[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),i[t]}var s;switch(e.type){case"Scene":s=new Te,void 0!==e.background&&Number.isInteger(e.background)&&(s.background=new X(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?s.fog=new we(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(s.fog=new xe(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":s=new me(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(s.focus=e.focus),void 0!==e.zoom&&(s.zoom=e.zoom),void 0!==e.filmGauge&&(s.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(s.filmOffset=e.filmOffset),void 0!==e.view&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new ct(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":s=new Qn(e.color,e.intensity);break;case"DirectionalLight":s=new Zn(e.color,e.intensity);break;case"PointLight":s=new Kn(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new Jn(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new Xn(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new jn(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=r(e.geometry),l=o(e.material);s=a.bones&&a.bones.length>0?new Oe(a,l):new Dt(a,l);break;case"LOD":s=new Ce;break;case"Line":s=new Ne(r(e.geometry),o(e.material),e.mode);break;case"LineLoop":s=new ke(r(e.geometry),o(e.material));break;case"LineSegments":s=new Ie(r(e.geometry),o(e.material));break;case"PointCloud":case"Points":s=new Fe(r(e.geometry),o(e.material));break;case"Sprite":s=new Me(o(e.material));break;case"Group":s=new Be;break;default:s=new ut}if(s.uuid=e.uuid,void 0!==e.name&&(s.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(s.position,s.quaternion,s.scale)):(void 0!==e.position&&s.position.fromArray(e.position),void 0!==e.rotation&&s.rotation.fromArray(e.rotation),void 0!==e.quaternion&&s.quaternion.fromArray(e.quaternion),void 0!==e.scale&&s.scale.fromArray(e.scale)),void 0!==e.castShadow&&(s.castShadow=e.castShadow),void 0!==e.receiveShadow&&(s.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(s.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(s.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&s.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(s.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(s.visible=e.visible),void 0!==e.userData&&(s.userData=e.userData),void 0!==e.children)for(var u=e.children,h=0;h<u.length;h++)s.add(this.parseObject(u[h],n,i));if("LOD"===e.type)for(var c=e.levels,p=0;p<c.length;p++){var d=c[p],f=s.getObjectByProperty("uuid",d.object);void 0!==f&&s.addLevel(f,d.distance)}return s}}()});var oh={UVMapping:gs,CubeReflectionMapping:vs,CubeRefractionMapping:ys,EquirectangularReflectionMapping:_s,EquirectangularRefractionMapping:As,SphericalReflectionMapping:bs,CubeUVReflectionMapping:xs,CubeUVRefractionMapping:ws},sh={RepeatWrapping:Ts,ClampToEdgeWrapping:Es,MirroredRepeatWrapping:Ss},ah={NearestFilter:Ms,NearestMipMapNearestFilter:Cs,NearestMipMapLinearFilter:Ps,LinearFilter:Rs,LinearMipMapNearestFilter:Os,LinearMipMapLinearFilter:Ls};Object.assign(Ci.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;t>=n;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;t>=n;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,i=[],r=this.getPoint(0),o=0;for(i.push(0),n=1;t>=n;n++)e=this.getPoint(n/t),o+=e.distanceTo(r),i.push(o),r=e;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,i=this.getLengths(),r=0,o=i.length;n=e?e:t*i[o-1];for(var s,a=0,l=o-1;l>=a;)if(r=Math.floor(a+(l-a)/2),s=i[r]-n,0>s)a=r+1;else{if(!(s>0)){l=r;break}l=r-1}if(r=l,i[r]===n)return r/(o-1);var u=i[r],h=i[r+1],c=h-u,p=(n-u)/c,d=(r+p)/(o-1);return d},getTangent:function(t){var e=1e-4,n=t-e,i=t+e;0>n&&(n=0),i>1&&(i=1);var r=this.getPoint(n),o=this.getPoint(i),s=o.clone().sub(r);return s.normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,r,s,a=new o,l=[],u=[],h=[],c=new o,p=new i;for(n=0;t>=n;n++)r=n/t,l[n]=this.getTangentAt(r),l[n].normalize();u[0]=new o,h[0]=new o;var d=Number.MAX_VALUE,f=Math.abs(l[0].x),m=Math.abs(l[0].y),g=Math.abs(l[0].z);for(d>=f&&(d=f,a.set(1,0,0)),d>=m&&(d=m,a.set(0,1,0)),d>=g&&a.set(0,0,1),c.crossVectors(l[0],a).normalize(),u[0].crossVectors(l[0],c),h[0].crossVectors(l[0],u[0]),n=1;t>=n;n++)u[n]=u[n-1].clone(),h[n]=h[n-1].clone(),c.crossVectors(l[n-1],l[n]),c.length()>Number.EPSILON&&(c.normalize(),s=Math.acos(Ra.clamp(l[n-1].dot(l[n]),-1,1)),u[n].applyMatrix4(p.makeRotationAxis(c,s))),h[n].crossVectors(l[n],u[n]);if(e===!0)for(s=Math.acos(Ra.clamp(u[0].dot(u[t]),-1,1)),s/=t,l[0].dot(c.crossVectors(u[0],u[t]))>0&&(s=-s),n=1;t>=n;n++)u[n].applyMatrix4(p.makeRotationAxis(l[n],s*n)),h[n].crossVectors(l[n],u[n]);return{tangents:l,normals:u,binormals:h}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Pi.prototype=Object.create(Ci.prototype),Pi.prototype.constructor=Pi,Pi.prototype.isLineCurve=!0,Pi.prototype.getPoint=function(t,e){var i=e||new n;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},Pi.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Pi.prototype.getTangent=function(){var t=this.v2.clone().sub(this.v1);return t.normalize()},Pi.prototype.copy=function(t){return Ci.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Ri.prototype=Object.assign(Object.create(Ci.prototype),{constructor:Ri,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Pi(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=e){var r=n[i]-e,o=this.curves[i],s=o.getLength(),a=0===s?0:1-r/s;return o.getPointAt(a)}i++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,i=this.curves.length;i>n;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;t>=n;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],i=0,r=this.curves;i<r.length;i++)for(var o=r[i],s=o&&o.isEllipseCurve?2*t:o&&o.isLineCurve?1:o&&o.isSplineCurve?t*o.points.length:t,a=o.getPoints(s),l=0;l<a.length;l++){var u=a[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(t){Ci.prototype.copy.call(this,t),this.curves=[];for(var e=0,n=t.curves.length;n>e;e++){var i=t.curves[e];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this}}),Oi.prototype=Object.create(Ci.prototype),Oi.prototype.constructor=Oi,Oi.prototype.isEllipseCurve=!0,Oi.prototype.getPoint=function(t,e){for(var i=e||new n,r=2*Math.PI,o=this.aEndAngle-this.aStartAngle,s=Math.abs(o)<Number.EPSILON;0>o;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(o=s?0:r),this.aClockwise!==!0||s||(o===r?o=-r:o-=r);var a=this.aStartAngle+t*o,l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var h=Math.cos(this.aRotation),c=Math.sin(this.aRotation),p=l-this.aX,d=u-this.aY;l=p*h-d*c+this.aX,u=p*c+d*h+this.aY}return i.set(l,u)},Oi.prototype.copy=function(t){return Ci.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Li.prototype=Object.create(Ci.prototype),Li.prototype.constructor=Li,Li.prototype.isSplineCurve=!0,Li.prototype.getPoint=function(t,e){var i=e||new n,r=this.points,o=(r.length-1)*t,s=Math.floor(o),a=o-s,l=r[0===s?s:s-1],u=r[s],h=r[s>r.length-2?r.length-1:s+1],c=r[s>r.length-3?r.length-1:s+2];return i.set(yi(a,l.x,u.x,h.x,c.x),yi(a,l.y,u.y,h.y,c.y)),i},Li.prototype.copy=function(t){Ci.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;n>e;e++){var i=t.points[e];this.points.push(i.clone())}return this},Ni.prototype=Object.create(Ci.prototype),Ni.prototype.constructor=Ni,Ni.prototype.isCubicBezierCurve=!0,Ni.prototype.getPoint=function(t,e){var i=e||new n,r=this.v0,o=this.v1,s=this.v2,a=this.v3;return i.set(Mi(t,r.x,o.x,s.x,a.x),Mi(t,r.y,o.y,s.y,a.y)),i},Ni.prototype.copy=function(t){return Ci.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Ii.prototype=Object.create(Ci.prototype),Ii.prototype.constructor=Ii,Ii.prototype.isQuadraticBezierCurve=!0,Ii.prototype.getPoint=function(t,e){var i=e||new n,r=this.v0,o=this.v1,s=this.v2;return i.set(xi(t,r.x,o.x,s.x),xi(t,r.y,o.y,s.y)),i},Ii.prototype.copy=function(t){return Ci.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this};var lh=Object.assign(Object.create(Ri.prototype),{setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;n>e;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var i=new Pi(this.currentPoint.clone(),new n(t,e));this.curves.push(i),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,i,r){var o=new Ii(this.currentPoint.clone(),new n(t,e),new n(i,r));this.curves.push(o),this.currentPoint.set(i,r)},bezierCurveTo:function(t,e,i,r,o,s){var a=new Ni(this.currentPoint.clone(),new n(t,e),new n(i,r),new n(o,s));this.curves.push(a),this.currentPoint.set(o,s)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),n=new Li(e);this.curves.push(n),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,i,r,o){var s=this.currentPoint.x,a=this.currentPoint.y;this.absarc(t+s,e+a,n,i,r,o)},absarc:function(t,e,n,i,r,o){this.absellipse(t,e,n,n,i,r,o)},ellipse:function(t,e,n,i,r,o,s,a){var l=this.currentPoint.x,u=this.currentPoint.y;this.absellipse(t+l,e+u,n,i,r,o,s,a)},absellipse:function(t,e,n,i,r,o,s,a){var l=new Oi(t,e,n,i,r,o,s,a);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var h=l.getPoint(1);this.currentPoint.copy(h)},copy:function(t){return Ri.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this}});ki.prototype=lh,lh.constructor=ki,Di.prototype=Object.assign(Object.create(lh),{constructor:Di,getPointsHoles:function(t){for(var e=[],n=0,i=this.holes.length;i>n;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){ki.prototype.copy.call(this,t),this.holes=[];for(var e=0,n=t.holes.length;n>e;e++){var i=t.holes[e];this.holes.push(i.clone())}return this}}),Object.assign(Fi.prototype,{moveTo:function(t,e){this.currentPath=new ki,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,i){this.currentPath.quadraticCurveTo(t,e,n,i)},bezierCurveTo:function(t,e,n,i,r,o){this.currentPath.bezierCurveTo(t,e,n,i,r,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,i=t.length;i>n;n++){var r=t[n],o=new Di;o.curves=r.curves,e.push(o)}return e}function i(t,e){for(var n=e.length,i=!1,r=n-1,o=0;n>o;r=o++){var s=e[r],a=e[o],l=a.x-s.x,u=a.y-s.y;if(Math.abs(u)>Number.EPSILON){if(0>u&&(s=e[o],l=-l,a=e[r],u=-u),t.y<s.y||t.y>a.y)continue;if(t.y===s.y){if(t.x===s.x)return!0}else{var h=u*(t.x-s.x)-l*(t.y-s.y);if(0===h)return!0;if(0>h)continue;i=!i}}else{if(t.y!==s.y)continue;if(a.x<=t.x&&t.x<=s.x||s.x<=t.x&&t.x<=a.x)return!0}}return i}var r=Zu.isClockWise,o=this.subPaths;if(0===o.length)return[];if(e===!0)return n(o);var s,a,l,u=[];if(1===o.length)return a=o[0],l=new Di,l.curves=a.curves,u.push(l),u;var h=!r(o[0].getPoints());h=t?!h:h;var c,p=[],d=[],f=[],m=0;d[m]=void 0,f[m]=[];for(var g=0,v=o.length;v>g;g++)a=o[g],c=a.getPoints(),s=r(c),s=t?!s:s,s?(!h&&d[m]&&m++,d[m]={s:new Di,p:c},d[m].s.curves=a.curves,h&&m++,f[m]=[]):f[m].push({h:a,p:c[0]});if(!d[0])return n(o);if(d.length>1){for(var y=!1,_=[],A=0,b=d.length;b>A;A++)p[A]=[];for(var A=0,b=d.length;b>A;A++)for(var x=f[A],w=0;w<x.length;w++){for(var T=x[w],E=!0,S=0;S<d.length;S++)i(T.p,d[S].p)&&(A!==S&&_.push({froms:A,tos:S,hole:w}),E?(E=!1,p[S].push(T)):y=!0);E&&p[A].push(T)}_.length>0&&(y||(f=p))}for(var M,g=0,C=d.length;C>g;g++){l=d[g].s,u.push(l),M=f[g];for(var P=0,R=M.length;R>P;P++)l.holes.push(M[P].h)}return u}}),Object.assign(Bi.prototype,{isFont:!0,generateShapes:function(t,e,n){function i(t){for(var n=String(t).split(""),i=e/o.resolution,s=(o.boundingBox.yMax-o.boundingBox.yMin+o.underlineThickness)*i,a=0,l=0,u=[],h=0;h<n.length;h++){var c=n[h];if("\n"===c)a=0,l-=s;else{var p=r(c,i,a,l);a+=p.offsetX,u.push(p.path)}}return u}function r(t,e,i,r){var s=o.glyphs[t]||o.glyphs["?"];if(s){var a,l,u,h,c,p,d,f,m,g,v,y=new Fi,_=[];if(s.o)for(var A=s._cachedOutline||(s._cachedOutline=s.o.split(" ")),b=0,x=A.length;x>b;){var w=A[b++];switch(w){case"m":a=A[b++]*e+i,l=A[b++]*e+r,y.moveTo(a,l);break;case"l":a=A[b++]*e+i,l=A[b++]*e+r,y.lineTo(a,l);break;case"q":if(u=A[b++]*e+i,h=A[b++]*e+r,d=A[b++]*e+i,f=A[b++]*e+r,y.quadraticCurveTo(d,f,u,h),v=_[_.length-1]){c=v.x,p=v.y;for(var T=1;n>=T;T++){var E=T/n;xi(E,c,d,u),xi(E,p,f,h)}}break;case"b":if(u=A[b++]*e+i,h=A[b++]*e+r,d=A[b++]*e+i,f=A[b++]*e+r,m=A[b++]*e+i,g=A[b++]*e+r,y.bezierCurveTo(d,f,m,g,u,h),v=_[_.length-1]){c=v.x,p=v.y;for(var T=1;n>=T;T++){var E=T/n;Mi(E,c,d,m,u),Mi(E,p,f,g,h);

}}}}return{offsetX:s.ha*e,path:y}}}void 0===e&&(e=100),void 0===n&&(n=4);for(var o=this.data,s=i(t),a=[],l=0,u=s.length;u>l;l++)Array.prototype.push.apply(a,s[l].toShapes());return a}}),Object.assign(Ui.prototype,{load:function(t,e,n,i){var r=this,o=new Fn(this.manager);o.setPath(this.path),o.load(t,function(t){var n;try{n=JSON.parse(t)}catch(i){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var o=r.parse(n);e&&e(o)},n,i)},parse:function(t){return new Bi(t)},setPath:function(t){return this.path=t,this}});var uh,hh={getContext:function(){return void 0===uh&&(uh=new(window.AudioContext||window.webkitAudioContext)),uh},setContext:function(t){uh=t}};Object.assign(Vi.prototype,{load:function(t,e,n,i){var r=new Fn(this.manager);r.setResponseType("arraybuffer"),r.load(t,function(t){var n=hh.getContext();n.decodeAudioData(t,function(t){e(t)})},n,i)}}),Object.assign(Gi.prototype,{update:function(){var t,e,n,r,o,s,a,l,u=new i,h=new i;return function(i){var c=t!==this||e!==i.focus||n!==i.fov||r!==i.aspect*this.aspect||o!==i.near||s!==i.far||a!==i.zoom||l!==this.eyeSep;if(c){t=this,e=i.focus,n=i.fov,r=i.aspect*this.aspect,o=i.near,s=i.far,a=i.zoom;var p=i.projectionMatrix.clone();l=this.eyeSep/2;var d,f,m=l*o/e,g=o*Math.tan(Ra.DEG2RAD*n*.5)/a;h.elements[12]=-l,u.elements[12]=l,d=-g*r+m,f=g*r+m,p.elements[0]=2*o/(f-d),p.elements[8]=(f+d)/(f-d),this.cameraL.projectionMatrix.copy(p),d=-g*r-m,f=g*r-m,p.elements[0]=2*o/(f-d),p.elements[8]=(f+d)/(f-d),this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(i.matrixWorld).multiply(h),this.cameraR.matrixWorld.copy(i.matrixWorld).multiply(u)}}()}),Hi.prototype=Object.create(ut.prototype),Hi.prototype.constructor=Hi,zi.prototype=Object.assign(Object.create(ut.prototype),{constructor:zi,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new o,e=new r,n=new o,i=new o;return function(r){ut.prototype.updateMatrixWorld.call(this,r);var o=this.context.listener,s=this.up;this.matrixWorld.decompose(t,e,n),i.set(0,0,-1).applyQuaternion(e),o.positionX?(o.positionX.setValueAtTime(t.x,this.context.currentTime),o.positionY.setValueAtTime(t.y,this.context.currentTime),o.positionZ.setValueAtTime(t.z,this.context.currentTime),o.forwardX.setValueAtTime(i.x,this.context.currentTime),o.forwardY.setValueAtTime(i.y,this.context.currentTime),o.forwardZ.setValueAtTime(i.z,this.context.currentTime),o.upX.setValueAtTime(s.x,this.context.currentTime),o.upY.setValueAtTime(s.y,this.context.currentTime),o.upZ.setValueAtTime(s.z,this.context.currentTime)):(o.setPosition(t.x,t.y,t.z),o.setOrientation(i.x,i.y,i.z,s.x,s.y,s.z))}}()}),ji.prototype=Object.assign(Object.create(ut.prototype),{constructor:ji,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(this.isPlaying===!0)return void console.warn("THREE.Audio: Audio is already playing.");if(this.hasPlaybackControl===!1)return void console.warn("THREE.Audio: this Audio has no playback control.");var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.isPlaying===!0&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this)},stop:function(){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.offset=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;e>t;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;e>t;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),this.isPlaying===!0?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),qi.prototype=Object.assign(Object.create(ji.prototype),{constructor:qi,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new o;return function(e){ut.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(Wi.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(Xi.prototype,{accumulate:function(t,e){var n=this.buffer,i=this.valueSize,r=t*i+i,o=this.cumulativeWeight;if(0===o){for(var s=0;s!==i;++s)n[r+s]=n[s];o=e}else{o+=e;var a=e/o;this._mixBufferRegion(n,r,0,a,i)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,1>r){var s=3*e;this._mixBufferRegion(n,i,s,1-r,e)}for(var a=e,l=e+e;a!==l;++a)if(n[a]!==n[a+e]){o.setValue(n,i);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,i=3*n;t.getValue(e,i);for(var r=n,o=i;r!==o;++r)e[r]=e[i+r%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,i,r){if(i>=.5)for(var o=0;o!==r;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,i){r.slerpFlat(t,e,t,e,t,n,i)},_lerp:function(t,e,n,i,r){for(var o=1-i,s=0;s!==r;++s){var a=e+s;t[a]=t[a]*o+t[n+s]*i}}}),Object.assign(Ki.prototype,{getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(Yi,{Composite:Ki,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new Yi.Composite(t,e,n):new Yi(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:function(){var t=/((?:[\w-]+[\/:])*)/,e=/([\w-\.]+)?/,n=/(?:\.([\w-]+)(?:\[(.+)\])?)?/,i=/\.([\w-]+)(?:\[(.+)\])?/,r=new RegExp("^"+t.source+e.source+n.source+i.source+"$"),o=["material","materials","bones"];return function(t){var e=r.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var s=n.nodeName.substring(i+1);-1!==o.indexOf(s)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=s)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}}(),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=function(t){for(var n=0;n<t.bones.length;n++){var i=t.bones[n];if(i.name===e)return i}return null},i=n(t.skeleton);if(i)return i}if(t.children){var r=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.name===e||i.uuid===e)return i;var o=r(i.children);if(o)return o}return null},o=r(t.children);if(o)return o}return null}}),Object.assign(Yi.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,i=e.propertyName,r=e.propertyIndex;if(t||(t=Yi.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var a=t[i];if(void 0===a){var l=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",t)}var u=this.Versioning.None;void 0!==t.needsUpdate?(u=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var h=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(var s=0;s<this.node.geometry.morphAttributes.position.length;s++)if(t.geometry.morphAttributes.position[s].name===r){r=s;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(var s=0;s<this.node.geometry.morphTargets.length;s++)if(t.geometry.morphTargets[s].name===r){r=s;break}}}h=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else void 0!==a.fromArray&&void 0!==a.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(h=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Yi.prototype,{_getValue_unbound:Yi.prototype.getValue,_setValue_unbound:Yi.prototype.setValue}),Object.assign(Zi.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length,l=0,u=arguments.length;l!==u;++l){var h=arguments[l],c=h.uuid,p=i[c],d=void 0;if(void 0===p){p=e++,i[c]=p,t.push(h);for(var f=0,m=a;f!==m;++f)s[f].push(new Yi(h,r[f],o[f]))}else if(n>p){d=t[p];var g=--n,v=t[g];i[v.uuid]=p,t[p]=v,i[c]=g,t[g]=h;for(var f=0,m=a;f!==m;++f){var y=s[f],_=y[g],A=y[p];y[p]=_,void 0===A&&(A=new Yi(h,r[f],o[f])),y[g]=A}}else t[p]!==d&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,o=0,s=arguments.length;o!==s;++o){var a=arguments[o],l=a.uuid,u=n[l];if(void 0!==u&&u>=e){var h=e++,c=t[h];n[c.uuid]=u,t[u]=c,n[l]=h,t[h]=a;for(var p=0,d=r;p!==d;++p){var f=i[p],m=f[h],g=f[u];f[u]=m,f[h]=g}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,o=r.length,s=0,a=arguments.length;s!==a;++s){var l=arguments[s],u=l.uuid,h=i[u];if(void 0!==h)if(delete i[u],n>h){var c=--n,p=t[c],d=--e,f=t[d];i[p.uuid]=h,t[h]=p,i[f.uuid]=c,t[c]=f,t.pop();for(var m=0,g=o;m!==g;++m){var v=r[m],y=v[c],_=v[d];v[h]=y,v[c]=_,v.pop()}}else{var d=--e,f=t[d];i[f.uuid]=h,t[h]=f,t.pop();for(var m=0,g=o;m!==g;++m){var v=r[m];v[h]=v[d],v.pop()}}}this.nCachedObjects_=n},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,i=n[t],r=this._bindings;if(void 0!==i)return r[i];var o=this._paths,s=this._parsedPaths,a=this._objects,l=a.length,u=this.nCachedObjects_,h=new Array(l);i=r.length,n[t]=i,o.push(t),s.push(e),r.push(h);for(var c=u,p=a.length;c!==p;++c){var d=a[c];h[c]=new Yi(d,t,e)}return h},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var i=this._paths,r=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s],l=t[s];e[l]=n,o[n]=a,o.pop(),r[n]=r[s],r.pop(),i[n]=i[s],i.pop()}}}),Object.assign(Qi.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var i=this._clip.duration,r=t._clip.duration,o=r/i,s=i/r;t.warp(1,o,e),this.warp(s,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var i=this._mixer,r=i.time,o=this._timeScaleInterpolant,s=this.timeScale;null===o&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);var a=o.parameterPositions,l=o.sampleValues;return a[0]=r,a[1]=r+n,l[0]=t/s,l[1]=e/s,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,i){if(!this.enabled)return void this._updateWeight(t);var r=this._startTime;if(null!==r){var o=(t-r)*n;if(0>o||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var s=this._updateTime(e),a=this._updateWeight(t);if(a>0)for(var l=this._interpolants,u=this._propertyBindings,h=0,c=l.length;h!==c;++h)l[h].evaluate(s),u[h].accumulate(i,a)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){var i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,i=this.loop,r=this._loopCount;if(i===la){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(0>e))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:0>t?-1:1})}}else{var o=i===ha;if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||0>e){var s=Math.floor(e/n);e-=n*s,r+=Math.abs(s);var a=this.repetitions-r;if(0>a)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(0===a){var l=0>t;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}if(o&&1===(1&r))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var i=this._interpolantSettings;n?(i.endingStart=ma,i.endingEnd=ma):(i.endingStart=t?this.zeroSlopeAtStart?ma:fa:ga,i.endingEnd=e?this.zeroSlopeAtEnd?ma:fa:ga)},_scheduleFading:function(t,e,n){var i=this._mixer,r=i.time,o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);var s=o.parameterPositions,a=o.sampleValues;return s[0]=r,a[0]=e,s[1]=r+t,a[1]=n,this}}),Object.assign(Ji.prototype,e.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,o=t._propertyBindings,s=t._interpolants,a=n.uuid,l=this._bindingsByRootAndName,u=l[a];void 0===u&&(u={},l[a]=u);for(var h=0;h!==r;++h){var c=i[h],p=c.name,d=u[p];if(void 0!==d)o[h]=d;else{if(d=o[h],void 0!==d){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,a,p));continue}var f=e&&e._propertyBindings[h].binding.parsedPath;d=new Xi(Yi.create(n,p,f),c.ValueTypeName,c.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,a,p),o[h]=d}s[h].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}for(var r=t._propertyBindings,o=0,s=r.length;o!==s;++o){var a=r[o];0===a.useCount++&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0===--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var i=this._actions,r=this._actionsByClip,o=r[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=o;else{var s=o.knownActions;t._byClipCacheIndex=s.length,s.push(t)}t._cacheIndex=i.length,i.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,o=this._actionsByClip,s=o[r],a=s.knownActions,l=a[a.length-1],u=t._byClipCacheIndex;l._byClipCacheIndex=u,a[u]=l,a.pop(),t._byClipCacheIndex=null;var h=s.actionByRoot,c=(t._localRoot||this._root).uuid;delete h[c],0===a.length&&delete o[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0===--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_addInactiveBinding:function(t,e,n){var i=this._bindingsByRootAndName,r=i[e],o=this._bindings;void 0===r&&(r={},i[e]=r),r[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,s=o[i],a=e[e.length-1],l=t._cacheIndex;a._cacheIndex=l,e[l]=a,e.pop(),delete s[r];t:{for(var u in s)break t;delete o[i]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(n=new ei(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"==typeof t?pi.findByName(n,t):t,o=null!==r?r.uuid:t,s=this._actionsByClip[o],a=null;if(void 0!==s){var l=s.actionByRoot[i];if(void 0!==l)return l;a=s.knownActions[0],null===r&&(r=a._clip)}if(null===r)return null;var u=new Qi(this,r,e);return this._bindAction(u,a),this._addInactiveAction(u,o,i),u},existingAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"==typeof t?pi.findByName(n,t):t,o=r?r.uuid:t,s=this._actionsByClip[o];return void 0!==s?s.actionByRoot[i]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==e;++r)t[r].reset();for(var r=0;r!==i;++r)n[r].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,i=this.time+=t,r=Math.sign(t),o=this._accuIndex^=1,s=0;s!==n;++s){var a=e[s];a._update(i,t,r,o)}for(var l=this._bindings,u=this._nActiveBindings,s=0;s!==u;++s)l[s].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var o=r.knownActions,s=0,a=o.length;s!==a;++s){var l=o[s];this._deactivateAction(l);var u=l._cacheIndex,h=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,h._cacheIndex=u,e[u]=h,e.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot,o=r[e];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var s=this._bindingsByRootAndName,a=s[e];if(void 0!==a)for(var l in a){var u=a[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),$i.prototype.clone=function(){return new $i(void 0===this.value.clone?this.value:this.value.clone())},tr.prototype=Object.assign(Object.create(St.prototype),{constructor:tr,isInstancedBufferGeometry:!0,copy:function(t){return St.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Object.defineProperties(er.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(er.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this}}),Object.defineProperty(nr.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Object.assign(nr.prototype,{isInterleavedBuffer:!0,setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var i=0,r=this.stride;r>i;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),ir.prototype=Object.assign(Object.create(nr.prototype),{constructor:ir,isInstancedInterleavedBuffer:!0,copy:function(t){return nr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),rr.prototype=Object.assign(Object.create(ft.prototype),{constructor:rr,isInstancedBufferAttribute:!0,copy:function(t){return ft.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(or.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var n=[];return ar(t,this,n,e),n.sort(sr),n},intersectObjects:function(t,e){var n=[];if(Array.isArray(t)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var i=0,r=t.length;r>i;i++)ar(t[i],this,n,e);return n.sort(sr),n}}),Object.assign(lr.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Object.assign(ur.prototype,{set:function(t,e,n){
return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(Ra.clamp(t.y/this.radius,-1,1))),this}}),Object.assign(hr.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}}),cr.prototype=Object.create(ut.prototype),cr.prototype.constructor=cr,cr.prototype.isImmediateRenderObject=!0,pr.prototype=Object.create(Ie.prototype),pr.prototype.constructor=pr,pr.prototype.update=function(){var t=new o,e=new o,n=new s;return function(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,o=this.geometry.attributes.position,s=this.object.geometry;if(s&&s.isGeometry)for(var a=s.vertices,l=s.faces,u=0,h=0,c=l.length;c>h;h++)for(var p=l[h],d=0,f=p.vertexNormals.length;f>d;d++){var m=a[p[i[d]]],g=p.vertexNormals[d];t.copy(m).applyMatrix4(r),e.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(u,t.x,t.y,t.z),u+=1,o.setXYZ(u,e.x,e.y,e.z),u+=1}else if(s&&s.isBufferGeometry)for(var v=s.attributes.position,y=s.attributes.normal,u=0,d=0,f=v.count;f>d;d++)t.set(v.getX(d),v.getY(d),v.getZ(d)).applyMatrix4(r),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(u,t.x,t.y,t.z),u+=1,o.setXYZ(u,e.x,e.y,e.z),u+=1;o.needsUpdate=!0}}(),dr.prototype=Object.create(ut.prototype),dr.prototype.constructor=dr,dr.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},dr.prototype.update=function(){var t=new o,e=new o;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,i=n*Math.tan(this.light.angle);this.cone.scale.set(i,i,n),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),mr.prototype=Object.create(Ie.prototype),mr.prototype.constructor=mr,mr.prototype.updateMatrixWorld=function(){var t=new o,e=new i,n=new i;return function(i){var r=this.bones,o=this.geometry,s=o.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var a=0,l=0;a<r.length;a++){var u=r[a];u.parent&&u.parent.isBone&&(e.multiplyMatrices(n,u.matrixWorld),t.setFromMatrixPosition(e),s.setXYZ(l,t.x,t.y,t.z),e.multiplyMatrices(n,u.parent.matrixWorld),t.setFromMatrixPosition(e),s.setXYZ(l+1,t.x,t.y,t.z),l+=2)}o.getAttribute("position").needsUpdate=!0,ut.prototype.updateMatrixWorld.call(this,i)}}(),gr.prototype=Object.create(Dt.prototype),gr.prototype.constructor=gr,gr.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},gr.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},vr.prototype=Object.create(ut.prototype),vr.prototype.constructor=vr,vr.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},vr.prototype.update=function(){var t=.5*this.light.width,e=.5*this.light.height,n=this.line.geometry.attributes.position,i=n.array;i[0]=t,i[1]=-e,i[2]=0,i[3]=t,i[4]=e,i[5]=0,i[6]=-t,i[7]=e,i[8]=0,i[9]=-t,i[10]=-e,i[11]=0,i[12]=t,i[13]=-e,i[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},yr.prototype=Object.create(ut.prototype),yr.prototype.constructor=yr,yr.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},yr.prototype.update=function(){var t=new o,e=new X,n=new X;return function(){var i=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var r=i.geometry.getAttribute("color");e.copy(this.light.color),n.copy(this.light.groundColor);for(var o=0,s=r.count;s>o;o++){var a=s/2>o?e:n;r.setXYZ(o,a.r,a.g,a.b)}r.needsUpdate=!0}i.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),_r.prototype=Object.create(Ie.prototype),_r.prototype.constructor=_r,Ar.prototype=Object.create(Ie.prototype),Ar.prototype.constructor=Ar,br.prototype=Object.create(Ie.prototype),br.prototype.constructor=br,br.prototype.update=function(){var t=new o,e=new o,n=new s;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,r=this.geometry.attributes.position,o=this.object.geometry,s=o.vertices,a=o.faces,l=0,u=0,h=a.length;h>u;u++){var c=a[u],p=c.normal;t.copy(s[c.a]).add(s[c.b]).add(s[c.c]).divideScalar(3).applyMatrix4(i),e.copy(p).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),r.setXYZ(l,t.x,t.y,t.z),l+=1,r.setXYZ(l,e.x,e.y,e.z),l+=1}r.needsUpdate=!0}}(),xr.prototype=Object.create(ut.prototype),xr.prototype.constructor=xr,xr.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},xr.prototype.update=function(){var t=new o,e=new o,n=new o;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t),this.lightPlane.lookAt(n),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(n),this.targetLine.scale.z=n.length()}}(),wr.prototype=Object.create(Ie.prototype),wr.prototype.constructor=wr,wr.prototype.update=function(){function t(t,o,s,a){i.set(o,s,a).unproject(r);var l=n[t];if(void 0!==l)for(var u=e.getAttribute("position"),h=0,c=l.length;c>h;h++)u.setXYZ(l[h],i.x,i.y,i.z)}var e,n,i=new o,r=new ht;return function(){e=this.geometry,n=this.pointMap;var i=1,o=1;r.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-i,-o,-1),t("n2",i,-o,-1),t("n3",-i,o,-1),t("n4",i,o,-1),t("f1",-i,-o,1),t("f2",i,-o,1),t("f3",-i,o,1),t("f4",i,o,1),t("u1",.7*i,1.1*o,-1),t("u2",.7*-i,1.1*o,-1),t("u3",0,2*o,-1),t("cf1",-i,0,1),t("cf2",i,0,1),t("cf3",0,-o,1),t("cf4",0,o,1),t("cn1",-i,0,-1),t("cn2",i,0,-1),t("cn3",0,-o,-1),t("cn4",0,o,-1),e.getAttribute("position").needsUpdate=!0}}(),Tr.prototype=Object.create(Ie.prototype),Tr.prototype.constructor=Tr,Tr.prototype.update=function(){var t=new et;return function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var n=t.min,i=t.max,r=this.geometry.attributes.position,o=r.array;o[0]=i.x,o[1]=i.y,o[2]=i.z,o[3]=n.x,o[4]=i.y,o[5]=i.z,o[6]=n.x,o[7]=n.y,o[8]=i.z,o[9]=i.x,o[10]=n.y,o[11]=i.z,o[12]=i.x,o[13]=i.y,o[14]=n.z,o[15]=n.x,o[16]=i.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=i.x,o[22]=n.y,o[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Tr.prototype.setFromObject=function(t){return this.object=t,this.update(),this},Er.prototype=Object.create(Ie.prototype),Er.prototype.constructor=Er,Er.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),ut.prototype.updateMatrixWorld.call(this,t))},Sr.prototype=Object.create(Ne.prototype),Sr.prototype.constructor=Sr,Sr.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.lookAt(this.plane.normal),ut.prototype.updateMatrixWorld.call(this,t)};var ch,ph;Mr.prototype=Object.create(ut.prototype),Mr.prototype.constructor=Mr,Mr.prototype.setDirection=function(){var t,e=new o;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=Math.acos(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),Mr.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},Mr.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},Cr.prototype=Object.create(Ie.prototype),Cr.prototype.constructor=Cr;var dh=new o,fh=new Pr,mh=new Pr,gh=new Pr;Rr.prototype=Object.create(Ci.prototype),Rr.prototype.constructor=Rr,Rr.prototype.isCatmullRomCurve3=!0,Rr.prototype.getPoint=function(t,e){var n=e||new o,i=this.points,r=i.length,s=(r-(this.closed?0:1))*t,a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/i.length)+1)*i.length:0===l&&a===r-1&&(a=r-2,l=1);var u,h,c,p;if(this.closed||a>0?u=i[(a-1)%r]:(dh.subVectors(i[0],i[1]).add(i[0]),u=dh),h=i[a%r],c=i[(a+1)%r],this.closed||r>a+2?p=i[(a+2)%r]:(dh.subVectors(i[r-1],i[r-2]).add(i[r-1]),p=dh),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,f=Math.pow(u.distanceToSquared(h),d),m=Math.pow(h.distanceToSquared(c),d),g=Math.pow(c.distanceToSquared(p),d);1e-4>m&&(m=1),1e-4>f&&(f=m),1e-4>g&&(g=m),fh.initNonuniformCatmullRom(u.x,h.x,c.x,p.x,f,m,g),mh.initNonuniformCatmullRom(u.y,h.y,c.y,p.y,f,m,g),gh.initNonuniformCatmullRom(u.z,h.z,c.z,p.z,f,m,g)}else"catmullrom"===this.curveType&&(fh.initCatmullRom(u.x,h.x,c.x,p.x,this.tension),mh.initCatmullRom(u.y,h.y,c.y,p.y,this.tension),gh.initCatmullRom(u.z,h.z,c.z,p.z,this.tension));return n.set(fh.calc(l),mh.calc(l),gh.calc(l)),n},Rr.prototype.copy=function(t){Ci.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;n>e;e++){var i=t.points[e];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Or.prototype=Object.create(Ci.prototype),Or.prototype.constructor=Or,Or.prototype.isCubicBezierCurve3=!0,Or.prototype.getPoint=function(t,e){var n=e||new o,i=this.v0,r=this.v1,s=this.v2,a=this.v3;return n.set(Mi(t,i.x,r.x,s.x,a.x),Mi(t,i.y,r.y,s.y,a.y),Mi(t,i.z,r.z,s.z,a.z)),n},Or.prototype.copy=function(t){return Ci.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Lr.prototype=Object.create(Ci.prototype),Lr.prototype.constructor=Lr,Lr.prototype.isQuadraticBezierCurve3=!0,Lr.prototype.getPoint=function(t,e){var n=e||new o,i=this.v0,r=this.v1,s=this.v2;return n.set(xi(t,i.x,r.x,s.x),xi(t,i.y,r.y,s.y),xi(t,i.z,r.z,s.z)),n},Lr.prototype.copy=function(t){return Ci.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Nr.prototype=Object.create(Ci.prototype),Nr.prototype.constructor=Nr,Nr.prototype.isLineCurve3=!0,Nr.prototype.getPoint=function(t,e){var n=e||new o;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},Nr.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Nr.prototype.copy=function(t){return Ci.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Ir.prototype=Object.create(Oi.prototype),Ir.prototype.constructor=Ir,Ir.prototype.isArcCurve=!0;var vh={createMultiMaterialObject:function(t,e){for(var n=new Be,i=0,r=e.length;r>i;i++)n.add(new Dt(t,e[i]));return n},detach:function(t,e,n){t.applyMatrix(e.matrixWorld),e.remove(t),n.add(t)},attach:function(t,e,n){t.applyMatrix((new i).getInverse(n.matrixWorld)),e.remove(t),n.add(t)}},yh=0,_h=1;Ci.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Ci.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(Ri.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new dt,n=0,i=t.length;i>n;n++){var r=t[n];e.vertices.push(new o(r.x,r.y,r.z||0))}return e}}),Object.assign(ki.prototype,{fromPoints:function(t){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),eo.prototype=Object.create(Rr.prototype),no.prototype=Object.create(Rr.prototype),io.prototype=Object.create(Rr.prototype),Object.assign(io.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),_r.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},mr.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(K.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(et.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),It.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(Ra,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Ra.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Ra.ceilPowerOfTwo(t)}}),Object.assign(s.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(i.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new o),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,i,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,o)}}),it.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},r.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(Nt.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Di.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ln(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new yn(this,t)}}),Object.assign(n.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(o.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(l.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),dt.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(ut.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(ut.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Ce.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Pe.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(Ci.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),me.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(zn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(ft.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(St.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(St.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties($i.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(J.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new X}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===Mo}}}),Object.defineProperties(On.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Lt.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(be.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(be.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),
this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(ot.prototype,{cullFace:{get:function(){return this.renderReverseSided?vo:go},set:function(t){var e=t!==go;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(u.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),ji.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this,n=new Vi;return n.load(t,function(t){e.setBuffer(t)}),this},Wi.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Hi.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};var Ah={merge:function(t,e,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var i;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),i=e.matrix,e=e.geometry),t.merge(e,i,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},bh={crossOrigin:void 0,loadTexture:function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new Hn;r.setCrossOrigin(this.crossOrigin);var o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Gn;r.setCrossOrigin(this.crossOrigin);var o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};t.WebGLRenderTargetCube=h,t.WebGLRenderTarget=u,t.WebGLRenderer=be,t.ShaderLib=ju,t.UniformsLib=Va,t.UniformsUtils=Ga,t.ShaderChunk=zu,t.FogExp2=xe,t.Fog=we,t.Scene=Te,t.LensFlare=Ee,t.Sprite=Me,t.LOD=Ce,t.SkinnedMesh=Oe,t.Skeleton=Pe,t.Bone=Re,t.Mesh=Dt,t.LineSegments=Ie,t.LineLoop=ke,t.Line=Ne,t.Points=Fe,t.Group=Be,t.VideoTexture=Ue,t.DataTexture=c,t.CompressedTexture=Ve,t.CubeTexture=p,t.CanvasTexture=Z,t.DepthTexture=Ge,t.Texture=a,t.CompressedTextureLoader=Bn,t.DataTextureLoader=Un,t.CubeTextureLoader=Gn,t.TextureLoader=Hn,t.ObjectLoader=vi,t.MaterialLoader=di,t.BufferGeometryLoader=fi,t.DefaultLoadingManager=th,t.LoadingManager=Dn,t.JSONLoader=gi,t.ImageLoader=Vn,t.FontLoader=Ui,t.FileLoader=Fn,t.Loader=mi,t.Cache=$u,t.AudioLoader=Vi,t.SpotLightShadow=Wn,t.SpotLight=Xn,t.PointLight=Kn,t.RectAreaLight=Jn,t.HemisphereLight=jn,t.DirectionalLightShadow=Yn,t.DirectionalLight=Zn,t.AmbientLight=Qn,t.LightShadow=qn,t.Light=zn,t.StereoCamera=Gi,t.PerspectiveCamera=me,t.OrthographicCamera=ct,t.CubeCamera=Hi,t.ArrayCamera=ge,t.Camera=ht,t.AudioListener=zi,t.PositionalAudio=qi,t.AudioContext=hh,t.AudioAnalyser=Wi,t.Audio=ji,t.VectorKeyframeTrack=ri,t.StringKeyframeTrack=li,t.QuaternionKeyframeTrack=si,t.NumberKeyframeTrack=ai,t.ColorKeyframeTrack=hi,t.BooleanKeyframeTrack=ui,t.PropertyMixer=Xi,t.PropertyBinding=Yi,t.KeyframeTrack=ci,t.AnimationUtils=nh,t.AnimationObjectGroup=Zi,t.AnimationMixer=Ji,t.AnimationClip=pi,t.Uniform=$i,t.InstancedBufferGeometry=tr,t.BufferGeometry=St,t.Geometry=dt,t.InterleavedBufferAttribute=er,t.InstancedInterleavedBuffer=ir,t.InterleavedBuffer=nr,t.InstancedBufferAttribute=rr,t.Face3=pt,t.Object3D=ut,t.Raycaster=or,t.Layers=lt,t.EventDispatcher=e,t.Clock=lr,t.QuaternionLinearInterpolant=oi,t.LinearInterpolant=ei,t.DiscreteInterpolant=ni,t.CubicInterpolant=ti,t.Interpolant=$n,t.Triangle=kt,t.Math=Ra,t.Spherical=ur,t.Cylindrical=hr,t.Plane=it,t.Frustum=rt,t.Sphere=nt,t.Ray=Nt,t.Matrix4=i,t.Matrix3=s,t.Box3=et,t.Box2=K,t.Line3=It,t.Euler=at,t.Vector4=l,t.Vector3=o,t.Vector2=n,t.Quaternion=r,t.Color=X,t.ImmediateRenderObject=cr,t.VertexNormalsHelper=pr,t.SpotLightHelper=dr,t.SkeletonHelper=mr,t.PointLightHelper=gr,t.RectAreaLightHelper=vr,t.HemisphereLightHelper=yr,t.GridHelper=_r,t.PolarGridHelper=Ar,t.FaceNormalsHelper=br,t.DirectionalLightHelper=xr,t.CameraHelper=wr,t.BoxHelper=Tr,t.Box3Helper=Er,t.PlaneHelper=Sr,t.ArrowHelper=Mr,t.AxesHelper=Cr,t.CatmullRomCurve3=Rr,t.CubicBezierCurve3=Or,t.QuadraticBezierCurve3=Lr,t.LineCurve3=Nr,t.ArcCurve=Ir,t.EllipseCurve=Oi,t.SplineCurve=Li,t.CubicBezierCurve=Ni,t.QuadraticBezierCurve=Ii,t.LineCurve=Pi,t.Shape=Di,t.Path=ki,t.ShapePath=Fi,t.Font=Bi,t.CurvePath=Ri,t.Curve=Ci,t.ShapeUtils=Zu,t.SceneUtils=vh,t.WebGLUtils=Ae,t.WireframeGeometry=He,t.ParametricGeometry=ze,t.ParametricBufferGeometry=je,t.TetrahedronGeometry=Xe,t.TetrahedronBufferGeometry=Ke,t.OctahedronGeometry=Ye,t.OctahedronBufferGeometry=Ze,t.IcosahedronGeometry=Qe,t.IcosahedronBufferGeometry=Je,t.DodecahedronGeometry=$e,t.DodecahedronBufferGeometry=tn,t.PolyhedronGeometry=qe,t.PolyhedronBufferGeometry=We,t.TubeGeometry=en,t.TubeBufferGeometry=nn,t.TorusKnotGeometry=rn,t.TorusKnotBufferGeometry=on,t.TorusGeometry=sn,t.TorusBufferGeometry=an,t.TextGeometry=hn,t.TextBufferGeometry=cn,t.SphereGeometry=pn,t.SphereBufferGeometry=dn,t.RingGeometry=fn,t.RingBufferGeometry=mn,t.PlaneGeometry=Pt,t.PlaneBufferGeometry=Rt,t.LatheGeometry=gn,t.LatheBufferGeometry=vn,t.ShapeGeometry=yn,t.ShapeBufferGeometry=_n,t.ExtrudeGeometry=ln,t.ExtrudeBufferGeometry=un,t.EdgesGeometry=An,t.ConeGeometry=wn,t.ConeBufferGeometry=Tn,t.CylinderGeometry=bn,t.CylinderBufferGeometry=xn,t.CircleGeometry=En,t.CircleBufferGeometry=Sn,t.BoxGeometry=Mt,t.BoxBufferGeometry=Ct,t.ShadowMaterial=Mn,t.SpriteMaterial=Se,t.RawShaderMaterial=Cn,t.ShaderMaterial=Lt,t.PointsMaterial=De,t.MeshPhysicalMaterial=Rn,t.MeshStandardMaterial=Pn,t.MeshPhongMaterial=On,t.MeshToonMaterial=Ln,t.MeshNormalMaterial=Nn,t.MeshLambertMaterial=In,t.MeshDepthMaterial=$,t.MeshDistanceMaterial=tt,t.MeshBasicMaterial=Ot,t.LineDashedMaterial=kn,t.LineBasicMaterial=Le,t.Material=J,t.Float64BufferAttribute=wt,t.Float32BufferAttribute=xt,t.Uint32BufferAttribute=bt,t.Int32BufferAttribute=At,t.Uint16BufferAttribute=_t,t.Int16BufferAttribute=yt,t.Uint8ClampedBufferAttribute=vt,t.Uint8BufferAttribute=gt,t.Int8BufferAttribute=mt,t.BufferAttribute=ft,t.REVISION=po,t.MOUSE=fo,t.CullFaceNone=mo,t.CullFaceBack=go,t.CullFaceFront=vo,t.CullFaceFrontBack=yo,t.FrontFaceDirectionCW=_o,t.FrontFaceDirectionCCW=Ao,t.BasicShadowMap=bo,t.PCFShadowMap=xo,t.PCFSoftShadowMap=wo,t.FrontSide=To,t.BackSide=Eo,t.DoubleSide=So,t.FlatShading=Mo,t.SmoothShading=Co,t.NoColors=Po,t.FaceColors=Ro,t.VertexColors=Oo,t.NoBlending=Lo,t.NormalBlending=No,t.AdditiveBlending=Io,t.SubtractiveBlending=ko,t.MultiplyBlending=Do,t.CustomBlending=Fo,t.AddEquation=Bo,t.SubtractEquation=Uo,t.ReverseSubtractEquation=Vo,t.MinEquation=Go,t.MaxEquation=Ho,t.ZeroFactor=zo,t.OneFactor=jo,t.SrcColorFactor=qo,t.OneMinusSrcColorFactor=Wo,t.SrcAlphaFactor=Xo,t.OneMinusSrcAlphaFactor=Ko,t.DstAlphaFactor=Yo,t.OneMinusDstAlphaFactor=Zo,t.DstColorFactor=Qo,t.OneMinusDstColorFactor=Jo,t.SrcAlphaSaturateFactor=$o,t.NeverDepth=ts,t.AlwaysDepth=es,t.LessDepth=ns,t.LessEqualDepth=is,t.EqualDepth=rs,t.GreaterEqualDepth=os,t.GreaterDepth=ss,t.NotEqualDepth=as,t.MultiplyOperation=ls,t.MixOperation=us,t.AddOperation=hs,t.NoToneMapping=cs,t.LinearToneMapping=ps,t.ReinhardToneMapping=ds,t.Uncharted2ToneMapping=fs,t.CineonToneMapping=ms,t.UVMapping=gs,t.CubeReflectionMapping=vs,t.CubeRefractionMapping=ys,t.EquirectangularReflectionMapping=_s,t.EquirectangularRefractionMapping=As,t.SphericalReflectionMapping=bs,t.CubeUVReflectionMapping=xs,t.CubeUVRefractionMapping=ws,t.RepeatWrapping=Ts,t.ClampToEdgeWrapping=Es,t.MirroredRepeatWrapping=Ss,t.NearestFilter=Ms,t.NearestMipMapNearestFilter=Cs,t.NearestMipMapLinearFilter=Ps,t.LinearFilter=Rs,t.LinearMipMapNearestFilter=Os,t.LinearMipMapLinearFilter=Ls,t.UnsignedByteType=Ns,t.ByteType=Is,t.ShortType=ks,t.UnsignedShortType=Ds,t.IntType=Fs,t.UnsignedIntType=Bs,t.FloatType=Us,t.HalfFloatType=Vs,t.UnsignedShort4444Type=Gs,t.UnsignedShort5551Type=Hs,t.UnsignedShort565Type=zs,t.UnsignedInt248Type=js,t.AlphaFormat=qs,t.RGBFormat=Ws,t.RGBAFormat=Xs,t.LuminanceFormat=Ks,t.LuminanceAlphaFormat=Ys,t.RGBEFormat=Zs,t.DepthFormat=Qs,t.DepthStencilFormat=Js,t.RGB_S3TC_DXT1_Format=$s,t.RGBA_S3TC_DXT1_Format=ta,t.RGBA_S3TC_DXT3_Format=ea,t.RGBA_S3TC_DXT5_Format=na,t.RGB_PVRTC_4BPPV1_Format=ia,t.RGB_PVRTC_2BPPV1_Format=ra,t.RGBA_PVRTC_4BPPV1_Format=oa,t.RGBA_PVRTC_2BPPV1_Format=sa,t.RGB_ETC1_Format=aa,t.LoopOnce=la,t.LoopRepeat=ua,t.LoopPingPong=ha,t.InterpolateDiscrete=ca,t.InterpolateLinear=pa,t.InterpolateSmooth=da,t.ZeroCurvatureEnding=fa,t.ZeroSlopeEnding=ma,t.WrapAroundEnding=ga,t.TrianglesDrawMode=va,t.TriangleStripDrawMode=ya,t.TriangleFanDrawMode=_a,t.LinearEncoding=Aa,t.sRGBEncoding=ba,t.GammaEncoding=xa,t.RGBEEncoding=wa,t.LogLuvEncoding=Ta,t.RGBM7Encoding=Ea,t.RGBM16Encoding=Sa,t.RGBDEncoding=Ma,t.BasicDepthPacking=Ca,t.RGBADepthPacking=Pa,t.CubeGeometry=Mt,t.Face4=kr,t.LineStrip=yh,t.LinePieces=_h,t.MeshFaceMaterial=Dr,t.MultiMaterial=Fr,t.PointCloud=Br,t.Particle=Ur,t.ParticleSystem=Vr,t.PointCloudMaterial=Gr,t.ParticleBasicMaterial=Hr,t.ParticleSystemMaterial=zr,t.Vertex=jr,t.DynamicBufferAttribute=qr,t.Int8Attribute=Wr,t.Uint8Attribute=Xr,t.Uint8ClampedAttribute=Kr,t.Int16Attribute=Yr,t.Uint16Attribute=Zr,t.Int32Attribute=Qr,t.Uint32Attribute=Jr,t.Float32Attribute=$r,t.Float64Attribute=to,t.ClosedSplineCurve3=eo,t.SplineCurve3=no,t.Spline=io,t.AxisHelper=ro,t.BoundingBoxHelper=oo,t.EdgesHelper=so,t.WireframeHelper=ao,t.XHRLoader=lo,t.BinaryTextureLoader=uo,t.GeometryUtils=Ah,t.ImageUtils=bh,t.Projector=ho,t.CanvasRenderer=co,Object.defineProperty(t,"__esModule",{value:!0})})},{}],87:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){r.off(t,i),e.apply(n,arguments)}var r=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;for(i;r>i;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,s=i.length;s>o;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},e.exports=i},{}],88:[function(t,e,n){!function(t,n){"function"==typeof define&&define.amd?define(function(){return n()}):"object"==typeof e?e.exports=n():t.Tone=n()}(this,function(){"use strict";function t(t){n=t()}function e(t){t(n)}var n;return t(function(){var t=function(){};t.prototype.toString=function(){for(var e in t){var n=e[0].match(/^[A-Z]$/),i=t[e]===this.constructor;if(t.isFunction(t[e])&&n&&i)return e}return"Tone"},t.prototype.dispose=function(){return this},t.prototype.set=function(e,n,i){if(t.isObject(e))i=n;else if(t.isString(e)){var r={};r[e]=n,e=r}t:for(var o in e){n=e[o];var s=this;if(-1!==o.indexOf(".")){for(var a=o.split("."),l=0;l<a.length-1;l++)if(s=s[a[l]],s instanceof t){a.splice(0,l+1);var u=a.join(".");s.set(u,n);continue t}o=a[a.length-1]}var h=s[o];t.isUndef(h)||(t.Signal&&h instanceof t.Signal||t.Param&&h instanceof t.Param?h.value!==n&&(t.isUndef(i)?h.value=n:h.rampTo(n,i)):h instanceof AudioParam?h.value!==n&&(h.value=n):h instanceof t?h.set(n):h!==n&&(s[o]=n))}return this},t.prototype.get=function(e){t.isUndef(e)?e=this._collectDefaults(this.constructor):t.isString(e)&&(e=[e]);for(var n={},i=0;i<e.length;i++){var r=e[i],o=this,s=n;if(-1!==r.indexOf(".")){for(var a=r.split("."),l=0;l<a.length-1;l++){var u=a[l];s[u]=s[u]||{},s=s[u],o=o[u]}r=a[a.length-1]}var h=o[r];t.isObject(e[r])?s[r]=h.get():t.Signal&&h instanceof t.Signal?s[r]=h.value:t.Param&&h instanceof t.Param?s[r]=h.value:h instanceof AudioParam?s[r]=h.value:h instanceof t?s[r]=h.get():t.isFunction(h)||t.isUndef(h)||(s[r]=h)}return n},t.prototype._collectDefaults=function(e){var n=[];if(t.isUndef(e.defaults)||(n=Object.keys(e.defaults)),!t.isUndef(e._super))for(var i=this._collectDefaults(e._super),r=0;r<i.length;r++)-1===n.indexOf(i[r])&&n.push(i[r]);return n},t.defaults=function(e,n,i){var r={};if(1===e.length&&t.isObject(e[0]))r=e[0];else for(var o=0;o<n.length;o++)r[n[o]]=e[o];return t.isUndef(i.defaults)?t.isObject(i)?t.defaultArg(r,i):r:t.defaultArg(r,i.defaults)},t.defaultArg=function(e,n){if(t.isObject(e)&&t.isObject(n)){var i={};for(var r in e)i[r]=t.defaultArg(n[r],e[r]);for(var o in n)i[o]=t.defaultArg(e[o],n[o]);return i}return t.isUndef(e)?n:e},t.connectSeries=function(){for(var e=arguments[0],n=1;n<arguments.length;n++){var i=arguments[n];e.connect(i),e=i}return t},t.isUndef=function(t){return"undefined"==typeof t},t.isFunction=function(t){return"function"==typeof t},t.isNumber=function(t){return"number"==typeof t},t.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object},t.isBoolean=function(t){return"boolean"==typeof t},t.isArray=function(t){return Array.isArray(t)},t.isString=function(t){return"string"==typeof t},t.isNote=function(e){return t.isString(e)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(e)},t.noOp=function(){},t.prototype._readOnly=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._readOnly(t[e]);else Object.defineProperty(this,t,{writable:!1,enumerable:!0})},t.prototype._writable=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._writable(t[e]);else Object.defineProperty(this,t,{writable:!0})},t.State={Started:"started",Stopped:"stopped",Paused:"paused"},t.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},t.dbToGain=function(t){return Math.pow(2,t/6)},t.gainToDb=function(t){return 20*(Math.log(t)/Math.LN10)},t.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)},t.prototype.now=function(){return t.context.now()},t.now=function(){return t.context.now()},t.isPast=function(e){e<t.context.currentTime&&console.warn("Time '"+e+"' is in the past. Scheduled time must be  AudioContext.currentTime")},t.extend=function(e,n){function i(){}t.isUndef(n)&&(n=t),i.prototype=n.prototype,e.prototype=new i,e.prototype.constructor=e,e._super=n};var e=null;return Object.defineProperty(t,"context",{get:function(){return e},set:function(n){e=t.Context&&n instanceof t.Context?n:new t.Context(n),t.Context.emit("init",e)}}),Object.defineProperty(t.prototype,"context",{get:function(){return t.context}}),t.setContext=function(e){t.context=e},Object.defineProperty(t.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}}),Object.defineProperty(t.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}}),Object.defineProperty(t,"supported",{get:function(){var t=window.hasOwnProperty("AudioContext")||window.hasOwnProperty("webkitAudioContext"),e=window.hasOwnProperty("Promise"),n=window.hasOwnProperty("Worker");return t&&e&&n}}),Object.defineProperty(t,"initialized",{get:function(){return null!==e}}),t.getContext=function(e){if(t.initialized)e(t.context);else{var n=function(){e(t.context),t.Context.off("init",n)};t.Context.on("init",n)}return t},t.version="r11",window.TONE_SILENCE_VERSION_LOGGING||console.log("%c * Tone.js "+t.version+" * ","background: #000; color: #fff"),t}),e(function(t){return t.Emitter=function(){t.call(this),this._events={}},t.extend(t.Emitter),t.Emitter.prototype.on=function(t,e){for(var n=t.split(/\W+/),i=0;i<n.length;i++){var r=n[i];this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(e)}return this},t.Emitter.prototype.off=function(e,n){for(var i=e.split(/\W+/),r=0;r<i.length;r++)if(e=i[r],this._events.hasOwnProperty(e))if(t.isUndef(n))this._events[e]=[];else for(var o=this._events[e],s=0;s<o.length;s++)o[s]===n&&o.splice(s,1);return this},t.Emitter.prototype.emit=function(t){if(this._events){var e=Array.apply(null,arguments).slice(1);if(this._events.hasOwnProperty(t))for(var n=this._events[t],i=0,r=n.length;r>i;i++)n[i].apply(this,e)}return this},t.Emitter.mixin=function(e){var n=["on","off","emit"];e._events={};for(var i=0;i<n.length;i++){var r=n[i],o=t.Emitter.prototype[r];e[r]=o}return t.Emitter},t.Emitter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._events=null,this},t.Emitter}),e(function(t){return t.Timeline=function(){var e=t.defaults(arguments,["memory"],t.Timeline);t.call(this),this._timeline=[],this._toRemove=[],this._toAdd=[],this._iterating=!1,this.memory=e.memory},t.extend(t.Timeline),t.Timeline.defaults={memory:1/0},Object.defineProperty(t.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),t.Timeline.prototype.add=function(e){if(t.isUndef(e.time))throw new Error("Tone.Timeline: events must have a time attribute");if(this._iterating)this._toAdd.push(e);else{var n=this._search(e.time);if(this._timeline.splice(n+1,0,e),this.length>this.memory){var i=this.length-this.memory;this._timeline.splice(0,i)}}return this},t.Timeline.prototype.remove=function(t){if(this._iterating)this._toRemove.push(t);else{var e=this._timeline.indexOf(t);-1!==e&&this._timeline.splice(e,1)}return this},t.Timeline.prototype.get=function(e,n){n=t.defaultArg(n,"time");var i=this._search(e,n);return-1!==i?this._timeline[i]:null},t.Timeline.prototype.peek=function(){return this._timeline[0]},t.Timeline.prototype.shift=function(){return this._timeline.shift()},t.Timeline.prototype.getAfter=function(e,n){n=t.defaultArg(n,"time");var i=this._search(e,n);return i+1<this._timeline.length?this._timeline[i+1]:null},t.Timeline.prototype.getBefore=function(e,n){n=t.defaultArg(n,"time");var i=this._timeline.length;if(i>0&&this._timeline[i-1][n]<e)return this._timeline[i-1];var r=this._search(e,n);return r-1>=0?this._timeline[r-1]:null},t.Timeline.prototype.cancel=function(t){if(this._timeline.length>1){var e=this._search(t);if(e>=0)if(this._timeline[e].time===t){for(var n=e;n>=0&&this._timeline[n].time===t;n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&this._timeline[0].time>=t&&(this._timeline=[]);return this},t.Timeline.prototype.cancelBefore=function(t){var e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this},t.Timeline.prototype.previousEvent=function(t){var e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null},t.Timeline.prototype._search=function(e,n){if(0===this._timeline.length)return-1;n=t.defaultArg(n,"time");var i=0,r=this._timeline.length,o=r;if(r>0&&this._timeline[r-1][n]<=e)return r-1;for(;o>i;){var s=Math.floor(i+(o-i)/2),a=this._timeline[s],l=this._timeline[s+1];if(a[n]===e){for(var u=s;u<this._timeline.length;u++){var h=this._timeline[u];h[n]===e&&(s=u)}return s}if(a[n]<e&&l[n]>e)return s;a[n]>e?o=s:i=s+1}return-1},t.Timeline.prototype._iterate=function(e,n,i){this._iterating=!0,n=t.defaultArg(n,0),i=t.defaultArg(i,this._timeline.length-1);for(var r=n;i>=r;r++)e.call(this,this._timeline[r]);this._iterating=!1,this._toRemove.forEach(function(t){this.remove(t)}.bind(this)),this._toRemove=[],this._toAdd.forEach(function(t){this.add(t)}.bind(this)),this._toAdd=[]},t.Timeline.prototype.forEach=function(t){return this._iterate(t),this},t.Timeline.prototype.forEachBefore=function(t,e){var n=this._search(t);return-1!==n&&this._iterate(e,0,n),this},t.Timeline.prototype.forEachAfter=function(t,e){var n=this._search(t);return this._iterate(e,n+1),this},t.Timeline.prototype.forEachFrom=function(t,e){for(var n=this._search(t);n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this},t.Timeline.prototype.forEachAtTime=function(t,e){var n=this._search(t);return-1!==n&&this._iterate(function(n){n.time===t&&e.call(this,n)},0,n),this},t.Timeline.prototype.dispose=function(){return t.prototype.dispose.call(this),this._timeline=null,this._toRemove=null,this._toAdd=null,this},t.Timeline}),e(function(t){!window.hasOwnProperty("AudioContext")&&window.hasOwnProperty("webkitAudioContext")&&(window.AudioContext=window.webkitAudioContext),t.Context=function(){t.Emitter.call(this);var n=t.defaults(arguments,["context"],t.Context);n.context||(n.context=new window.AudioContext),this._context=n.context;for(var i in this._context)this._defineProperty(this._context,i);this._latencyHint=n.latencyHint,this._constants={},this.lookAhead=n.lookAhead,this._computedUpdateInterval=0,this._ticker=new e(this.emit.bind(this,"tick"),n.clockSource,n.updateInterval),this._timeouts=new t.Timeline,this._timeoutIds=0,this.on("tick",this._timeoutLoop.bind(this))},t.extend(t.Context,t.Emitter),t.Emitter.mixin(t.Context),t.Context.defaults={clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.03},t.Context.prototype._defineProperty=function(e,n){t.isUndef(this[n])&&Object.defineProperty(this,n,{get:function(){return"function"==typeof e[n]?e[n].bind(e):e[n]},set:function(t){e[n]=t}})},t.Context.prototype.now=function(){return this._context.currentTime+this.lookAhead},t.Context.prototype.getConstant=function(t){if(this._constants[t])return this._constants[t];for(var e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0),i=0;i<n.length;i++)n[i]=t;var r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=e,r.loop=!0,r.start(0),this._constants[t]=r,r},t.Context.prototype._timeoutLoop=function(){for(var t=this.now();this._timeouts&&this._timeouts.length&&this._timeouts.peek().time<=t;)this._timeouts.shift().callback()},t.Context.prototype.setTimeout=function(t,e){this._timeoutIds++;var n=this.now();return this._timeouts.add({callback:t,time:n+e,id:this._timeoutIds}),this._timeoutIds},t.Context.prototype.clearTimeout=function(t){return this._timeouts.forEach(function(e){e.id===t&&this.remove(e)}),this},Object.defineProperty(t.Context.prototype,"updateInterval",{get:function(){return this._ticker.updateInterval},set:function(t){this._ticker.updateInterval=t}}),Object.defineProperty(t.Context.prototype,"clockSource",{get:function(){return this._ticker.type},set:function(t){this._ticker.type=t}}),Object.defineProperty(t.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(e){var n=e;if(this._latencyHint=e,t.isString(e))switch(e){case"interactive":n=.1,this._context.latencyHint=e;break;case"playback":n=.8,this._context.latencyHint=e;break;case"balanced":n=.25,this._context.latencyHint=e;break;case"fastest":this._context.latencyHint="interactive",n=.01}this.lookAhead=n,this.updateInterval=n/3}}),t.Context.prototype.dispose=function(){t.Context.emit("close",this),t.Emitter.prototype.dispose.call(this),this._ticker.dispose(),this._ticker=null,this._timeouts.dispose(),this._timeouts=null;for(var e in this._constants)this._constants[e].disconnect();return this._constants=null,this.close(),this};var e=function(e,n,i){this._type=n,this._updateInterval=i,this._callback=t.defaultArg(e,t.noOp),this._createClock()};return e.Type={Worker:"worker",Timeout:"timeout",Offline:"offline"},e.prototype._createWorker=function(){window.URL=window.URL||window.webkitURL;var t=new Blob(["var timeoutTime = "+(1e3*this._updateInterval).toFixed(1)+";self.onmessage = function(msg){	timeoutTime = parseInt(msg.data);};function tick(){	setTimeout(tick, timeoutTime);	self.postMessage('tick');}tick();"]),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n},e.prototype._createTimeout=function(){this._timeout=setTimeout(function(){this._createTimeout(),this._callback()}.bind(this),1e3*this._updateInterval)},e.prototype._createClock=function(){if(this._type===e.Type.Worker)try{this._createWorker()}catch(t){this._type=e.Type.Timeout,this._createClock()}else this._type===e.Type.Timeout&&this._createTimeout()},Object.defineProperty(e.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(t){this._updateInterval=Math.max(t,128/44100),this._type===e.Type.Worker&&this._worker.postMessage(Math.max(1e3*t,1))}}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._disposeClock(),this._type=t,this._createClock()}}),e.prototype._disposeClock=function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this._worker&&(this._worker.terminate(),this._worker.onmessage=null,this._worker=null)},e.prototype.dispose=function(){this._disposeClock(),this._callback=null},t.getContext(function(){function e(e,n,r){if(e.input)r=t.defaultArg(r,0),t.isArray(e.input)?this.connect(e.input[r]):this.connect(e.input,n,r);else try{e instanceof AudioNode?i.call(this,e,n,r):i.call(this,e,n)}catch(o){throw new Error("error connecting to node: "+e+"\n"+o)}}function n(e,n,i){if(e&&e.input&&t.isArray(e.input))i=t.defaultArg(i,0),this.disconnect(e.input[i],n,0);else if(e&&e.input)this.disconnect(e.input,n,i);else try{r.apply(this,arguments)}catch(o){throw new Error("error disconnecting node: "+e+"\n"+o)}}var i=AudioNode.prototype.connect,r=AudioNode.prototype.disconnect;AudioNode.prototype.connect!==e&&(AudioNode.prototype.connect=e,AudioNode.prototype.disconnect=n)}),t.supported?t.context=new t.Context:console.warn("This browser does not support Tone.js"),t.Context}),e(function(t){return t.AudioNode=function(){t.call(this);var e=t.defaults(arguments,["context"],{context:t.context});this._context=e.context},t.extend(t.AudioNode),Object.defineProperty(t.AudioNode.prototype,"context",{get:function(){return this._context}}),t.AudioNode.prototype.createInsOuts=function(t,e){1===t?this.input=this.context.createGain():t>1&&(this.input=new Array(t)),1===e?this.output=this.context.createGain():e>1&&(this.output=new Array(e))},Object.defineProperty(t.AudioNode.prototype,"numberOfInputs",{get:function(){return this.input?t.isArray(this.input)?this.input.length:1:0}}),Object.defineProperty(t.AudioNode.prototype,"numberOfOutputs",{get:function(){return this.output?t.isArray(this.output)?this.output.length:1:0}}),t.AudioNode.prototype.connect=function(e,n,i){return t.isArray(this.output)?(n=t.defaultArg(n,0),this.output[n].connect(e,0,i)):this.output.connect(e,n,i),this},t.AudioNode.prototype.disconnect=function(e,n,i){t.isArray(this.output)?t.isNumber(e)?this.output[e].disconnect():(n=t.defaultArg(n,0),this.output[n].disconnect(e,0,i)):this.output.disconnect.apply(this.output,arguments)},t.AudioNode.prototype.chain=function(){for(var t=this,e=0;e<arguments.length;e++){var n=arguments[e];t.connect(n),t=n}return this},t.AudioNode.prototype.fan=function(){for(var t=0;t<arguments.length;t++)this.connect(arguments[t]);return this},window.AudioNode&&(AudioNode.prototype.chain=t.AudioNode.prototype.chain,AudioNode.prototype.fan=t.AudioNode.prototype.fan),t.AudioNode.prototype.dispose=function(){return t.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),t.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this._context=null,this},t.AudioNode}),e(function(t){return t.SignalBase=function(){t.AudioNode.call(this)},t.extend(t.SignalBase,t.AudioNode),t.SignalBase.prototype.connect=function(e,n,i){return t.Signal&&t.Signal===e.constructor||t.Param&&t.Param===e.constructor||t.TimelineSignal&&t.TimelineSignal===e.constructor?(e._param.cancelScheduledValues(0),e._param.value=0,e.overridden=!0):e instanceof AudioParam&&(e.cancelScheduledValues(0),e.value=0),t.AudioNode.prototype.connect.call(this,e,n,i),this},t.SignalBase}),e(function(t){return t.WaveShaper=function(e,n){t.SignalBase.call(this),this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(e)?this.curve=e:isFinite(e)||t.isUndef(e)?this._curve=new Float32Array(t.defaultArg(e,1024)):t.isFunction(e)&&(this._curve=new Float32Array(t.defaultArg(n,1024)),this.setMap(e))},t.extend(t.WaveShaper,t.SignalBase),t.WaveShaper.prototype.setMap=function(t){for(var e=0,n=this._curve.length;n>e;e++){var i=e/(n-1)*2-1;this._curve[e]=t(i,e)}return this._shaper.curve=this._curve,this},Object.defineProperty(t.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){this._curve=new Float32Array(t),this._shaper.curve=this._curve}}),Object.defineProperty(t.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){if(-1===["none","2x","4x"].indexOf(t))throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'");this._shaper.oversample=t}}),t.WaveShaper.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},t.WaveShaper}),e(function(t){return t.TimeBase=function(e,n){if(!(this instanceof t.TimeBase))return new t.TimeBase(e,n);if(this._expr=this._noOp,e instanceof t.TimeBase)this.copy(e);else if(!t.isUndef(n)||t.isNumber(e)){n=t.defaultArg(n,this._defaultUnits);var i=this._primaryExpressions[n].method;this._expr=i.bind(this,e)}else t.isString(e)?this.set(e):t.isUndef(e)&&(this._expr=this._defaultExpr())},t.extend(t.TimeBase),t.TimeBase.prototype.set=function(t){return this._expr=this._parseExprString(t),this},t.TimeBase.prototype.clone=function(){var t=new this.constructor;return t.copy(this),t},t.TimeBase.prototype.copy=function(t){
var e=t._expr();return this.set(e)},t.TimeBase.prototype._primaryExpressions={n:{regexp:/^(\d+)n/i,method:function(t){return t=parseInt(t),this._beatsToUnits(1===t?this._timeSignature():4/t)}},t:{regexp:/^(\d+)t/i,method:function(t){return t=parseInt(t),this._beatsToUnits(8/(3*parseInt(t)))}},m:{regexp:/^(\d+)m/i,method:function(t){return this._beatsToUnits(parseInt(t)*this._timeSignature())}},i:{regexp:/^(\d+)i/i,method:function(t){return this._ticksToUnits(parseInt(t))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz/i,method:function(t){return this._frequencyToUnits(parseFloat(t))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(t,e,n){var i=0;return t&&"0"!==t&&(i+=this._beatsToUnits(this._timeSignature()*parseFloat(t))),e&&"0"!==e&&(i+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i+=this._beatsToUnits(parseFloat(n)/4)),i}},s:{regexp:/^(\d+(?:\.\d+)?s)/,method:function(t){return this._secondsToUnits(parseFloat(t))}},samples:{regexp:/^(\d+)samples/,method:function(t){return parseInt(t)/this.context.sampleRate}},"default":{regexp:/^(\d+(?:\.\d+)?)/,method:function(t){return this._primaryExpressions[this._defaultUnits].method.call(this,t)}}},t.TimeBase.prototype._binaryExpressions={"+":{regexp:/^\+/,precedence:2,method:function(t,e){return t()+e()}},"-":{regexp:/^\-/,precedence:2,method:function(t,e){return t()-e()}},"*":{regexp:/^\*/,precedence:1,method:function(t,e){return t()*e()}},"/":{regexp:/^\//,precedence:1,method:function(t,e){return t()/e()}}},t.TimeBase.prototype._unaryExpressions={neg:{regexp:/^\-/,method:function(t){return-t()}}},t.TimeBase.prototype._syntaxGlue={"(":{regexp:/^\(/},")":{regexp:/^\)/}},t.TimeBase.prototype._tokenize=function(t){function e(t,e){for(var n=["_binaryExpressions","_unaryExpressions","_primaryExpressions","_syntaxGlue"],i=0;i<n.length;i++){var r=e[n[i]];for(var o in r){var s=r[o],a=s.regexp,l=t.match(a);if(null!==l)return{method:s.method,precedence:s.precedence,regexp:s.regexp,value:l[0]}}}throw new SyntaxError("Tone.TimeBase: Unexpected token "+t)}for(var n=-1,i=[];t.length>0;){t=t.trim();var r=e(t,this);i.push(r),t=t.substr(r.value.length)}return{next:function(){return i[++n]},peek:function(){return i[n+1]}}},t.TimeBase.prototype._matchGroup=function(e,n,i){var r=!1;if(!t.isUndef(e))for(var o in n){var s=n[o];if(s.regexp.test(e.value)){if(t.isUndef(i))return s;if(s.precedence===i)return s}}return r},t.TimeBase.prototype._parseBinary=function(e,n){t.isUndef(n)&&(n=2);var i;i=0>n?this._parseUnary(e):this._parseBinary(e,n-1);for(var r=e.peek();r&&this._matchGroup(r,this._binaryExpressions,n);)r=e.next(),i=r.method.bind(this,i,this._parseBinary(e,n-1)),r=e.peek();return i},t.TimeBase.prototype._parseUnary=function(t){var e,n;e=t.peek();var i=this._matchGroup(e,this._unaryExpressions);return i?(e=t.next(),n=this._parseUnary(t),i.method.bind(this,n)):this._parsePrimary(t)},t.TimeBase.prototype._parsePrimary=function(e){var n,i;if(n=e.peek(),t.isUndef(n))throw new SyntaxError("Tone.TimeBase: Unexpected end of expression");if(this._matchGroup(n,this._primaryExpressions)){n=e.next();var r=n.value.match(n.regexp);return n.method.bind(this,r[1],r[2],r[3])}if(n&&"("===n.value){if(e.next(),i=this._parseBinary(e),n=e.next(),!n||")"!==n.value)throw new SyntaxError("Expected )");return i}throw new SyntaxError("Tone.TimeBase: Cannot process token "+n.value)},t.TimeBase.prototype._parseExprString=function(e){t.isString(e)||(e=e.toString());var n=this._tokenize(e),i=this._parseBinary(n);return i},t.TimeBase.prototype._noOp=function(){return 0},t.TimeBase.prototype._defaultExpr=function(){return this._noOp},t.TimeBase.prototype._defaultUnits="s",t.TimeBase.prototype._frequencyToUnits=function(t){return 1/t},t.TimeBase.prototype._beatsToUnits=function(e){return 60/t.Transport.bpm.value*e},t.TimeBase.prototype._secondsToUnits=function(t){return t},t.TimeBase.prototype._ticksToUnits=function(e){return e*(this._beatsToUnits(1)/t.Transport.PPQ)},t.TimeBase.prototype._timeSignature=function(){return t.Transport.timeSignature},t.TimeBase.prototype._pushExpr=function(e,n,i){return e instanceof t.TimeBase||(e=new this.constructor(e,i)),this._expr=this._binaryExpressions[n].method.bind(this,this._expr,e._expr),this},t.TimeBase.prototype.add=function(t,e){return this._pushExpr(t,"+",e)},t.TimeBase.prototype.sub=function(t,e){return this._pushExpr(t,"-",e)},t.TimeBase.prototype.mult=function(t,e){return this._pushExpr(t,"*",e)},t.TimeBase.prototype.div=function(t,e){return this._pushExpr(t,"/",e)},t.TimeBase.prototype.valueOf=function(){return this._expr()},t.TimeBase.prototype.dispose=function(){this._expr=null},t.TimeBase}),e(function(t){return t.Time=function(e,n){return this instanceof t.Time?(this._plusNow=!1,void t.TimeBase.call(this,e,n)):new t.Time(e,n)},t.extend(t.Time,t.TimeBase),t.Time.prototype._unaryExpressions=Object.create(t.TimeBase.prototype._unaryExpressions),t.Time.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(e){return t.Transport.nextSubdivision(e())}},t.Time.prototype._unaryExpressions.now={regexp:/^\+/,method:function(t){return this._plusNow=!0,t()}},t.Time.prototype.quantize=function(e,n){return n=t.defaultArg(n,1),this._expr=function(t,e,n){t=t(),e=e.toSeconds();var i=Math.round(t/e),r=i*e,o=r-t;return t+o*n}.bind(this,this._expr,new this.constructor(e),n),this},t.Time.prototype.addNow=function(){return this._plusNow=!0,this},t.Time.prototype._defaultExpr=function(){return this._plusNow=!0,this._noOp},t.Time.prototype.copy=function(e){return t.TimeBase.prototype.copy.call(this,e),this._plusNow=e._plusNow,this},t.Time.prototype.toNotation=function(){var t=this.toSeconds(),e=["1m","2n","4n","8n","16n","32n","64n","128n"],n=this._toNotationHelper(t,e),i=["1m","2n","2t","4n","4t","8n","8t","16n","16t","32n","32t","64n","64t","128n"],r=this._toNotationHelper(t,i);return r.split("+").length<n.split("+").length?r:n},t.Time.prototype._toNotationHelper=function(t,e){for(var n=this._notationToUnits(e[e.length-1]),i="",r=0;r<e.length;r++){var o=this._notationToUnits(e[r]),s=t/o,a=1e-6;if(a>1-s%1&&(s+=a),s=Math.floor(s),s>0){if(i+=1===s?e[r]:s.toString()+"*"+e[r],t-=s*o,n>t)break;i+=" + "}}return""===i&&(i="0"),i},t.Time.prototype._notationToUnits=function(t){for(var e=this._primaryExpressions,n=[e.n,e.t,e.m],i=0;i<n.length;i++){var r=n[i],o=t.match(r.regexp);if(o)return r.method.call(this,o[1])}},t.Time.prototype.toBarsBeatsSixteenths=function(){var t=this._beatsToUnits(1),e=this.toSeconds()/t,n=Math.floor(e/this._timeSignature()),i=e%1*4;e=Math.floor(e)%this._timeSignature(),i=i.toString(),i.length>3&&(i=parseFloat(parseFloat(i).toFixed(3)));var r=[n,e,i];return r.join(":")},t.Time.prototype.toTicks=function(){var e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*t.Transport.PPQ)},t.Time.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate},t.Time.prototype.toFrequency=function(){return 1/this.toSeconds()},t.Time.prototype.toSeconds=function(){return this.valueOf()},t.Time.prototype.toMilliseconds=function(){return 1e3*this.toSeconds()},t.Time.prototype.valueOf=function(){var t=this._expr();return t+(this._plusNow?this.now():0)},t.Time}),e(function(t){t.Frequency=function(e,n){return this instanceof t.Frequency?void t.TimeBase.call(this,e,n):new t.Frequency(e,n)},t.extend(t.Frequency,t.TimeBase),t.Frequency.prototype._primaryExpressions=Object.create(t.TimeBase.prototype._primaryExpressions),t.Frequency.prototype._primaryExpressions.midi={regexp:/^(\d+(?:\.\d+)?midi)/,method:function(t){return this.midiToFrequency(t)}},t.Frequency.prototype._primaryExpressions.note={regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(t,n){var i=e[t.toLowerCase()],r=i+12*(parseInt(n)+1);return this.midiToFrequency(r)}},t.Frequency.prototype._primaryExpressions.tr={regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(t,e,n){var i=1;return t&&"0"!==t&&(i*=this._beatsToUnits(this._timeSignature()*parseFloat(t))),e&&"0"!==e&&(i*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i*=this._beatsToUnits(parseFloat(n)/4)),i}},t.Frequency.prototype.transpose=function(e){return this._expr=function(e,n){var i=e();return i*t.intervalToFrequencyRatio(n)}.bind(this,this._expr,e),this},t.Frequency.prototype.harmonize=function(e){return this._expr=function(e,n){for(var i=e(),r=[],o=0;o<n.length;o++)r[o]=i*t.intervalToFrequencyRatio(n[o]);return r}.bind(this,this._expr,e),this},t.Frequency.prototype.toMidi=function(){return this.frequencyToMidi(this.valueOf())},t.Frequency.prototype.toNote=function(){var e=this.valueOf(),i=Math.log(e/t.Frequency.A4)/Math.LN2,r=Math.round(12*i)+57,o=Math.floor(r/12);0>o&&(r+=-12*o);var s=n[r%12];return s+o.toString()},t.Frequency.prototype.toSeconds=function(){return 1/this.valueOf()},t.Frequency.prototype.toFrequency=function(){return this.valueOf()},t.Frequency.prototype.toTicks=function(){var e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*t.Transport.PPQ)},t.Frequency.prototype._frequencyToUnits=function(t){return t},t.Frequency.prototype._ticksToUnits=function(e){return 1/(60*e/(t.Transport.bpm.value*t.Transport.PPQ))},t.Frequency.prototype._beatsToUnits=function(e){return 1/t.TimeBase.prototype._beatsToUnits.call(this,e)},t.Frequency.prototype._secondsToUnits=function(t){return 1/t},t.Frequency.prototype._defaultUnits="hz";var e={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return t.Frequency.A4=440,t.Frequency.prototype.midiToFrequency=function(e){return t.Frequency.A4*Math.pow(2,(e-69)/12)},t.Frequency.prototype.frequencyToMidi=function(e){return 69+Math.round(12*Math.log(e/t.Frequency.A4)/Math.LN2)},t.Frequency}),e(function(t){return t.TransportTime=function(e,n){return this instanceof t.TransportTime?void t.Time.call(this,e,n):new t.TransportTime(e,n)},t.extend(t.TransportTime,t.Time),t.TransportTime.prototype._unaryExpressions=Object.create(t.Time.prototype._unaryExpressions),t.TransportTime.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(e){var n=this._secondsToTicks(e()),i=Math.ceil(t.Transport.ticks/n);return this._ticksToUnits(i*n)}},t.TransportTime.prototype._secondsToTicks=function(e){var n=this._beatsToUnits(1),i=e/n;return Math.round(i*t.Transport.PPQ)},t.TransportTime.prototype.valueOf=function(){var e=this._secondsToTicks(this._expr());return e+(this._plusNow?t.Transport.ticks:0)},t.TransportTime.prototype.toTicks=function(){return this.valueOf()},t.TransportTime.prototype.toSeconds=function(){var e=this._expr();return e+(this._plusNow?t.Transport.seconds:0)},t.TransportTime.prototype.toFrequency=function(){return 1/this.toSeconds()},t.TransportTime}),e(function(t){return t.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Gain:"gain",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"},t.prototype.toSeconds=function(e){return t.isNumber(e)?e:t.isUndef(e)?this.now():t.isString(e)?new t.Time(e).toSeconds():e instanceof t.TimeBase?e.toSeconds():void 0},t.prototype.toFrequency=function(e){return t.isNumber(e)?e:t.isString(e)||t.isUndef(e)?new t.Frequency(e).valueOf():e instanceof t.TimeBase?e.toFrequency():void 0},t.prototype.toTicks=function(e){return t.isNumber(e)||t.isString(e)?new t.TransportTime(e).toTicks():t.isUndef(e)?t.Transport.ticks:e instanceof t.TimeBase?e.toTicks():void 0},t}),e(function(t){return t.Param=function(){var e=t.defaults(arguments,["param","units","convert"],t.Param);t.AudioNode.call(this),this._param=this.input=e.param,this.units=e.units,this.convert=e.convert,this.overridden=!1,this._lfo=null,t.isObject(e.lfo)?this.value=e.lfo:t.isUndef(e.value)||(this.value=e.value)},t.extend(t.Param,t.AudioNode),t.Param.defaults={units:t.Type.Default,convert:!0,param:void 0},Object.defineProperty(t.Param.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(e){if(t.isObject(e)){if(t.isUndef(t.LFO))throw new Error("Include 'Tone.LFO' to use an LFO as a Param value.");this._lfo&&this._lfo.dispose(),this._lfo=new t.LFO(e).start(),this._lfo.connect(this.input)}else{var n=this._fromUnits(e);this._param.cancelScheduledValues(0),this._param.value=n}}}),t.Param.prototype._fromUnits=function(e){if(!this.convert&&!t.isUndef(this.convert))return e;switch(this.units){case t.Type.Time:return this.toSeconds(e);case t.Type.Frequency:return this.toFrequency(e);case t.Type.Decibels:return t.dbToGain(e);case t.Type.NormalRange:return Math.min(Math.max(e,0),1);case t.Type.AudioRange:return Math.min(Math.max(e,-1),1);case t.Type.Positive:return Math.max(e,0);default:return e}},t.Param.prototype._toUnits=function(e){if(!this.convert&&!t.isUndef(this.convert))return e;switch(this.units){case t.Type.Decibels:return t.gainToDb(e);default:return e}},t.Param.prototype._minOutput=1e-5,t.Param.prototype.setValueAtTime=function(e,n){return n=this.toSeconds(n),t.isPast(n),this._param.setValueAtTime(this._fromUnits(e),n),this},t.Param.prototype.setRampPoint=function(e){e=t.defaultArg(e,this.now()),this.cancelAndHoldAtTime(this.context.currentTime);var n=this._param.value;return 0===n&&(n=this._minOutput),this._param.setValueAtTime(n,e),this},t.Param.prototype.linearRampToValueAtTime=function(e,n){return e=this._fromUnits(e),n=this.toSeconds(n),t.isPast(n),this._param.linearRampToValueAtTime(e,n),this},t.Param.prototype.exponentialRampToValueAtTime=function(e,n){return e=this._fromUnits(e),e=Math.max(this._minOutput,e),n=this.toSeconds(n),t.isPast(n),this._param.exponentialRampToValueAtTime(e,n),this},t.Param.prototype.exponentialRampTo=function(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this},t.Param.prototype.linearRampTo=function(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this},t.Param.prototype.getTimeConstant=function(t){return Math.log(this.toSeconds(t)+1)/Math.log(200)},t.Param.prototype.targetRampTo=function(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.setTargetAtTime(t,n,this.getTimeConstant(e)),this},t.Param.prototype.setTargetAtTime=function(t,e,n){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),n=Math.max(this._minOutput,n),this._param.setTargetAtTime(t,this.toSeconds(e),n),this},t.Param.prototype.setValueCurveAtTime=function(t,e,n){n=this.toSeconds(n),e=this.toSeconds(e),this.setValueAtTime(t[0],e);for(var i=n/(t.length-1),r=1;r<t.length;r++)this._param.linearRampToValueAtTime(this._fromUnits(t[r]),e+r*i);return this},t.Param.prototype.cancelScheduledValues=function(t){return this._param.cancelScheduledValues(this.toSeconds(t)),this},t.Param.prototype.cancelAndHoldAtTime=function(t){if(t=this.toSeconds(t),this._param.cancelAndHoldAtTime)this._param.cancelAndHoldAtTime(t);else{var e=this.context.currentTime;this._param.cancelScheduledValues(e);var n=this._param.value;0===n&&(n=this._minOutput),this._param.setValueAtTime(n,e+this.sampleTime)}return this},t.Param.prototype.rampTo=function(e,n,i){return n=t.defaultArg(n,.1),this.units===t.Type.Frequency||this.units===t.Type.BPM||this.units===t.Type.Decibels?this.exponentialRampTo(e,n,i):this.linearRampTo(e,n,i),this},Object.defineProperty(t.Param.prototype,"lfo",{get:function(){return this._lfo}}),t.Param.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._param=null,this._lfo&&(this._lfo.dispose(),this._lfo=null),this},t.Param}),e(function(t){return window.GainNode&&!AudioContext.prototype.createGain&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),t.Gain=function(){var e=t.defaults(arguments,["gain","units"],t.Gain);t.AudioNode.call(this),this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new t.Param({param:this._gainNode.gain,units:e.units,value:e.gain,convert:e.convert}),this._readOnly("gain")},t.extend(t.Gain,t.AudioNode),t.Gain.defaults={gain:1,convert:!0},t.Gain.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},t.Gain}),e(function(t){return t.Signal=function(){var e=t.defaults(arguments,["value","units"],t.Signal),n=t.context.createGain();e.param=n.gain,t.Param.call(this,e),this.output=n,this.input=this._param=this.output.gain,this.context.getConstant(1).connect(this.output)},t.extend(t.Signal,t.Param),t.Signal.defaults={value:0,units:t.Type.Default,convert:!0},t.Signal.prototype.connect=t.SignalBase.prototype.connect,t.Signal.prototype.dispose=function(){return t.Param.prototype.dispose.call(this),this},t.Signal}),e(function(t){return t.TimelineSignal=function(){var e=t.defaults(arguments,["value","units"],t.Signal);t.Signal.call(this,e),this._events=new t.Timeline(100),this._initial=this._fromUnits(this._param.value),this.value=e.value,delete this.input},t.extend(t.TimelineSignal,t.Signal),t.TimelineSignal.Type={Linear:"linear",Exponential:"exponential",Target:"target",Set:"set"},Object.defineProperty(t.TimelineSignal.prototype,"value",{get:function(){var t=this.now(),e=this.getValueAtTime(t);return this._toUnits(e)},set:function(t){if(this._events){var e=this._fromUnits(t);this._initial=e,this.cancelScheduledValues(),this._param.value=e}}}),t.TimelineSignal.prototype.setValueAtTime=function(e,n){return e=this._fromUnits(e),n=this.toSeconds(n),this._events.add({type:t.TimelineSignal.Type.Set,value:e,time:n}),this._param.setValueAtTime(e,n),this},t.TimelineSignal.prototype.linearRampToValueAtTime=function(e,n){return e=this._fromUnits(e),n=this.toSeconds(n),this._events.add({type:t.TimelineSignal.Type.Linear,value:e,time:n}),this._param.linearRampToValueAtTime(e,n),this},t.TimelineSignal.prototype.exponentialRampToValueAtTime=function(e,n){n=this.toSeconds(n);var i=this._searchBefore(n);i&&0===i.value&&this.setValueAtTime(this._minOutput,i.time),e=this._fromUnits(e);var r=Math.max(e,this._minOutput);return this._events.add({type:t.TimelineSignal.Type.Exponential,value:r,time:n}),e<this._minOutput?(this._param.exponentialRampToValueAtTime(this._minOutput,n-this.sampleTime),this.setValueAtTime(0,n)):this._param.exponentialRampToValueAtTime(e,n),this},t.TimelineSignal.prototype.setTargetAtTime=function(e,n,i){return e=this._fromUnits(e),e=Math.max(this._minOutput,e),i=Math.max(this._minOutput,i),n=this.toSeconds(n),this._events.add({type:t.TimelineSignal.Type.Target,value:e,time:n,constant:i}),this._param.setTargetAtTime(e,n,i),this},t.TimelineSignal.prototype.setValueCurveAtTime=function(e,n,i,r){r=t.defaultArg(r,1),i=this.toSeconds(i),n=this.toSeconds(n);var o=i/(e.length-1);this.setValueAtTime(e[0]*r,n);for(var s=1;s<e.length;s++)this.linearRampToValueAtTime(e[s]*r,n+s*o);return this},t.TimelineSignal.prototype.cancelScheduledValues=function(t){return t=this.toSeconds(t),this._events.cancel(t),this._param.cancelScheduledValues(t),this},t.TimelineSignal.prototype.cancelAndHoldAtTime=function(t){return this.setRampPoint(this.toSeconds(t)),this},t.TimelineSignal.prototype.setRampPoint=function(e){e=this.toSeconds(e);var n=this._toUnits(this.getValueAtTime(e)),i=this._searchBefore(e);if(i&&i.time===e)this.cancelScheduledValues(e+this.sampleTime);else{var r=this._searchAfter(e);r&&(this.cancelScheduledValues(e),r.type===t.TimelineSignal.Type.Linear?this.linearRampToValueAtTime(n,e):r.type===t.TimelineSignal.Type.Exponential&&this.exponentialRampToValueAtTime(n,e))}return this.setValueAtTime(n,e),this},t.TimelineSignal.prototype.linearRampToValueBetween=function(t,e,n){return this.setRampPoint(e),this.linearRampToValueAtTime(t,n),this},t.TimelineSignal.prototype.exponentialRampToValueBetween=function(t,e,n){return this.setRampPoint(e),this.exponentialRampToValueAtTime(t,n),this},t.TimelineSignal.prototype._searchBefore=function(t){return this._events.get(t)},t.TimelineSignal.prototype._searchAfter=function(t){return this._events.getAfter(t)},t.TimelineSignal.prototype.getValueAtTime=function(e){e=this.toSeconds(e);var n=this._searchAfter(e),i=this._searchBefore(e),r=this._initial;if(null===i)r=this._initial;else if(i.type===t.TimelineSignal.Type.Target){var o,s=this._events.getBefore(i.time);o=null===s?this._initial:s.value,r=this._exponentialApproach(i.time,o,i.value,i.constant,e)}else r=null===n?i.value:n.type===t.TimelineSignal.Type.Linear?this._linearInterpolate(i.time,i.value,n.time,n.value,e):n.type===t.TimelineSignal.Type.Exponential?this._exponentialInterpolate(i.time,i.value,n.time,n.value,e):i.value;return r},t.TimelineSignal.prototype.connect=t.SignalBase.prototype.connect,t.TimelineSignal.prototype._exponentialApproach=function(t,e,n,i,r){return n+(e-n)*Math.exp(-(r-t)/i)},t.TimelineSignal.prototype._linearInterpolate=function(t,e,n,i,r){return e+(i-e)*((r-t)/(n-t))},t.TimelineSignal.prototype._exponentialInterpolate=function(t,e,n,i,r){return e=Math.max(this._minOutput,e),e*Math.pow(i/e,(r-t)/(n-t))},t.TimelineSignal.prototype.dispose=function(){t.Signal.prototype.dispose.call(this),this._events.dispose(),this._events=null},t.TimelineSignal}),e(function(t){return t.Pow=function(e){t.SignalBase.call(this),this._exp=t.defaultArg(e,1),this._expScaler=this.input=this.output=new t.WaveShaper(this._expFunc(this._exp),8192)},t.extend(t.Pow,t.SignalBase),Object.defineProperty(t.Pow.prototype,"value",{get:function(){return this._exp},set:function(t){this._exp=t,this._expScaler.setMap(this._expFunc(this._exp))}}),t.Pow.prototype._expFunc=function(t){return function(e){return Math.pow(Math.abs(e),t)}},t.Pow.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},t.Pow}),e(function(t){return t.Envelope=function(){var e=t.defaults(arguments,["attack","decay","sustain","release"],t.Envelope);t.AudioNode.call(this),this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this._attackCurve="linear",this._releaseCurve="exponential",this._sig=this.output=new t.TimelineSignal,this._sig.setValueAtTime(0,0),this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve},t.extend(t.Envelope,t.AudioNode),t.Envelope.defaults={attack:.01,decay:.1,sustain:.5,release:1,attackCurve:"linear",releaseCurve:"exponential"},Object.defineProperty(t.Envelope.prototype,"value",{get:function(){return this.getValueAtTime(this.now())}}),Object.defineProperty(t.Envelope.prototype,"attackCurve",{get:function(){if(t.isString(this._attackCurve))return this._attackCurve;if(t.isArray(this._attackCurve)){for(var e in t.Envelope.Type)if(t.Envelope.Type[e].In===this._attackCurve)return e;return this._attackCurve}},set:function(e){if(t.Envelope.Type.hasOwnProperty(e)){var n=t.Envelope.Type[e];this._attackCurve=t.isObject(n)?n.In:n}else{if(!t.isArray(e))throw new Error("Tone.Envelope: invalid curve: "+e);this._attackCurve=e}}}),Object.defineProperty(t.Envelope.prototype,"releaseCurve",{get:function(){if(t.isString(this._releaseCurve))return this._releaseCurve;if(t.isArray(this._releaseCurve)){for(var e in t.Envelope.Type)if(t.Envelope.Type[e].Out===this._releaseCurve)return e;return this._releaseCurve}},set:function(e){if(t.Envelope.Type.hasOwnProperty(e)){var n=t.Envelope.Type[e];this._releaseCurve=t.isObject(n)?n.Out:n}else{if(!t.isArray(e))throw new Error("Tone.Envelope: invalid curve: "+e);this._releaseCurve=e}}}),t.Envelope.prototype.triggerAttack=function(e,n){e=this.toSeconds(e);var i=this.toSeconds(this.attack),r=i,o=this.toSeconds(this.decay);n=t.defaultArg(n,1);var s=this.getValueAtTime(e);if(s>0){var a=1/r,l=1-s;r=l/a}if("linear"===this._attackCurve)this._sig.linearRampTo(n,r,e);else if("exponential"===this._attackCurve)this._sig.targetRampTo(n,r,e);else if(r>0){this._sig.setRampPoint(e);var u=this._attackCurve;if(i>r){var h=1-r/i,c=Math.floor(h*this._attackCurve.length);u=this._attackCurve.slice(c),u[0]=s}this._sig.setValueCurveAtTime(u,e,r,n)}return this._sig.targetRampTo(n*this.sustain,o,r+e),this},t.Envelope.prototype.triggerRelease=function(e){e=this.toSeconds(e);var n=this.getValueAtTime(e);if(n>0){var i=this.toSeconds(this.release);if("linear"===this._releaseCurve)this._sig.linearRampTo(0,i,e);else if("exponential"===this._releaseCurve)this._sig.targetRampTo(0,i,e);else{var r=this._releaseCurve;t.isArray(r)&&(this._sig.setRampPoint(e),this._sig.setValueCurveAtTime(r,e,i,n))}}return this},t.Envelope.prototype.getValueAtTime=function(t){return this._sig.getValueAtTime(t)},t.Envelope.prototype.triggerAttackRelease=function(t,e,n){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this},t.Envelope.prototype.cancel=function(t){return this._sig.cancelScheduledValues(t),this},t.Envelope.prototype.connect=t.Signal.prototype.connect,function(){function e(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=1-t[n];return e}function n(t){return t.slice(0).reverse()}var i,r,o=128,s=[];for(i=0;o>i;i++)s[i]=Math.sin(i/(o-1)*(Math.PI/2));var a=[],l=6.4;for(i=0;o-1>i;i++){r=i/(o-1);var u=Math.sin(2*r*Math.PI*l-Math.PI/2)+1;a[i]=u/10+.83*r}a[o-1]=1;var h=[],c=5;for(i=0;o>i;i++)h[i]=Math.ceil(i/(o-1)*c)/c;var p=[];for(i=0;o>i;i++)r=i/(o-1),p[i]=.5*(1-Math.cos(Math.PI*r));var d=[];for(i=0;o>i;i++){r=i/(o-1);var f=4*Math.pow(r,3)+.2,m=Math.cos(f*Math.PI*2*r);d[i]=Math.abs(m*(1-r))}t.Envelope.Type={linear:"linear",exponential:"exponential",bounce:{In:e(d),Out:d},cosine:{In:s,Out:n(s)},step:{In:h,Out:e(h)},ripple:{In:a,Out:e(a)},sine:{In:p,Out:e(p)}}}(),t.Envelope.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._sig.dispose(),this._sig=null,this._attackCurve=null,this._releaseCurve=null,this},t.Envelope}),e(function(t){return t.AmplitudeEnvelope=function(){t.Envelope.apply(this,arguments),this.input=this.output=new t.Gain,this._sig.connect(this.output.gain)},t.extend(t.AmplitudeEnvelope,t.Envelope),t.AmplitudeEnvelope.prototype.dispose=function(){return t.Envelope.prototype.dispose.call(this),this},t.AmplitudeEnvelope}),e(function(t){return window.AnalyserNode&&!AnalyserNode.prototype.getFloatTimeDomainData&&(AnalyserNode.prototype.getFloatTimeDomainData=function(t){var e=new Uint8Array(t.length);this.getByteTimeDomainData(e);for(var n=0;n<e.length;n++)t[n]=(e[n]-128)/128}),t.Analyser=function(){var e=t.defaults(arguments,["type","size"],t.Analyser);t.AudioNode.call(this),this._analyser=this.input=this.output=this.context.createAnalyser(),this._type=e.type,this._buffer=null,this.size=e.size,this.type=e.type},t.extend(t.Analyser,t.AudioNode),t.Analyser.defaults={size:1024,type:"fft",smoothing:.8},t.Analyser.Type={Waveform:"waveform",FFT:"fft"},t.Analyser.prototype.getValue=function(){return this._type===t.Analyser.Type.FFT?this._analyser.getFloatFrequencyData(this._buffer):this._type===t.Analyser.Type.Waveform&&this._analyser.getFloatTimeDomainData(this._buffer),this._buffer},Object.defineProperty(t.Analyser.prototype,"size",{get:function(){return this._analyser.frequencyBinCount},set:function(t){this._analyser.fftSize=2*t,this._buffer=new Float32Array(t)}}),Object.defineProperty(t.Analyser.prototype,"type",{get:function(){return this._type},set:function(e){if(e!==t.Analyser.Type.Waveform&&e!==t.Analyser.Type.FFT)throw new TypeError("Tone.Analyser: invalid type: "+e);this._type=e}}),Object.defineProperty(t.Analyser.prototype,"smoothing",{get:function(){return this._analyser.smoothingTimeConstant},set:function(t){this._analyser.smoothingTimeConstant=t}}),t.Analyser.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this),this._analyser.disconnect(),this._analyser=null,this._buffer=null},t.Analyser}),e(function(t){return t.Compressor=function(){var e=t.defaults(arguments,["threshold","ratio"],t.Compressor);t.AudioNode.call(this),this._compressor=this.input=this.output=this.context.createDynamicsCompressor(),this.threshold=new t.Param({param:this._compressor.threshold,units:t.Type.Decibels,convert:!1}),this.attack=new t.Param(this._compressor.attack,t.Type.Time),this.release=new t.Param(this._compressor.release,t.Type.Time),this.knee=new t.Param({param:this._compressor.knee,units:t.Type.Decibels,convert:!1}),this.ratio=new t.Param({param:this._compressor.ratio,convert:!1}),this._readOnly(["knee","release","attack","ratio","threshold"]),this.set(e)},t.extend(t.Compressor,t.AudioNode),t.Compressor.defaults={ratio:12,threshold:-24,release:.25,attack:.003,knee:30},t.Compressor.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["knee","release","attack","ratio","threshold"]),this._compressor.disconnect(),this._compressor=null,this.attack.dispose(),this.attack=null,this.release.dispose(),this.release=null,this.threshold.dispose(),this.threshold=null,this.ratio.dispose(),this.ratio=null,this.knee.dispose(),this.knee=null,this},t.Compressor}),e(function(t){return t.Add=function(e){t.Signal.call(this),this.createInsOuts(2,0),this._sum=this.input[0]=this.input[1]=this.output=new t.Gain,this._param=this.input[1]=new t.Signal(e),this._param.connect(this._sum)},t.extend(t.Add,t.Signal),t.Add.prototype.dispose=function(){return t.Signal.prototype.dispose.call(this),this._sum.dispose(),this._sum=null,this},t.Add}),e(function(t){return t.Multiply=function(e){t.Signal.call(this),this.createInsOuts(2,0),this._mult=this.input[0]=this.output=new t.Gain,this._param=this.input[1]=this.output.gain,this._param.value=t.defaultArg(e,0)},t.extend(t.Multiply,t.Signal),t.Multiply.prototype.dispose=function(){return t.Signal.prototype.dispose.call(this),this._mult.dispose(),this._mult=null,this._param=null,this},t.Multiply}),e(function(t){return t.Negate=function(){t.SignalBase.call(this),this._multiply=this.input=this.output=new t.Multiply(-1)},t.extend(t.Negate,t.SignalBase),t.Negate.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},t.Negate}),e(function(t){return t.Subtract=function(e){t.Signal.call(this),this.createInsOuts(2,0),this._sum=this.input[0]=this.output=new t.Gain,this._neg=new t.Negate,this._param=this.input[1]=new t.Signal(e),this._param.chain(this._neg,this._sum)},t.extend(t.Subtract,t.Signal),t.Subtract.prototype.dispose=function(){return t.Signal.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this},t.Subtract}),e(function(t){return t.GreaterThanZero=function(){t.SignalBase.call(this),this._thresh=this.output=new t.WaveShaper(function(t){return 0>=t?0:1},127),this._scale=this.input=new t.Multiply(1e4),this._scale.connect(this._thresh)},t.extend(t.GreaterThanZero,t.SignalBase),t.GreaterThanZero.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},t.GreaterThanZero}),e(function(t){return t.GreaterThan=function(e){t.Signal.call(this),this.createInsOuts(2,0),this._param=this.input[0]=new t.Subtract(e),this.input[1]=this._param.input[1],this._gtz=this.output=new t.GreaterThanZero,this._param.connect(this._gtz)},t.extend(t.GreaterThan,t.Signal),t.GreaterThan.prototype.dispose=function(){return t.Signal.prototype.dispose.call(this),this._gtz.dispose(),this._gtz=null,this},t.GreaterThan}),e(function(t){return t.Abs=function(){t.SignalBase.call(this),this._abs=this.input=this.output=new t.WaveShaper(function(t){return 0===t?0:Math.abs(t)},127)},t.extend(t.Abs,t.SignalBase),t.Abs.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._abs.dispose(),this._abs=null,this},t.Abs}),e(function(t){return t.Modulo=function(e){t.SignalBase.call(this),
this.createInsOuts(1,0),this._shaper=new t.WaveShaper(Math.pow(2,16)),this._multiply=new t.Multiply,this._subtract=this.output=new t.Subtract,this._modSignal=new t.Signal(e),this.input.fan(this._shaper,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(e)},t.extend(t.Modulo,t.SignalBase),t.Modulo.prototype._setWaveShaper=function(t){this._shaper.setMap(function(e){var n=Math.floor((e+1e-4)/t);return n})},Object.defineProperty(t.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(t){this._modSignal.value=t,this._setWaveShaper(t)}}),t.Modulo.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},t.Modulo}),e(function(t){return t.AudioToGain=function(){t.SignalBase.call(this),this._norm=this.input=this.output=new t.WaveShaper(function(t){return(t+1)/2})},t.extend(t.AudioToGain,t.SignalBase),t.AudioToGain.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},t.AudioToGain}),e(function(t){function e(t,e,n){var i=new t;return n._eval(e[0]).connect(i,0,0),n._eval(e[1]).connect(i,0,1),i}function n(t,e,n){var i=new t;return n._eval(e[0]).connect(i,0,0),i}function i(t){return t?parseFloat(t):void 0}function r(t){return t&&t.args?parseFloat(t.args):void 0}return t.Expr=function(){t.SignalBase.call(this);var e=this._replacements(Array.prototype.slice.call(arguments)),n=this._parseInputs(e);this._nodes=[],this.input=new Array(n);for(var i=0;n>i;i++)this.input[i]=this.context.createGain();var r,o=this._parseTree(e);try{r=this._eval(o)}catch(s){throw this._disposeNodes(),new Error("Tone.Expr: Could evaluate expression: "+e)}this.output=r},t.extend(t.Expr,t.SignalBase),t.Expr._Expressions={value:{signal:{regexp:/^\d+\.\d+|^\d+/,method:function(e){var n=new t.Signal(i(e));return n}},input:{regexp:/^\$\d/,method:function(t,e){return e.input[i(t.substr(1))]}}},glue:{"(":{regexp:/^\(/},")":{regexp:/^\)/},",":{regexp:/^,/}},func:{abs:{regexp:/^abs/,method:n.bind(this,t.Abs)},mod:{regexp:/^mod/,method:function(e,n){var i=r(e[1]),o=new t.Modulo(i);return n._eval(e[0]).connect(o),o}},pow:{regexp:/^pow/,method:function(e,n){var i=r(e[1]),o=new t.Pow(i);return n._eval(e[0]).connect(o),o}},a2g:{regexp:/^a2g/,method:function(e,n){var i=new t.AudioToGain;return n._eval(e[0]).connect(i),i}}},binary:{"+":{regexp:/^\+/,precedence:1,method:e.bind(this,t.Add)},"-":{regexp:/^\-/,precedence:1,method:function(i,r){return 1===i.length?n(t.Negate,i,r):e(t.Subtract,i,r)}},"*":{regexp:/^\*/,precedence:0,method:e.bind(this,t.Multiply)}},unary:{"-":{regexp:/^\-/,method:n.bind(this,t.Negate)},"!":{regexp:/^\!/,method:n.bind(this,t.NOT)}}},t.Expr.prototype._parseInputs=function(t){var e=t.match(/\$\d/g),n=0;if(null!==e)for(var i=0;i<e.length;i++){var r=parseInt(e[i].substr(1))+1;n=Math.max(n,r)}return n},t.Expr.prototype._replacements=function(t){for(var e=t.shift(),n=0;n<t.length;n++)e=e.replace(/\%/i,t[n]);return e},t.Expr.prototype._tokenize=function(e){function n(e){for(var n in t.Expr._Expressions){var i=t.Expr._Expressions[n];for(var r in i){var o=i[r],s=o.regexp,a=e.match(s);if(null!==a)return{type:n,value:a[0],method:o.method}}}throw new SyntaxError("Tone.Expr: Unexpected token "+e)}for(var i=-1,r=[];e.length>0;){e=e.trim();var o=n(e);r.push(o),e=e.substr(o.value.length)}return{next:function(){return r[++i]},peek:function(){return r[i+1]}}},t.Expr.prototype._parseTree=function(e){function n(t,e){return!h(t)&&"glue"===t.type&&t.value===e}function i(e,n,i){var r=!1,o=t.Expr._Expressions[n];if(!h(e))for(var s in o){var a=o[s];if(a.regexp.test(e.value)){if(h(i))return!0;if(a.precedence===i)return!0}}return r}function r(t){h(t)&&(t=5);var e;e=0>t?o():r(t-1);for(var n=u.peek();i(n,"binary",t);)n=u.next(),e={operator:n.value,method:n.method,args:[e,r(t-1)]},n=u.peek();return e}function o(){var t,e;return t=u.peek(),i(t,"unary")?(t=u.next(),e=o(),{operator:t.value,method:t.method,args:[e]}):s()}function s(){var t,e;if(t=u.peek(),h(t))throw new SyntaxError("Tone.Expr: Unexpected termination of expression");if("func"===t.type)return t=u.next(),a(t);if("value"===t.type)return t=u.next(),{method:t.method,args:t.value};if(n(t,"(")){if(u.next(),e=r(),t=u.next(),!n(t,")"))throw new SyntaxError("Expected )");return e}throw new SyntaxError("Tone.Expr: Parse error, cannot process token "+t.value)}function a(t){var e,i=[];if(e=u.next(),!n(e,"("))throw new SyntaxError('Tone.Expr: Expected ( in a function call "'+t.value+'"');if(e=u.peek(),n(e,")")||(i=l()),e=u.next(),!n(e,")"))throw new SyntaxError('Tone.Expr: Expected ) in a function call "'+t.value+'"');return{method:t.method,args:i,name:name}}function l(){for(var t,e,i=[];;){if(e=r(),h(e))break;if(i.push(e),t=u.peek(),!n(t,","))break;u.next()}return i}var u=this._tokenize(e),h=t.isUndef.bind(this);return r()},t.Expr.prototype._eval=function(e){if(!t.isUndef(e)){var n=e.method(e.args,this);return this._nodes.push(n),n}},t.Expr.prototype._disposeNodes=function(){for(var e=0;e<this._nodes.length;e++){var n=this._nodes[e];t.isFunction(n.dispose)?n.dispose():t.isFunction(n.disconnect)&&n.disconnect(),n=null,this._nodes[e]=null}this._nodes=null},t.Expr.prototype.dispose=function(){t.SignalBase.prototype.dispose.call(this),this._disposeNodes()},t.Expr}),e(function(t){return t.EqualPowerGain=function(){t.SignalBase.call(this),this._eqPower=this.input=this.output=new t.WaveShaper(function(e){return Math.abs(e)<.001?0:t.equalPowerScale(e)}.bind(this),4096)},t.extend(t.EqualPowerGain,t.SignalBase),t.EqualPowerGain.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},t.EqualPowerGain}),e(function(t){return t.CrossFade=function(e){t.AudioNode.call(this),this.createInsOuts(2,1),this.a=this.input[0]=new t.Gain,this.b=this.input[1]=new t.Gain,this.fade=new t.Signal(t.defaultArg(e,.5),t.Type.NormalRange),this._equalPowerA=new t.EqualPowerGain,this._equalPowerB=new t.EqualPowerGain,this._invert=new t.Expr("1 - $0"),this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),this.fade.chain(this._invert,this._equalPowerA,this.a.gain),this._readOnly("fade")},t.extend(t.CrossFade,t.AudioNode),t.CrossFade.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this.a.dispose(),this.a=null,this.b.dispose(),this.b=null,this},t.CrossFade}),e(function(t){return t.Filter=function(){var e=t.defaults(arguments,["frequency","type","rolloff"],t.Filter);t.AudioNode.call(this),this.createInsOuts(1,1),this._filters=[],this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(0,t.Type.Cents),this.gain=new t.Signal({value:e.gain,convert:!1}),this.Q=new t.Signal(e.Q),this._type=e.type,this._rolloff=e.rolloff,this.rolloff=e.rolloff,this._readOnly(["detune","frequency","gain","Q"])},t.extend(t.Filter,t.AudioNode),t.Filter.defaults={type:"lowpass",frequency:350,rolloff:-12,Q:1,gain:0},Object.defineProperty(t.Filter.prototype,"type",{get:function(){return this._type},set:function(t){var e=["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"];if(-1===e.indexOf(t))throw new TypeError("Tone.Filter: invalid type "+t);this._type=t;for(var n=0;n<this._filters.length;n++)this._filters[n].type=t}}),Object.defineProperty(t.Filter.prototype,"rolloff",{get:function(){return this._rolloff},set:function(e){e=parseInt(e,10);var n=[-12,-24,-48,-96],i=n.indexOf(e);if(-1===i)throw new RangeError("Tone.Filter: rolloff can only be -12, -24, -48 or -96");i+=1,this._rolloff=e,this.input.disconnect();for(var r=0;r<this._filters.length;r++)this._filters[r].disconnect(),this._filters[r]=null;this._filters=new Array(i);for(var o=0;i>o;o++){var s=this.context.createBiquadFilter();s.type=this._type,this.frequency.connect(s.frequency),this.detune.connect(s.detune),this.Q.connect(s.Q),this.gain.connect(s.gain),this._filters[o]=s}var a=[this.input].concat(this._filters).concat([this.output]);t.connectSeries.apply(t,a)}}),t.Filter.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);for(var e=0;e<this._filters.length;e++)this._filters[e].disconnect(),this._filters[e]=null;return this._filters=null,this._writable(["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.frequency=null,this.Q=null,this.detune.dispose(),this.detune=null,this.gain.dispose(),this.gain=null,this},t.Filter}),e(function(t){return t.MultibandSplit=function(){var e=t.defaults(arguments,["lowFrequency","highFrequency"],t.MultibandSplit);t.AudioNode.call(this),this.input=new t.Gain,this.output=new Array(3),this.low=this.output[0]=new t.Filter(0,"lowpass"),this._lowMidFilter=new t.Filter(0,"highpass"),this.mid=this.output[1]=new t.Filter(0,"lowpass"),this.high=this.output[2]=new t.Filter(0,"highpass"),this.lowFrequency=new t.Signal(e.lowFrequency,t.Type.Frequency),this.highFrequency=new t.Signal(e.highFrequency,t.Type.Frequency),this.Q=new t.Signal(e.Q),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.connect(this.low.frequency),this.lowFrequency.connect(this._lowMidFilter.frequency),this.highFrequency.connect(this.mid.frequency),this.highFrequency.connect(this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},t.extend(t.MultibandSplit,t.AudioNode),t.MultibandSplit.defaults={lowFrequency:400,highFrequency:2500,Q:1},t.MultibandSplit.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.low=null,this._lowMidFilter.dispose(),this._lowMidFilter=null,this.mid.dispose(),this.mid=null,this.high.dispose(),this.high=null,this.lowFrequency.dispose(),this.lowFrequency=null,this.highFrequency.dispose(),this.highFrequency=null,this.Q.dispose(),this.Q=null,this},t.MultibandSplit}),e(function(t){return t.EQ3=function(){var e=t.defaults(arguments,["low","mid","high"],t.EQ3);t.AudioNode.call(this),this.output=new t.Gain,this._multibandSplit=this.input=new t.MultibandSplit({lowFrequency:e.lowFrequency,highFrequency:e.highFrequency}),this._lowGain=new t.Gain(e.low,t.Type.Decibels),this._midGain=new t.Gain(e.mid,t.Type.Decibels),this._highGain=new t.Gain(e.high,t.Type.Decibels),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),this._readOnly(["low","mid","high","lowFrequency","highFrequency"])},t.extend(t.EQ3,t.AudioNode),t.EQ3.defaults={low:0,mid:0,high:0,lowFrequency:400,highFrequency:2500},t.EQ3.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this._multibandSplit=null,this.lowFrequency=null,this.highFrequency=null,this._lowGain.dispose(),this._lowGain=null,this._midGain.dispose(),this._midGain=null,this._highGain.dispose(),this._highGain=null,this.low=null,this.mid=null,this.high=null,this.Q=null,this},t.EQ3}),e(function(t){return t.Scale=function(e,n){t.SignalBase.call(this),this._outputMin=t.defaultArg(e,0),this._outputMax=t.defaultArg(n,1),this._scale=this.input=new t.Multiply(1),this._add=this.output=new t.Add(0),this._scale.connect(this._add),this._setRange()},t.extend(t.Scale,t.SignalBase),Object.defineProperty(t.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(t){this._outputMin=t,this._setRange()}}),Object.defineProperty(t.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(t){this._outputMax=t,this._setRange()}}),t.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},t.Scale.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},t.Scale}),e(function(t){return t.ScaleExp=function(e,n,i){t.SignalBase.call(this),this._scale=this.output=new t.Scale(e,n),this._exp=this.input=new t.Pow(t.defaultArg(i,2)),this._exp.connect(this._scale)},t.extend(t.ScaleExp,t.SignalBase),Object.defineProperty(t.ScaleExp.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),Object.defineProperty(t.ScaleExp.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(t.ScaleExp.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),t.ScaleExp.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},t.ScaleExp}),e(function(t){return window.DelayNode&&!AudioContext.prototype.createDelay&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),t.Delay=function(){var e=t.defaults(arguments,["delayTime","maxDelay"],t.Delay);t.AudioNode.call(this),this._delayNode=this.input=this.output=this.context.createDelay(this.toSeconds(e.maxDelay)),this.delayTime=new t.Param({param:this._delayNode.delayTime,units:t.Type.Time,value:e.delayTime}),this._readOnly("delayTime")},t.extend(t.Delay,t.AudioNode),t.Delay.defaults={maxDelay:1,delayTime:0},t.Delay.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._delayNode.disconnect(),this._delayNode=null,this._writable("delayTime"),this.delayTime=null,this},t.Delay}),e(function(t){return t.FeedbackCombFilter=function(){var e=t.defaults(arguments,["delayTime","resonance"],t.FeedbackCombFilter);t.AudioNode.call(this),this._delay=this.input=this.output=new t.Delay(e.delayTime),this.delayTime=this._delay.delayTime,this._feedback=new t.Gain(e.resonance,t.Type.NormalRange),this.resonance=this._feedback.gain,this._delay.chain(this._feedback,this._delay),this._readOnly(["resonance","delayTime"])},t.extend(t.FeedbackCombFilter,t.AudioNode),t.FeedbackCombFilter.defaults={delayTime:.1,resonance:.5},t.FeedbackCombFilter.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["resonance","delayTime"]),this._delay.dispose(),this._delay=null,this.delayTime=null,this._feedback.dispose(),this._feedback=null,this.resonance=null,this},t.FeedbackCombFilter}),e(function(t){return t.FFT=function(){var e=t.defaults(arguments,["size"],t.FFT);e.type=t.Analyser.Type.FFT,t.AudioNode.call(this),this._analyser=this.input=this.output=new t.Analyser(e)},t.extend(t.FFT,t.AudioNode),t.FFT.defaults={size:1024},t.FFT.prototype.getValue=function(){return this._analyser.getValue()},Object.defineProperty(t.FFT.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}}),t.FFT.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null},t.FFT}),e(function(t){return t.Follower=function(){var e=t.defaults(arguments,["attack","release"],t.Follower);t.AudioNode.call(this),this.createInsOuts(1,1),this._abs=new t.Abs,this._filter=this.context.createBiquadFilter(),this._filter.type="lowpass",this._filter.frequency.value=0,this._filter.Q.value=-100,this._frequencyValues=new t.WaveShaper,this._sub=new t.Subtract,this._delay=new t.Delay(this.blockTime),this._mult=new t.Multiply(1e4),this._attack=e.attack,this._release=e.release,this.input.chain(this._abs,this._filter,this.output),this._abs.connect(this._sub,0,1),this._filter.chain(this._delay,this._sub),this._sub.chain(this._mult,this._frequencyValues,this._filter.frequency),this._setAttackRelease(this._attack,this._release)},t.extend(t.Follower,t.AudioNode),t.Follower.defaults={attack:.05,release:.5},t.Follower.prototype._setAttackRelease=function(e,n){var i=this.blockTime;e=t.Time(e).toFrequency(),n=t.Time(n).toFrequency(),e=Math.max(e,i),n=Math.max(n,i),this._frequencyValues.setMap(function(t){return 0>=t?e:n})},Object.defineProperty(t.Follower.prototype,"attack",{get:function(){return this._attack},set:function(t){this._attack=t,this._setAttackRelease(this._attack,this._release)}}),Object.defineProperty(t.Follower.prototype,"release",{get:function(){return this._release},set:function(t){this._release=t,this._setAttackRelease(this._attack,this._release)}}),t.Follower.prototype.connect=t.Signal.prototype.connect,t.Follower.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._filter.disconnect(),this._filter=null,this._frequencyValues.disconnect(),this._frequencyValues=null,this._delay.dispose(),this._delay=null,this._sub.disconnect(),this._sub=null,this._abs.dispose(),this._abs=null,this._mult.dispose(),this._mult=null,this._curve=null,this},t.Follower}),e(function(t){return t.ScaledEnvelope=function(){var e=t.defaults(arguments,["attack","decay","sustain","release"],t.Envelope);t.Envelope.call(this,e),e=t.defaultArg(e,t.ScaledEnvelope.defaults),this._exp=this.output=new t.Pow(e.exponent),this._scale=this.output=new t.Scale(e.min,e.max),this._sig.chain(this._exp,this._scale)},t.extend(t.ScaledEnvelope,t.Envelope),t.ScaledEnvelope.defaults={min:0,max:1,exponent:1},Object.defineProperty(t.ScaledEnvelope.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(t.ScaledEnvelope.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),Object.defineProperty(t.ScaledEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),t.ScaledEnvelope.prototype.dispose=function(){return t.Envelope.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},t.ScaledEnvelope}),e(function(t){return t.FrequencyEnvelope=function(){var e=t.defaults(arguments,["attack","decay","sustain","release"],t.Envelope);t.ScaledEnvelope.call(this,e),e=t.defaultArg(e,t.FrequencyEnvelope.defaults),this._octaves=e.octaves,this.baseFrequency=e.baseFrequency,this.octaves=e.octaves},t.extend(t.FrequencyEnvelope,t.Envelope),t.FrequencyEnvelope.defaults={baseFrequency:200,octaves:4,exponent:2},Object.defineProperty(t.FrequencyEnvelope.prototype,"baseFrequency",{get:function(){return this._scale.min},set:function(t){this._scale.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(t.FrequencyEnvelope.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._scale.max=this.baseFrequency*Math.pow(2,t)}}),Object.defineProperty(t.FrequencyEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),t.FrequencyEnvelope.prototype.dispose=function(){return t.ScaledEnvelope.prototype.dispose.call(this),this},t.FrequencyEnvelope}),e(function(t){return t.Gate=function(){var e=t.defaults(arguments,["threshold","attack","release"],t.Gate);t.AudioNode.call(this),this.createInsOuts(1,1),this._follower=new t.Follower(e.attack,e.release),this._gt=new t.GreaterThan(t.dbToGain(e.threshold)),this.input.connect(this.output),this.input.chain(this._gt,this._follower,this.output.gain)},t.extend(t.Gate,t.AudioNode),t.Gate.defaults={attack:.1,release:.1,threshold:-40},Object.defineProperty(t.Gate.prototype,"threshold",{get:function(){return t.gainToDb(this._gt.value)},set:function(e){this._gt.value=t.dbToGain(e)}}),Object.defineProperty(t.Gate.prototype,"attack",{get:function(){return this._follower.attack},set:function(t){this._follower.attack=t}}),Object.defineProperty(t.Gate.prototype,"release",{get:function(){return this._follower.release},set:function(t){this._follower.release=t}}),t.Gate.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._follower.dispose(),this._gt.dispose(),this._follower=null,this._gt=null,this},t.Gate}),e(function(t){function e(t){return function(e,n){n=this.toSeconds(n),t.apply(this,arguments);var i=this._events.get(n),r=this._events.previousEvent(i),o=this._getTickUntilEvent(r,n-this.sampleTime);return i.ticks=Math.max(o,0),this}}return t.TickSignal=function(e){e=t.defaultArg(e,1),t.TimelineSignal.call(this,{units:t.Type.Ticks,value:e}),this._events.memory=1/0},t.extend(t.TickSignal,t.TimelineSignal),t.TickSignal.prototype.setValueAtTime=e(t.TimelineSignal.prototype.setValueAtTime),t.TickSignal.prototype.linearRampToValueAtTime=e(t.TimelineSignal.prototype.linearRampToValueAtTime),t.TickSignal.prototype.setTargetAtTime=function(t,e,n){e=this.toSeconds(e),this.setRampPoint(e),t=this._fromUnits(t);for(var i=this._events.get(e),r=5,o=0;r>=o;o++){var s=n*o+e,a=this._exponentialApproach(i.time,i.value,t,n,s);this.linearRampToValueAtTime(this._toUnits(a),s)}return this},t.TickSignal.prototype.exponentialRampToValueAtTime=function(t,e){e=this.toSeconds(e),t=this._fromUnits(t);var n=this._events.get(e);null===n&&(n={value:this._initial,time:0});for(var i=5,r=(e-n.time)/i,o=0;i>=o;o++){var s=r*o+n.time,a=this._exponentialInterpolate(n.time,n.value,e,t,s);this.linearRampToValueAtTime(this._toUnits(a),s)}return this},t.TickSignal.prototype._getTickUntilEvent=function(t,e){null===t&&(t={ticks:0,time:0});var n=this.getValueAtTime(t.time),i=this.getValueAtTime(e);return.5*(e-t.time)*(n+i)+t.ticks},t.TickSignal.prototype.getTickAtTime=function(t){t=this.toSeconds(t);var e=this._events.get(t);return this._getTickUntilEvent(e,t)},t.TickSignal.prototype.getDurationOfTicks=function(t,e){e=this.toSeconds(e);var n=this.getTickAtTime(e);return this.getTimeOfTick(n+t)-e},t.TickSignal.prototype.getTimeOfTick=function(e){var n=this._events.get(e,"ticks"),i=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&i&&i.type===t.TimelineSignal.Type.Linear&&n.value!==i.value){var r=this.getValueAtTime(n.time),o=this.getValueAtTime(i.time),s=(o-r)/(i.time-n.time),a=Math.sqrt(Math.pow(r,2)-2*s*(n.ticks-e)),l=(-r+a)/s,u=(-r-a)/s;return(l>0?l:u)+n.time}return n?0===n.value?1/0:n.time+(e-n.ticks)/n.value:e/this._initial},t.TickSignal}),e(function(t){return t.TimelineState=function(e){t.Timeline.call(this),this._initial=e},t.extend(t.TimelineState,t.Timeline),t.TimelineState.prototype.getValueAtTime=function(t){var e=this.get(t);return null!==e?e.state:this._initial},t.TimelineState.prototype.setStateAtTime=function(t,e){return this.add({state:t,time:e}),this},t.TimelineState}),e(function(t){return t.Clock=function(){var e=t.defaults(arguments,["callback","frequency"],t.Clock);t.Emitter.call(this),this.callback=e.callback,this._nextTick=0,this._lastState=t.State.Stopped,this.frequency=new t.TickSignal(e.frequency,t.Type.Frequency),this._readOnly("frequency"),this.ticks=0,this._state=new t.TimelineState(t.State.Stopped),this._boundLoop=this._loop.bind(this),this.context.on("tick",this._boundLoop)},t.extend(t.Clock,t.Emitter),t.Clock.defaults={callback:t.noOp,frequency:1},Object.defineProperty(t.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),t.Clock.prototype.start=function(e,n){return e=this.toSeconds(e),this._state.getValueAtTime(e)!==t.State.Started&&(this._state.setStateAtTime(t.State.Started,e),this._state.get(e).offset=n),this},t.Clock.prototype.stop=function(e){return e=this.toSeconds(e),this._state.cancel(e),this._state.setStateAtTime(t.State.Stopped,e),this},t.Clock.prototype.pause=function(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)===t.State.Started&&this._state.setStateAtTime(t.State.Paused,e),this},t.Clock.prototype._loop=function(){var e=this.now()+this.context.updateInterval,n=this._state.get(e);if(n){if(n.state!==this._lastState)switch(this._lastState=n.state,n.state){case t.State.Started:t.isUndef(n.offset)||(this.ticks=n.offset),this._nextTick=n.time,this.emit("start",n.time,this.ticks);break;case t.State.Stopped:this.ticks=0,this.emit("stop",n.time);break;case t.State.Paused:this.emit("pause",n.time)}for(;e>this._nextTick&&this._state;){var i=this._nextTick;if(this.frequency&&(this._nextTick+=this.frequency.getDurationOfTicks(1,this._nextTick),n.state===t.State.Started))try{this.callback(i),this.ticks++}catch(r){throw this.ticks++,r}}}},t.Clock.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},t.Clock.prototype.dispose=function(){t.Emitter.prototype.dispose.call(this),this.context.off("tick",this._boundLoop),this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this._boundLoop=null,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},t.Clock}),e(function(t){t.IntervalTimeline=function(){t.call(this),this._root=null,this._length=0},t.extend(t.IntervalTimeline),t.IntervalTimeline.prototype.add=function(n){if(t.isUndef(n.time)||t.isUndef(n.duration))throw new Error("Tone.IntervalTimeline: events must have time and duration parameters");var i=new e(n.time,n.time+n.duration,n);for(null===this._root?this._root=i:this._root.insert(i),this._length++;null!==i;)i.updateHeight(),i.updateMax(),this._rebalance(i),i=i.parent;return this},t.IntervalTimeline.prototype.remove=function(t){if(null!==this._root){var e=[];this._root.search(t.time,e);for(var n=0;n<e.length;n++){var i=e[n];if(i.event===t){this._removeNode(i),this._length--;break}}}return this},Object.defineProperty(t.IntervalTimeline.prototype,"length",{get:function(){return this._length}}),t.IntervalTimeline.prototype.cancel=function(t){return this.forEachAfter(t,function(t){this.remove(t)}.bind(this)),this},t.IntervalTimeline.prototype._setRoot=function(t){this._root=t,null!==this._root&&(this._root.parent=null)},t.IntervalTimeline.prototype._replaceNodeInParent=function(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)},t.IntervalTimeline.prototype._removeNode=function(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{var e,n,i=t.getBalance();if(i>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent=e.parent,e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),this._rebalance(n)}t.dispose()},t.IntervalTimeline.prototype._rotateLeft=function(t){var e=t.parent,n=t.isLeftChild(),i=t.right;t.right=i.left,i.left=t,null!==e?n?e.left=i:e.right=i:this._setRoot(i)},t.IntervalTimeline.prototype._rotateRight=function(t){var e=t.parent,n=t.isLeftChild(),i=t.left;t.left=i.right,i.right=t,null!==e?n?e.left=i:e.right=i:this._setRoot(i)},t.IntervalTimeline.prototype._rebalance=function(t){var e=t.getBalance();e>1?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):-1>e&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))},t.IntervalTimeline.prototype.get=function(t){if(null!==this._root){var e=[];if(this._root.search(t,e),e.length>0){for(var n=e[0],i=1;i<e.length;i++)e[i].low>n.low&&(n=e[i]);return n.event}}return null},t.IntervalTimeline.prototype.forEach=function(t){if(null!==this._root){var e=[];this._root.traverse(function(t){e.push(t)});for(var n=0;n<e.length;n++){var i=e[n].event;i&&t(i)}}return this},t.IntervalTimeline.prototype.forEachAtTime=function(t,e){if(null!==this._root){var n=[];this._root.search(t,n);for(var i=n.length-1;i>=0;i--){var r=n[i].event;r&&e(r)}}return this},t.IntervalTimeline.prototype.forEachAfter=function(t,e){if(null!==this._root){var n=[];this._root.searchAfter(t,n);for(var i=n.length-1;i>=0;i--){var r=n[i].event;e(r)}}return this},t.IntervalTimeline.prototype.dispose=function(){var t=[];null!==this._root&&this._root.traverse(function(e){t.push(e)});for(var e=0;e<t.length;e++)t[e].dispose();return t=null,this._root=null,this};var e=function(t,e,n){this.event=n,this.low=t,this.high=e,this.max=this.high,this._left=null,this._right=null,this.parent=null,this.height=0};return e.prototype.insert=function(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)},e.prototype.search=function(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))},e.prototype.searchAfter=function(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)},e.prototype.traverse=function(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)},e.prototype.updateHeight=function(){this.height=null!==this.left&&null!==this.right?Math.max(this.left.height,this.right.height)+1:null!==this.right?this.right.height+1:null!==this.left?this.left.height+1:0},e.prototype.updateMax=function(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))},e.prototype.getBalance=function(){var t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t},e.prototype.isLeftChild=function(){return null!==this.parent&&this.parent.left===this},Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),e.prototype.dispose=function(){this.parent=null,this._left=null,this._right=null,this.event=null},t.IntervalTimeline}),e(function(t){return t.TransportEvent=function(e,n){n=t.defaultArg(n,t.TransportEvent.defaults),t.call(this),this.Transport=e,this.id=t.TransportEvent._eventId++,this.time=n.time,this.callback=n.callback,this._once=n.once},t.extend(t.TransportEvent),t.TransportEvent.defaults={once:!1,callback:t.noOp},t.TransportEvent._eventId=0,t.TransportEvent.prototype.invoke=function(t){this.callback&&(this.callback(t),this._once&&this.Transport&&this.Transport.clear(this.id))},t.TransportEvent.prototype.dispose=function(){return t.prototype.dispose.call(this),this.Transport=null,this.callback=null,this},t.TransportEvent}),e(function(t){return t.TransportRepeatEvent=function(e,n){t.TransportEvent.call(this,e,n),n=t.defaultArg(n,t.TransportRepeatEvent.defaults),this.duration=n.duration,this._interval=n.interval,this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this),this.Transport.on("start loopStart",this._boundRestart),this._restart()},t.extend(t.TransportRepeatEvent,t.TransportEvent),t.TransportRepeatEvent.defaults={duration:1/0,interval:1},t.TransportRepeatEvent.prototype.invoke=function(e){this._createEvents(),t.TransportEvent.prototype.invoke.call(this,e)},t.TransportRepeatEvent.prototype._createEvents=function(){var e=this.Transport.ticks;e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,
this._currentId=this._nextId,this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),t.TransportTime(this._nextTick,"i")))},t.TransportRepeatEvent.prototype._restart=function(){this.Transport.clear(this._currentId),this.Transport.clear(this._nextId);var e=this.Transport.ticks;this._nextTick=this.time,e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.Transport.scheduleOnce(this.invoke.bind(this),t.TransportTime(this._nextTick,"i")),this._nextTick+=this._interval,this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),t.TransportTime(this._nextTick,"i"))},t.TransportRepeatEvent.prototype.dispose=function(){return this.Transport.clear(this._currentId),this.Transport.clear(this._nextId),this.Transport.off("start loopStart",this._boundRestart),this._boundCreateEvents=null,t.TransportEvent.prototype.dispose.call(this),this},t.TransportRepeatEvent}),e(function(t){t.Transport=function(){t.Emitter.call(this),t.getContext(function(){this.loop=!1,this._loopStart=0,this._loopEnd=0,this._ppq=e.defaults.PPQ,this._clock=new t.Clock({callback:this._processTick.bind(this),frequency:0}),this._bindClockEvents(),this.bpm=this._clock.frequency,this.bpm._toUnits=this._toUnits.bind(this),this.bpm._fromUnits=this._fromUnits.bind(this),this.bpm.units=t.Type.BPM,this.bpm.value=e.defaults.bpm,this._readOnly("bpm"),this._timeSignature=e.defaults.timeSignature,this._scheduledEvents={},this._timeline=new t.Timeline,this._repeatedEvents=new t.IntervalTimeline,this._syncedSignals=[],this._swingTicks=e.defaults.PPQ/2,this._swingAmount=0}.bind(this))},t.extend(t.Transport,t.Emitter),t.Transport.defaults={bpm:120,swing:0,swingSubdivision:"8n",timeSignature:4,loopStart:0,loopEnd:"4m",PPQ:192},t.Transport.prototype._processTick=function(e){var n=this._clock.ticks;if(this._swingAmount>0&&n%this._ppq!==0&&n%(2*this._swingTicks)!==0){var i=n%(2*this._swingTicks)/(2*this._swingTicks),r=Math.sin(i*Math.PI)*this._swingAmount;e+=t.Time(2*this._swingTicks/3,"i")*r}this.loop&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.ticks=this._loopStart,n=this._loopStart,this.emit("loopStart",e,this.seconds),this.emit("loop",e)),this._timeline.forEachAtTime(n,function(t){t.invoke(e)})},t.Transport.prototype.schedule=function(e,n){var i=new t.TransportEvent(this,{time:this.toTicks(n),callback:e});return this._addEvent(i,this._timeline)},t.Transport.prototype.scheduleRepeat=function(e,n,i,r){var o=new t.TransportRepeatEvent(this,{callback:e,interval:this.toTicks(n),time:this.toTicks(i),duration:this.toTicks(t.defaultArg(r,1/0))});return this._addEvent(o,this._repeatedEvents)},t.Transport.prototype.scheduleOnce=function(e,n){var i=new t.TransportEvent(this,{time:this.toTicks(n),callback:e,once:!0});return this._addEvent(i,this._timeline)},t.Transport.prototype.clear=function(t){if(this._scheduledEvents.hasOwnProperty(t)){var e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this},t.Transport.prototype._addEvent=function(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id},t.Transport.prototype.cancel=function(e){return e=t.defaultArg(e,0),e=this.toTicks(e),this._timeline.cancel(e),this._repeatedEvents.cancel(e),this},t.Transport.prototype._bindClockEvents=function(){this._clock.on("start",function(e,n){n=t.Time(this._clock.ticks,"i").toSeconds(),this.emit("start",e,n)}.bind(this)),this._clock.on("stop",function(t){this.emit("stop",t)}.bind(this)),this._clock.on("pause",function(t){this.emit("pause",t)}.bind(this))},Object.defineProperty(t.Transport.prototype,"state",{get:function(){return this._clock.getStateAtTime(this.now())}}),t.Transport.prototype.start=function(e,n){return t.isUndef(n)||(n=this.toTicks(n)),this._clock.start(e,n),this},t.Transport.prototype.stop=function(t){return this._clock.stop(t),this},t.Transport.prototype.pause=function(t){return this._clock.pause(t),this},t.Transport.prototype.toggle=function(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!==t.State.Started?this.start(e):this.stop(e),this},Object.defineProperty(t.Transport.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(e){t.isArray(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}}),Object.defineProperty(t.Transport.prototype,"loopStart",{get:function(){return t.TransportTime(this._loopStart,"i").toSeconds()},set:function(t){this._loopStart=this.toTicks(t)}}),Object.defineProperty(t.Transport.prototype,"loopEnd",{get:function(){return t.TransportTime(this._loopEnd,"i").toSeconds()},set:function(t){this._loopEnd=this.toTicks(t)}}),t.Transport.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(t.Transport.prototype,"swing",{get:function(){return this._swingAmount},set:function(t){this._swingAmount=t}}),Object.defineProperty(t.Transport.prototype,"swingSubdivision",{get:function(){return t.Time(this._swingTicks,"i").toNotation()},set:function(t){this._swingTicks=this.toTicks(t)}}),Object.defineProperty(t.Transport.prototype,"position",{get:function(){return t.TransportTime(this.ticks,"i").toBarsBeatsSixteenths()},set:function(t){var e=this.toTicks(t);this.ticks=e}}),Object.defineProperty(t.Transport.prototype,"seconds",{get:function(){return t.TransportTime(this.ticks,"i").toSeconds()},set:function(t){var e=this.toTicks(t);this.ticks=e}}),Object.defineProperty(t.Transport.prototype,"progress",{get:function(){return this.loop?(this.ticks-this._loopStart)/(this._loopEnd-this._loopStart):0}}),Object.defineProperty(t.Transport.prototype,"ticks",{get:function(){return this._clock.ticks},set:function(e){if(this._clock.ticks!==e){var n=this.now();this.state===t.State.Started?(this.emit("stop",n),this._clock.ticks=e,this.emit("start",n,this.seconds)):this._clock.ticks=e}}}),Object.defineProperty(t.Transport.prototype,"PPQ",{get:function(){return this._ppq},set:function(t){var e=this.bpm.value;this._ppq=t,this.bpm.value=e}}),t.Transport.prototype._fromUnits=function(t){return 1/(60/t/this.PPQ)},t.Transport.prototype._toUnits=function(t){return t/this.PPQ*60},t.Transport.prototype.nextSubdivision=function(e){e=this.toSeconds(e);var n;if(this.state!==t.State.Started)return 0;n=this._clock._nextTick;var i=t.Time(this.ticks,"i"),r=e-i%e;return 0===r&&(r=e),n+r},t.Transport.prototype.syncSignal=function(e,n){n||(n=0!==e._param.value?e._param.value/this.bpm._param.value:0);var i=new t.Gain(n);return this.bpm.chain(i,e._param),this._syncedSignals.push({ratio:i,signal:e,initial:e._param.value}),e._param.value=0,this},t.Transport.prototype.unsyncSignal=function(t){for(var e=this._syncedSignals.length-1;e>=0;e--){var n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal._param.value=n.initial,this._syncedSignals.splice(e,1))}return this},t.Transport.prototype.dispose=function(){return t.Emitter.prototype.dispose.call(this),this._clock.dispose(),this._clock=null,this._writable("bpm"),this.bpm=null,this._timeline.dispose(),this._timeline=null,this._repeatedEvents.dispose(),this._repeatedEvents=null,this};var e=t.Transport;return t.Transport=new e,t.Context.on("init",function(n){t.Transport=n.Transport instanceof e?n.Transport:new e,n.Transport=t.Transport}),t.Context.on("close",function(t){t.Transport instanceof e&&t.Transport.dispose()}),t.Transport}),e(function(t){return t.Volume=function(){var e=t.defaults(arguments,["volume"],t.Volume);t.AudioNode.call(this),this.output=this.input=new t.Gain(e.volume,t.Type.Decibels),this._unmutedVolume=e.volume,this.volume=this.output.gain,this._readOnly("volume"),this.mute=e.mute},t.extend(t.Volume,t.AudioNode),t.Volume.defaults={volume:0,mute:!1},Object.defineProperty(t.Volume.prototype,"mute",{get:function(){return this.volume.value===-(1/0)},set:function(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-(1/0)):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}}),t.Volume.prototype.dispose=function(){return this.input.dispose(),t.AudioNode.prototype.dispose.call(this),this._writable("volume"),this.volume.dispose(),this.volume=null,this},t.Volume}),e(function(t){t.Master=function(){t.AudioNode.call(this),t.getContext(function(){this.createInsOuts(1,0),this._volume=this.output=new t.Volume,this.volume=this._volume.volume,this._readOnly("volume"),this.input.chain(this.output,this.context.destination)}.bind(this))},t.extend(t.Master,t.AudioNode),t.Master.defaults={volume:0,mute:!1},Object.defineProperty(t.Master.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),t.Master.prototype.chain=function(){this.input.disconnect(),this.input.chain.apply(this.input,arguments),arguments[arguments.length-1].connect(this.output)},t.Master.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null},t.AudioNode.prototype.toMaster=function(){return this.connect(t.Master),this},window.AudioNode&&(AudioNode.prototype.toMaster=function(){return this.connect(t.Master),this});var e=t.Master;return t.Master=new e,t.Context.on("init",function(n){t.Master=n.Master instanceof e?n.Master:new e,n.Master=t.Master}),t.Context.on("close",function(t){t.Master instanceof e&&t.Master.dispose()}),t.Master}),e(function(t){return t.Source=function(e){e=t.defaultArg(e,t.Source.defaults),t.AudioNode.call(this),this._volume=this.output=new t.Volume(e.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._state=new t.TimelineState(t.State.Stopped),this._state.memory=10,this._synced=!1,this._scheduled=[],this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=e.mute},t.extend(t.Source,t.AudioNode),t.Source.defaults={volume:0,mute:!1},Object.defineProperty(t.Source.prototype,"state",{get:function(){return this._synced?t.Transport.state===t.State.Started?this._state.getValueAtTime(t.Transport.seconds):t.State.Stopped:this._state.getValueAtTime(this.now())}}),Object.defineProperty(t.Source.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),t.Source.prototype._start=t.noOp,t.Source.prototype._stop=t.noOp,t.Source.prototype.start=function(e,n,i){if(e=t.isUndef(e)&&this._synced?t.Transport.seconds:this.toSeconds(e),this.retrigger||this._state.getValueAtTime(e)!==t.State.Started||this.stop(e),this._state.setStateAtTime(t.State.Started,e),this._synced){var r=this._state.get(e);r.offset=t.defaultArg(n,0),r.duration=i;var o=t.Transport.schedule(function(t){this._start(t,n,i)}.bind(this),e);this._scheduled.push(o)}else this._start.apply(this,arguments);return this},t.Source.prototype.stop=function(e){if(e=t.isUndef(e)&&this._synced?t.Transport.seconds:this.toSeconds(e),this._state.cancel(e),this._state.setStateAtTime(t.State.Stopped,e),this._synced){var n=t.Transport.schedule(this._stop.bind(this),e);this._scheduled.push(n)}else this._stop.apply(this,arguments);return this},t.Source.prototype.sync=function(){return this._synced=!0,this._syncedStart=function(e,n){if(n>0){var i=this._state.get(n);if(i&&i.state===t.State.Started&&i.time!==n){var r,o=n-this.toSeconds(i.time);i.duration&&(r=this.toSeconds(i.duration)-o),this._start(e,this.toSeconds(i.offset)+o,r)}}}.bind(this),this._syncedStop=function(e){this._state.getValueAtTime(t.Transport.seconds)===t.State.Started&&this._stop(e)}.bind(this),t.Transport.on("start loopStart",this._syncedStart),t.Transport.on("stop pause loopEnd",this._syncedStop),this},t.Source.prototype.unsync=function(){this._synced&&(t.Transport.off("stop pause loopEnd",this._syncedStop),t.Transport.off("start loopStart",this._syncedStart)),this._synced=!1;for(var e=0;e<this._scheduled.length;e++){var n=this._scheduled[e];t.Transport.clear(n)}return this._scheduled=[],this._state.cancel(0),this},t.Source.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this),this.unsync(),this._scheduled=null,this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this._state.dispose(),this._state=null},t.Source}),e(function(t){return window.OscillatorNode&&!OscillatorNode.prototype.start&&(OscillatorNode.prototype.start=OscillatorNode.prototype.noteOn,OscillatorNode.prototype.stop=OscillatorNode.prototype.noteOff,OscillatorNode.prototype.setPeriodicWave||(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),AudioContext.prototype.createPeriodicWave||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable)),t.Oscillator=function(){var e=t.defaults(arguments,["frequency","type"],t.Oscillator);t.Source.call(this,e),this._oscillator=null,this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this._wave=null,this._partials=t.defaultArg(e.partials,[1]),this._phase=e.phase,this._type=null,this.type=e.type,this.phase=this._phase,this._readOnly(["frequency","detune"])},t.extend(t.Oscillator,t.Source),t.Oscillator.defaults={type:"sine",frequency:440,detune:0,phase:0,partials:[]},t.Oscillator.Type={Sine:"sine",Triangle:"triangle",Sawtooth:"sawtooth",Square:"square",Custom:"custom"},t.Oscillator.prototype._start=function(e){this._oscillator=this.context.createOscillator(),this._oscillator.setPeriodicWave(this._wave),this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),e=this.toSeconds(e),t.isPast(e),this._oscillator.start(e)},t.Oscillator.prototype._stop=function(e){return this._oscillator&&(e=this.toSeconds(e),t.isPast(e),this._oscillator.stop(e),this._oscillator=null),this},t.Oscillator.prototype.syncFrequency=function(){return t.Transport.syncSignal(this.frequency),this},t.Oscillator.prototype.unsyncFrequency=function(){return t.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(t.Oscillator.prototype,"type",{get:function(){return this._type},set:function(t){var e=this._getRealImaginary(t,this._phase),n=this.context.createPeriodicWave(e[0],e[1]);this._wave=n,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),this._type=t}}),t.Oscillator.prototype._getRealImaginary=function(e,n){var i=4096,r=i/2,o=new Float32Array(r),s=new Float32Array(r),a=1;if(e===t.Oscillator.Type.Custom)a=this._partials.length+1,r=a;else{var l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l&&(a=parseInt(l[2])+1,e=l[1],a=Math.max(a,2),r=a)}for(var u=1;r>u;++u){var h,c=2/(u*Math.PI);switch(e){case t.Oscillator.Type.Sine:h=a>=u?1:0;break;case t.Oscillator.Type.Square:h=1&u?2*c:0;break;case t.Oscillator.Type.Sawtooth:h=c*(1&u?1:-1);break;case t.Oscillator.Type.Triangle:h=1&u?2*c*c*(u-1>>1&1?-1:1):0;break;case t.Oscillator.Type.Custom:h=this._partials[u-1];break;default:throw new TypeError("Tone.Oscillator: invalid type: "+e)}0!==h?(o[u]=-h*Math.sin(n*u),s[u]=h*Math.cos(n*u)):(o[u]=0,s[u]=0)}return[o,s]},t.Oscillator.prototype._inverseFFT=function(t,e,n){for(var i=0,r=t.length,o=0;r>o;o++)i+=t[o]*Math.cos(o*n)+e[o]*Math.sin(o*n);return i},t.Oscillator.prototype._getInitialValue=function(){for(var t=this._getRealImaginary(this._type,0),e=t[0],n=t[1],i=0,r=2*Math.PI,o=0;8>o;o++)i=Math.max(this._inverseFFT(e,n,o/8*r),i);return-this._inverseFFT(e,n,this._phase)/i},Object.defineProperty(t.Oscillator.prototype,"partials",{get:function(){return this._type!==t.Oscillator.Type.Custom?[]:this._partials},set:function(e){this._partials=e,this.type=t.Oscillator.Type.Custom}}),Object.defineProperty(t.Oscillator.prototype,"phase",{get:function(){return this._phase*(180/Math.PI)},set:function(t){this._phase=t*Math.PI/180,this.type=this._type}}),t.Oscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),null!==this._oscillator&&(this._oscillator.disconnect(),this._oscillator=null),this._wave=null,this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._partials=null,this},t.Oscillator}),e(function(t){return t.Zero=function(){t.SignalBase.call(this),this._gain=this.input=this.output=new t.Gain,this.context.getConstant(0).connect(this._gain)},t.extend(t.Zero,t.SignalBase),t.Zero.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._gain.dispose(),this._gain=null,this},t.Zero}),e(function(t){return t.LFO=function(){var e=t.defaults(arguments,["frequency","min","max"],t.LFO);t.AudioNode.call(this),this._oscillator=new t.Oscillator({frequency:e.frequency,type:e.type}),this.frequency=this._oscillator.frequency,this.amplitude=this._oscillator.volume,this.amplitude.units=t.Type.NormalRange,this.amplitude.value=e.amplitude,this._stoppedSignal=new t.Signal(0,t.Type.AudioRange),this._zeros=new t.Zero,this._stoppedValue=0,this._a2g=new t.AudioToGain,this._scaler=this.output=new t.Scale(e.min,e.max),this._units=t.Type.Default,this.units=e.units,this._oscillator.chain(this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),this._readOnly(["amplitude","frequency"]),this.phase=e.phase},t.extend(t.LFO,t.AudioNode),t.LFO.defaults={type:"sine",min:0,max:1,phase:0,frequency:"4n",amplitude:1,units:t.Type.Default},t.LFO.prototype.start=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this},t.LFO.prototype.stop=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this},t.LFO.prototype.sync=function(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this},t.LFO.prototype.unsync=function(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this},Object.defineProperty(t.LFO.prototype,"min",{get:function(){return this._toUnits(this._scaler.min)},set:function(t){t=this._fromUnits(t),this._scaler.min=t}}),Object.defineProperty(t.LFO.prototype,"max",{get:function(){return this._toUnits(this._scaler.max)},set:function(t){t=this._fromUnits(t),this._scaler.max=t}}),Object.defineProperty(t.LFO.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(t.LFO.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(t.LFO.prototype,"units",{get:function(){return this._units},set:function(t){var e=this.min,n=this.max;this._units=t,this.min=e,this.max=n}}),Object.defineProperty(t.LFO.prototype,"mute",{get:function(){return this._oscillator.mute},set:function(t){this._oscillator.mute=t}}),Object.defineProperty(t.LFO.prototype,"state",{get:function(){return this._oscillator.state}}),t.LFO.prototype.connect=function(e){return(e.constructor===t.Signal||e.constructor===t.Param||e.constructor===t.TimelineSignal)&&(this.convert=e.convert,this.units=e.units),t.Signal.prototype.connect.apply(this,arguments),this},t.LFO.prototype._fromUnits=t.Param.prototype._fromUnits,t.LFO.prototype._toUnits=t.Param.prototype._toUnits,t.LFO.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["amplitude","frequency"]),this._oscillator.dispose(),this._oscillator=null,this._stoppedSignal.dispose(),this._stoppedSignal=null,this._zeros.dispose(),this._zeros=null,this._scaler.dispose(),this._scaler=null,this._a2g.dispose(),this._a2g=null,this.frequency=null,this.amplitude=null,this},t.LFO}),e(function(t){return t.Limiter=function(){var e=t.defaults(arguments,["threshold"],t.Limiter);t.AudioNode.call(this),this._compressor=this.input=this.output=new t.Compressor({attack:.001,decay:.001,threshold:e.threshold}),this.threshold=this._compressor.threshold,this._readOnly("threshold")},t.extend(t.Limiter,t.AudioNode),t.Limiter.defaults={threshold:-12},t.Limiter.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._compressor.dispose(),this._compressor=null,this._writable("threshold"),this.threshold=null,this},t.Limiter}),e(function(t){return t.LowpassCombFilter=function(){var e=t.defaults(arguments,["delayTime","resonance","dampening"],t.LowpassCombFilter);t.AudioNode.call(this),this.createInsOuts(1,1),this._delay=this.input=new t.Delay(e.delayTime),this.delayTime=this._delay.delayTime,this._lowpass=this.output=this.context.createBiquadFilter(),this._lowpass.Q.value=-3.0102999566398125,this._lowpass.type="lowpass",this.dampening=new t.Param({param:this._lowpass.frequency,units:t.Type.Frequency,value:e.dampening}),this._feedback=new t.Gain(e.resonance,t.Type.NormalRange),this.resonance=this._feedback.gain,this._delay.chain(this._lowpass,this._feedback,this._delay),this._readOnly(["dampening","resonance","delayTime"])},t.extend(t.LowpassCombFilter,t.AudioNode),t.LowpassCombFilter.defaults={delayTime:.1,resonance:.5,dampening:3e3},t.LowpassCombFilter.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["dampening","resonance","delayTime"]),this.dampening.dispose(),this.dampening=null,this.resonance.dispose(),this.resonance=null,this._delay.dispose(),this._delay=null,this.delayTime=null,this._lowpass.disconnect(),this._lowpass=null,this._feedback.disconnect(),this._feedback=null,this},t.LowpassCombFilter}),e(function(t){return t.Merge=function(){t.AudioNode.call(this),this.createInsOuts(2,0),this.left=this.input[0]=new t.Gain,this.right=this.input[1]=new t.Gain,this._merger=this.output=this.context.createChannelMerger(2),this.left.connect(this._merger,0,0),this.right.connect(this._merger,0,1),this.left.channelCount=1,this.right.channelCount=1,this.left.channelCountMode="explicit",this.right.channelCountMode="explicit"},t.extend(t.Merge,t.AudioNode),t.Merge.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this.left.dispose(),this.left=null,this.right.dispose(),this.right=null,this._merger.disconnect(),this._merger=null,this},t.Merge}),e(function(t){return t.Meter=function(){var e=t.defaults(arguments,["smoothing"],t.Meter);t.AudioNode.call(this),this.input=this.output=this._analyser=new t.Analyser("waveform",1024),this.smoothing=e.smoothing},t.extend(t.Meter,t.AudioNode),t.Meter.defaults={smoothing:.8},t.Meter.prototype.getLevel=function(){this._analyser.type="fft";var t=this._analyser.getValue(),e=28;return Math.max.apply(this,t)+e},t.Meter.prototype.getValue=function(){this._analyser.type="waveform";var t=this._analyser.getValue();return t[0]},Object.defineProperty(t.Meter.prototype,"smoothing",{get:function(){return this._analyser.smoothing},set:function(t){this._analyser.smoothing=t}}),t.Meter.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null,this},t.Meter}),e(function(t){return t.Split=function(){t.AudioNode.call(this),this.createInsOuts(0,2),this._splitter=this.input=this.context.createChannelSplitter(2),this._splitter.channelCount=2,this._splitter.channelCountMode="explicit",this.left=this.output[0]=new t.Gain,this.right=this.output[1]=new t.Gain,this._splitter.connect(this.left,0,0),this._splitter.connect(this.right,1,0)},t.extend(t.Split,t.AudioNode),t.Split.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._splitter.disconnect(),this.left.dispose(),this.left=null,this.right.dispose(),this.right=null,this._splitter=null,this},t.Split}),e(function(t){return t.MidSideSplit=function(){t.AudioNode.call(this),this.createInsOuts(0,2),this._split=this.input=new t.Split,this.mid=this.output[0]=new t.Expr("($0 + $1) * $2"),this.side=this.output[1]=new t.Expr("($0 - $1) * $2"),this._split.connect(this.mid,0,0),this._split.connect(this.mid,1,1),this._split.connect(this.side,0,0),this._split.connect(this.side,1,1),this.context.getConstant(Math.SQRT1_2).connect(this.mid,0,2),this.context.getConstant(Math.SQRT1_2).connect(this.side,0,2)},t.extend(t.MidSideSplit,t.AudioNode),t.MidSideSplit.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._split.dispose(),this._split=null,this},t.MidSideSplit}),e(function(t){return t.MidSideMerge=function(){t.AudioNode.call(this),this.createInsOuts(2,0),this.mid=this.input[0]=new t.Gain,this._left=new t.Expr("($0 + $1) * $2"),this.side=this.input[1]=new t.Gain,this._right=new t.Expr("($0 - $1) * $2"),this._merge=this.output=new t.Merge,this.mid.connect(this._left,0,0),this.side.connect(this._left,0,1),this.mid.connect(this._right,0,0),this.side.connect(this._right,0,1),this._left.connect(this._merge,0,0),this._right.connect(this._merge,0,1),this.context.getConstant(Math.SQRT1_2).connect(this._left,0,2),this.context.getConstant(Math.SQRT1_2).connect(this._right,0,2)},t.extend(t.MidSideMerge,t.AudioNode),t.MidSideMerge.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._left.dispose(),this._left=null,this._right.dispose(),this._right=null,this._merge.dispose(),this._merge=null,this},t.MidSideMerge}),e(function(t){return t.MidSideCompressor=function(e){t.AudioNode.call(this),e=t.defaultArg(e,t.MidSideCompressor.defaults),this._midSideSplit=this.input=new t.MidSideSplit,this._midSideMerge=this.output=new t.MidSideMerge,this.mid=new t.Compressor(e.mid),this.side=new t.Compressor(e.side),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),this._readOnly(["mid","side"])},t.extend(t.MidSideCompressor,t.AudioNode),t.MidSideCompressor.defaults={mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}},t.MidSideCompressor.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["mid","side"]),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this},t.MidSideCompressor}),e(function(t){return t.Mono=function(){t.AudioNode.call(this),this.createInsOuts(1,0),this._merge=this.output=new t.Merge,this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1),this.input.gain.value=t.dbToGain(-10)},t.extend(t.Mono),t.Mono.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._merge.dispose(),this._merge=null,this},t.Mono}),e(function(t){return t.MultibandCompressor=function(e){t.AudioNode.call(this),e=t.defaultArg(arguments,t.MultibandCompressor.defaults),this._splitter=this.input=new t.MultibandSplit({lowFrequency:e.lowFrequency,highFrequency:e.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new t.Gain,this.low=new t.Compressor(e.low),this.mid=new t.Compressor(e.mid),this.high=new t.Compressor(e.high),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},t.extend(t.MultibandCompressor,t.AudioNode),t.MultibandCompressor.defaults={low:t.Compressor.defaults,mid:t.Compressor.defaults,high:t.Compressor.defaults,lowFrequency:250,highFrequency:2e3},t.MultibandCompressor.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._splitter.dispose(),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this._splitter=null,this.low=null,this.mid=null,this.high=null,this.lowFrequency=null,this.highFrequency=null,this},t.MultibandCompressor}),e(function(t){return t.Panner=function(e){t.AudioNode.call(this),t.Panner.hasStereoPanner?(this._panner=this.input=this.output=this.context.createStereoPanner(),this.pan=this._panner.pan):(this._crossFade=new t.CrossFade,this._merger=this.output=new t.Merge,this._splitter=this.input=new t.Split,this.pan=new t.Signal(0,t.Type.AudioRange),this._zero=new t.Zero,this._a2g=new t.AudioToGain,this._zero.connect(this._a2g),this.pan.chain(this._a2g,this._crossFade.fade),this._splitter.connect(this._crossFade,0,0),this._splitter.connect(this._crossFade,1,1),this._crossFade.a.connect(this._merger,0,0),this._crossFade.b.connect(this._merger,0,1)),this.pan.value=t.defaultArg(e,0),this._readOnly("pan")},t.extend(t.Panner,t.AudioNode),t.Panner.hasStereoPanner=t.context&&t.isFunction(t.context.createStereoPanner),t.Panner.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable("pan"),t.Panner.hasStereoPanner?(this._panner.disconnect(),this._panner=null,this.pan=null):(this._zero.dispose(),this._zero=null,this._crossFade.dispose(),this._crossFade=null,this._splitter.dispose(),this._splitter=null,this._merger.dispose(),this._merger=null,this.pan.dispose(),this.pan=null,this._a2g.dispose(),this._a2g=null),this},t.Panner}),e(function(t){return t.Panner3D=function(){var e=t.defaults(arguments,["positionX","positionY","positionZ"],t.Panner3D);t.AudioNode.call(this),this._panner=this.input=this.output=this.context.createPanner(),this._panner.panningModel=e.panningModel,this._panner.maxDistance=e.maxDistance,this._panner.distanceModel=e.distanceModel,this._panner.coneOuterGain=e.coneOuterGain,this._panner.coneOuterAngle=e.coneOuterAngle,this._panner.coneInnerAngle=e.coneInnerAngle,this._panner.refDistance=e.refDistance,this._panner.rolloffFactor=e.rolloffFactor,this._orientation=[e.orientationX,e.orientationY,e.orientationZ],this._position=[e.positionX,e.positionY,e.positionZ],this.orientationX=e.orientationX,this.orientationY=e.orientationY,this.orientationZ=e.orientationZ,this.positionX=e.positionX,this.positionY=e.positionY,this.positionZ=e.positionZ},t.extend(t.Panner3D,t.AudioNode),t.Panner3D.defaults={positionX:0,positionY:0,positionZ:0,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",maxDistance:1e4,distanceModel:"inverse",coneOuterGain:0,coneOuterAngle:360,coneInnerAngle:360,refDistance:1,rolloffFactor:1},t.Panner3D.prototype._rampTimeConstant=.01,t.Panner3D.prototype.setPosition=function(t,e,n){if(this._panner.positionX){var i=this.now();this._panner.positionX.setTargetAtTime(t,i,this._rampTimeConstant),this._panner.positionY.setTargetAtTime(e,i,this._rampTimeConstant),this._panner.positionZ.setTargetAtTime(n,i,this._rampTimeConstant)}else this._panner.setPosition(t,e,n);return this._position=Array.prototype.slice.call(arguments),this},t.Panner3D.prototype.setOrientation=function(t,e,n){if(this._panner.orientationX){var i=this.now();this._panner.orientationX.setTargetAtTime(t,i,this._rampTimeConstant),this._panner.orientationY.setTargetAtTime(e,i,this._rampTimeConstant),this._panner.orientationZ.setTargetAtTime(n,i,this._rampTimeConstant)}else this._panner.setOrientation(t,e,n);return this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(t.Panner3D.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(t.Panner3D.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(t.Panner3D.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(t.Panner3D.prototype,"orientationX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(t.Panner3D.prototype,"orientationY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation);

},get:function(){return this._orientation[1]}}),Object.defineProperty(t.Panner3D.prototype,"orientationZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),t.Panner3D._aliasProperty=function(e){Object.defineProperty(t.Panner3D.prototype,e,{set:function(t){this._panner[e]=t},get:function(){return this._panner[e]}})},t.Panner3D._aliasProperty("panningModel"),t.Panner3D._aliasProperty("refDistance"),t.Panner3D._aliasProperty("rolloffFactor"),t.Panner3D._aliasProperty("distanceModel"),t.Panner3D._aliasProperty("coneInnerAngle"),t.Panner3D._aliasProperty("coneOuterAngle"),t.Panner3D._aliasProperty("coneOuterGain"),t.Panner3D._aliasProperty("maxDistance"),t.Panner3D.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._panner.disconnect(),this._panner=null,this._orientation=null,this._position=null,this},t.Panner3D}),e(function(t){return t.PanVol=function(){var e=t.defaults(arguments,["pan","volume"],t.PanVol);t.AudioNode.call(this),this._panner=this.input=new t.Panner(e.pan),this.pan=this._panner.pan,this._volume=this.output=new t.Volume(e.volume),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,this._readOnly(["pan","volume"])},t.extend(t.PanVol,t.AudioNode),t.PanVol.defaults={pan:0,volume:0,mute:!1},Object.defineProperty(t.PanVol.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),t.PanVol.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panner.dispose(),this._panner=null,this.pan=null,this._volume.dispose(),this._volume=null,this.volume=null,this},t.PanVol}),e(function(t){return t.Solo=function(){var e=t.defaults(arguments,["solo"],t.Solo);t.AudioNode.call(this),this.input=this.output=new t.Gain,this._soloBind=this._soloed.bind(this),this.context.on("solo",this._soloBind),this.solo=e.solo},t.extend(t.Solo,t.AudioNode),t.Solo.defaults={solo:!1},Object.defineProperty(t.Solo.prototype,"solo",{get:function(){return this._isSoloed()},set:function(t){t?this._addSolo():this._removeSolo(),this.context.emit("solo",this)}}),Object.defineProperty(t.Solo.prototype,"muted",{get:function(){return 0===this.input.gain.value}}),t.Solo.prototype._addSolo=function(){t.isArray(this.context._currentSolo)||(this.context._currentSolo=[]),this._isSoloed()||this.context._currentSolo.push(this)},t.Solo.prototype._removeSolo=function(){if(this._isSoloed()){var t=this.context._currentSolo.indexOf(this);this.context._currentSolo.splice(t,1)}},t.Solo.prototype._isSoloed=function(){return t.isArray(this.context._currentSolo)?0!==this.context._currentSolo.length&&-1!==this.context._currentSolo.indexOf(this):!1},t.Solo.prototype._noSolos=function(){return!t.isArray(this.context._currentSolo)||0===this.context._currentSolo.length},t.Solo.prototype._soloed=function(){this.input.gain.value=this._isSoloed()?1:this._noSolos()?1:0},t.Solo.prototype.dispose=function(){return this.context.off("solo",this._soloBind),this._removeSolo(),this._soloBind=null,t.AudioNode.prototype.dispose.call(this),this},t.Solo}),e(function(t){return t.Waveform=function(){var e=t.defaults(arguments,["size"],t.Waveform);e.type=t.Analyser.Type.Waveform,t.AudioNode.call(this),this._analyser=this.input=this.output=new t.Analyser(e)},t.extend(t.Waveform,t.AudioNode),t.Waveform.defaults={size:1024},t.Waveform.prototype.getValue=function(){return this._analyser.getValue()},Object.defineProperty(t.Waveform.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}}),t.Waveform.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null},t.Waveform}),e(function(t){return t.CtrlInterpolate=function(){var e=t.defaults(arguments,["values","index"],t.CtrlInterpolate);t.call(this),this.values=e.values,this.index=e.index},t.extend(t.CtrlInterpolate),t.CtrlInterpolate.defaults={index:0,values:[]},Object.defineProperty(t.CtrlInterpolate.prototype,"value",{get:function(){var t=this.index;t=Math.min(t,this.values.length-1);var e=Math.floor(t),n=this.values[e],i=this.values[Math.ceil(t)];return this._interpolate(t-e,n,i)}}),t.CtrlInterpolate.prototype._interpolate=function(e,n,i){if(t.isArray(n)){for(var r=[],o=0;o<n.length;o++)r[o]=this._interpolate(e,n[o],i[o]);return r}if(t.isObject(n)){var s={};for(var a in n)s[a]=this._interpolate(e,n[a],i[a]);return s}return n=this._toNumber(n),i=this._toNumber(i),(1-e)*n+e*i},t.CtrlInterpolate.prototype._toNumber=function(e){return t.isNumber(e)?e:this.toSeconds(e)},t.CtrlInterpolate.prototype.dispose=function(){this.values=null},t.CtrlInterpolate}),e(function(t){return t.CtrlMarkov=function(e,n){t.call(this),this.values=t.defaultArg(e,{}),this.value=t.defaultArg(n,Object.keys(this.values)[0])},t.extend(t.CtrlMarkov),t.CtrlMarkov.prototype.next=function(){if(this.values.hasOwnProperty(this.value)){var e=this.values[this.value];if(t.isArray(e))for(var n=this._getProbDistribution(e),i=Math.random(),r=0,o=0;o<n.length;o++){var s=n[o];if(i>r&&r+s>i){var a=e[o];this.value=t.isObject(a)?a.value:a}r+=s}else this.value=e}return this.value},t.CtrlMarkov.prototype._getProbDistribution=function(e){for(var n=[],i=0,r=!1,o=0;o<e.length;o++){var s=e[o];t.isObject(s)?(r=!0,n[o]=s.probability):n[o]=1/e.length,i+=n[o]}if(r)for(var a=0;a<n.length;a++)n[a]=n[a]/i;return n},t.CtrlMarkov.prototype.dispose=function(){this.values=null},t.CtrlMarkov}),e(function(t){return t.CtrlPattern=function(){var e=t.defaults(arguments,["values","type"],t.CtrlPattern);t.call(this),this.values=e.values,this.index=0,this._type=null,this._shuffled=null,this._direction=null,this.type=e.type},t.extend(t.CtrlPattern),t.CtrlPattern.Type={Up:"up",Down:"down",UpDown:"upDown",DownUp:"downUp",AlternateUp:"alternateUp",AlternateDown:"alternateDown",Random:"random",RandomWalk:"randomWalk",RandomOnce:"randomOnce"},t.CtrlPattern.defaults={type:t.CtrlPattern.Type.Up,values:[]},Object.defineProperty(t.CtrlPattern.prototype,"value",{get:function(){if(0!==this.values.length){if(1===this.values.length)return this.values[0];this.index=Math.min(this.index,this.values.length-1);var e=this.values[this.index];return this.type===t.CtrlPattern.Type.RandomOnce&&(this.values.length!==this._shuffled.length&&this._shuffleValues(),e=this.values[this._shuffled[this.index]]),e}}}),Object.defineProperty(t.CtrlPattern.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e,this._shuffled=null,this._type===t.CtrlPattern.Type.Up||this._type===t.CtrlPattern.Type.UpDown||this._type===t.CtrlPattern.Type.RandomOnce||this._type===t.CtrlPattern.Type.AlternateUp?this.index=0:(this._type===t.CtrlPattern.Type.Down||this._type===t.CtrlPattern.Type.DownUp||this._type===t.CtrlPattern.Type.AlternateDown)&&(this.index=this.values.length-1),this._type===t.CtrlPattern.Type.UpDown||this._type===t.CtrlPattern.Type.AlternateUp?this._direction=t.CtrlPattern.Type.Up:(this._type===t.CtrlPattern.Type.DownUp||this._type===t.CtrlPattern.Type.AlternateDown)&&(this._direction=t.CtrlPattern.Type.Down),this._type===t.CtrlPattern.Type.RandomOnce?this._shuffleValues():this._type===t.CtrlPattern.Random&&(this.index=Math.floor(Math.random()*this.values.length))}}),t.CtrlPattern.prototype.next=function(){var e=this.type;return e===t.CtrlPattern.Type.Up?(this.index++,this.index>=this.values.length&&(this.index=0)):e===t.CtrlPattern.Type.Down?(this.index--,this.index<0&&(this.index=this.values.length-1)):e===t.CtrlPattern.Type.UpDown||e===t.CtrlPattern.Type.DownUp?(this._direction===t.CtrlPattern.Type.Up?this.index++:this.index--,this.index<0?(this.index=1,this._direction=t.CtrlPattern.Type.Up):this.index>=this.values.length&&(this.index=this.values.length-2,this._direction=t.CtrlPattern.Type.Down)):e===t.CtrlPattern.Type.Random?this.index=Math.floor(Math.random()*this.values.length):e===t.CtrlPattern.Type.RandomWalk?Math.random()<.5?(this.index--,this.index=Math.max(this.index,0)):(this.index++,this.index=Math.min(this.index,this.values.length-1)):e===t.CtrlPattern.Type.RandomOnce?(this.index++,this.index>=this.values.length&&(this.index=0,this._shuffleValues())):e===t.CtrlPattern.Type.AlternateUp?(this._direction===t.CtrlPattern.Type.Up?(this.index+=2,this._direction=t.CtrlPattern.Type.Down):(this.index-=1,this._direction=t.CtrlPattern.Type.Up),this.index>=this.values.length&&(this.index=0,this._direction=t.CtrlPattern.Type.Up)):e===t.CtrlPattern.Type.AlternateDown&&(this._direction===t.CtrlPattern.Type.Up?(this.index+=1,this._direction=t.CtrlPattern.Type.Down):(this.index-=2,this._direction=t.CtrlPattern.Type.Up),this.index<0&&(this.index=this.values.length-1,this._direction=t.CtrlPattern.Type.Down)),this.value},t.CtrlPattern.prototype._shuffleValues=function(){var t=[];this._shuffled=[];for(var e=0;e<this.values.length;e++)t[e]=e;for(;t.length>0;){var n=t.splice(Math.floor(t.length*Math.random()),1);this._shuffled.push(n[0])}},t.CtrlPattern.prototype.dispose=function(){this._shuffled=null,this.values=null},t.CtrlPattern}),e(function(t){return t.CtrlRandom=function(){var e=t.defaults(arguments,["min","max"],t.CtrlRandom);t.call(this),this.min=e.min,this.max=e.max,this.integer=e.integer},t.extend(t.CtrlRandom),t.CtrlRandom.defaults={min:0,max:1,integer:!1},Object.defineProperty(t.CtrlRandom.prototype,"value",{get:function(){var t=this.toSeconds(this.min),e=this.toSeconds(this.max),n=Math.random(),i=n*t+(1-n)*e;return this.integer&&(i=Math.floor(i)),i}}),t.CtrlRandom}),e(function(t){return window.AudioBuffer&&!AudioBuffer.prototype.copyToChannel&&(AudioBuffer.prototype.copyToChannel=function(t,e,n){var i=this.getChannelData(e);n=n||0;for(var r=0;r<i.length;r++)i[r+n]=t[r]},AudioBuffer.prototype.copyFromChannel=function(t,e,n){var i=this.getChannelData(e);n=n||0;for(var r=0;r<t.length;r++)t[r]=i[r+n]}),t.Buffer=function(){var e=t.defaults(arguments,["url","onload","onerror"],t.Buffer);t.call(this),this._buffer=null,this._reversed=e.reverse,this._xhr=null,e.url instanceof AudioBuffer||e.url instanceof t.Buffer?(this.set(e.url),e.onload&&e.onload(this)):t.isString(e.url)&&this.load(e.url,e.onload,e.onerror)},t.extend(t.Buffer),t.Buffer.defaults={url:void 0,reverse:!1},t.Buffer.prototype.set=function(e){return this._buffer=e instanceof t.Buffer?e.get():e,this},t.Buffer.prototype.get=function(){return this._buffer},t.Buffer.prototype.load=function(e,n,i){var r=new Promise(function(r,o){this._xhr=t.Buffer.load(e,function(t){this._xhr=null,this.set(t),r(this),n&&n(this)}.bind(this),function(t){this._xhr=null,o(t),i&&i(t)}.bind(this))}.bind(this));return r},t.Buffer.prototype.dispose=function(){return t.prototype.dispose.call(this),this._buffer=null,this._xhr&&(t.Buffer._removeFromDownloadQueue(this._xhr),this._xhr.abort(),this._xhr=null),this},Object.defineProperty(t.Buffer.prototype,"loaded",{get:function(){return this.length>0}}),Object.defineProperty(t.Buffer.prototype,"duration",{get:function(){return this._buffer?this._buffer.duration:0}}),Object.defineProperty(t.Buffer.prototype,"length",{get:function(){return this._buffer?this._buffer.length:0}}),Object.defineProperty(t.Buffer.prototype,"numberOfChannels",{get:function(){return this._buffer?this._buffer.numberOfChannels:0}}),t.Buffer.prototype.fromArray=function(t){var e=t[0].length>0,n=e?t.length:1,i=e?t[0].length:t.length,r=this.context.createBuffer(n,i,this.context.sampleRate);e||1!==n||(t=[t]);for(var o=0;n>o;o++)r.copyToChannel(t[o],o);return this._buffer=r,this},t.Buffer.prototype.toMono=function(e){if(t.isNumber(e))this.fromArray(this.toArray(e));else{for(var n=new Float32Array(this.length),i=this.numberOfChannels,r=0;i>r;r++)for(var o=this.toArray(r),s=0;s<o.length;s++)n[s]+=o[s];n=n.map(function(t){return t/i}),this.fromArray(n)}return this},t.Buffer.prototype.toArray=function(e){if(t.isNumber(e))return this.getChannelData(e);if(1===this.numberOfChannels)return this.toArray(0);for(var n=[],i=0;i<this.numberOfChannels;i++)n[i]=this.getChannelData(i);return n},t.Buffer.prototype.getChannelData=function(t){return this._buffer.getChannelData(t)},t.Buffer.prototype.slice=function(e,n){n=t.defaultArg(n,this.duration);for(var i=Math.floor(this.context.sampleRate*this.toSeconds(e)),r=Math.floor(this.context.sampleRate*this.toSeconds(n)),o=[],s=0;s<this.numberOfChannels;s++)o[s]=this.toArray(s).slice(i,r);var a=(new t.Buffer).fromArray(o);return a},t.Buffer.prototype._reverse=function(){if(this.loaded)for(var t=0;t<this.numberOfChannels;t++)Array.prototype.reverse.call(this.getChannelData(t));return this},Object.defineProperty(t.Buffer.prototype,"reverse",{get:function(){return this._reversed},set:function(t){this._reversed!==t&&(this._reversed=t,this._reverse())}}),t.Emitter.mixin(t.Buffer),t.Buffer._downloadQueue=[],t.Buffer.baseUrl="",t.Buffer.fromArray=function(e){return(new t.Buffer).fromArray(e)},t.Buffer._removeFromDownloadQueue=function(e){var n=t.Buffer._downloadQueue.indexOf(e);-1!==n&&t.Buffer._downloadQueue.splice(n,1)},t.Buffer.load=function(e,n,i){function r(e){if(t.Buffer._removeFromDownloadQueue(h),t.Buffer.emit("error",e),!i)throw e;i(e)}function o(){for(var e=0,n=0;n<t.Buffer._downloadQueue.length;n++)e+=t.Buffer._downloadQueue[n].progress;t.Buffer.emit("progress",e/t.Buffer._downloadQueue.length)}n=t.defaultArg(n,t.noOp);var s=e.match(/\[(.+\|?)+\]$/);if(s){for(var a=s[1].split("|"),l=a[0],u=0;u<a.length;u++)if(t.Buffer.supportsType(a[u])){l=a[u];break}e=e.replace(s[0],l)}var h=new XMLHttpRequest;return h.open("GET",t.Buffer.baseUrl+e,!0),h.responseType="arraybuffer",h.progress=0,t.Buffer._downloadQueue.push(h),h.addEventListener("load",function(){200===h.status?t.context.decodeAudioData(h.response,function(e){h.progress=1,o(),n(e),t.Buffer._removeFromDownloadQueue(h),0===t.Buffer._downloadQueue.length&&t.Buffer.emit("load")},function(){t.Buffer._removeFromDownloadQueue(h),r("Tone.Buffer: could not decode audio data: "+e)}):r("Tone.Buffer: could not locate file: "+e)}),h.addEventListener("error",r),h.addEventListener("progress",function(t){t.lengthComputable&&(h.progress=t.loaded/t.total*.95,o())}),h.send(),h},t.Buffer.cancelDownloads=function(){return t.Buffer._downloadQueue.slice().forEach(function(e){t.Buffer._removeFromDownloadQueue(e),e.abort()}),t.Buffer},t.Buffer.supportsType=function(t){var e=t.split(".");e=e[e.length-1];var n=document.createElement("audio").canPlayType("audio/"+e);return""!==n},t.loaded=function(){function e(){t.Buffer.off("load",n),t.Buffer.off("error",i)}var n,i;return new Promise(function(e,r){n=function(){e()},i=function(){r()},t.Buffer.on("load",n),t.Buffer.on("error",i)}).then(e)["catch"](function(t){throw e(),new Error(t)})},t.Buffer}),e(function(t){return t.Buffers=function(e){var n=Array.prototype.slice.call(arguments);n.shift();var i=t.defaults(n,["onload","baseUrl"],t.Buffers);t.call(this),this._buffers={},this.baseUrl=i.baseUrl,this._loadingCount=0;for(var r in e)this._loadingCount++,this.add(r,e[r],this._bufferLoaded.bind(this,i.onload))},t.extend(t.Buffers),t.Buffers.defaults={onload:t.noOp,baseUrl:""},t.Buffers.prototype.has=function(t){return this._buffers.hasOwnProperty(t)},t.Buffers.prototype.get=function(t){if(this.has(t))return this._buffers[t];throw new Error("Tone.Buffers: no buffer named "+t)},t.Buffers.prototype._bufferLoaded=function(t){this._loadingCount--,0===this._loadingCount&&t&&t(this)},Object.defineProperty(t.Buffers.prototype,"loaded",{get:function(){var t=!0;for(var e in this._buffers){var n=this.get(e);t=t&&n.loaded}return t}}),t.Buffers.prototype.add=function(e,n,i){return i=t.defaultArg(i,t.noOp),n instanceof t.Buffer?(this._buffers[e]=n,i(this)):n instanceof AudioBuffer?(this._buffers[e]=new t.Buffer(n),i(this)):t.isString(n)&&(this._buffers[e]=new t.Buffer(this.baseUrl+n,i)),this},t.Buffers.prototype.dispose=function(){t.prototype.dispose.call(this);for(var e in this._buffers)this._buffers[e].dispose();return this._buffers=null,this},t.Buffers}),e(function(t){var e={};return t.prototype.send=function(n,i){e.hasOwnProperty(n)||(e[n]=this.context.createGain()),i=t.defaultArg(i,0);var r=new t.Gain(i,t.Type.Decibels);return this.output.chain(r,e[n]),r},t.prototype.receive=function(t,n){return e.hasOwnProperty(t)||(e[t]=this.context.createGain()),e[t].connect(this,0,n),this},t.Context.on("init",function(t){t.Buses?e=t.Buses:(e={},t.Buses=e)}),t}),e(function(t){return t.Draw=function(){t.call(this),this._events=new t.Timeline,this.expiration=.25,this.anticipation=.008,this._boundDrawLoop=this._drawLoop.bind(this)},t.extend(t.Draw),t.Draw.prototype.schedule=function(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&requestAnimationFrame(this._boundDrawLoop),this},t.Draw.prototype.cancel=function(t){return this._events.cancel(this.toSeconds(t)),this},t.Draw.prototype._drawLoop=function(){for(var e=t.now();this._events.length&&this._events.peek().time-this.anticipation<=e;){var n=this._events.shift();e-n.time<=this.expiration&&n.callback()}this._events.length>0&&requestAnimationFrame(this._boundDrawLoop)},t.Draw=new t.Draw,t.Draw}),e(function(t){t.Listener=function(){t.call(this),this._orientation=[0,0,0,0,0,0],this._position=[0,0,0],t.getContext(function(){this.set(e.defaults)}.bind(this))},t.extend(t.Listener),t.Listener.defaults={positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:1,upX:0,upY:1,upZ:0},t.Listener.prototype._rampTimeConstant=.01,t.Listener.prototype.setPosition=function(t,e,n){if(this.context.listener.positionX){var i=this.now();this.context.listener.positionX.setTargetAtTime(t,i,this._rampTimeConstant),this.context.listener.positionY.setTargetAtTime(e,i,this._rampTimeConstant),this.context.listener.positionZ.setTargetAtTime(n,i,this._rampTimeConstant)}else this.context.listener.setPosition(t,e,n);return this._position=Array.prototype.slice.call(arguments),this},t.Listener.prototype.setOrientation=function(t,e,n,i,r,o){if(this.context.listener.forwardX){var s=this.now();this.context.listener.forwardX.setTargetAtTime(t,s,this._rampTimeConstant),this.context.listener.forwardY.setTargetAtTime(e,s,this._rampTimeConstant),this.context.listener.forwardZ.setTargetAtTime(n,s,this._rampTimeConstant),this.context.listener.upX.setTargetAtTime(i,s,this._rampTimeConstant),this.context.listener.upY.setTargetAtTime(r,s,this._rampTimeConstant),this.context.listener.upZ.setTargetAtTime(o,s,this._rampTimeConstant)}else this.context.listener.setOrientation(t,e,n,i,r,o);return this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(t.Listener.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(t.Listener.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(t.Listener.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(t.Listener.prototype,"forwardX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(t.Listener.prototype,"forwardY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}}),Object.defineProperty(t.Listener.prototype,"forwardZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),Object.defineProperty(t.Listener.prototype,"upX",{set:function(t){this._orientation[3]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[3]}}),Object.defineProperty(t.Listener.prototype,"upY",{set:function(t){this._orientation[4]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[4]}}),Object.defineProperty(t.Listener.prototype,"upZ",{set:function(t){this._orientation[5]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[5]}}),t.Listener.prototype.dispose=function(){return this._orientation=null,this._position=null,this};var e=t.Listener;return t.Listener=new e,t.Context.on("init",function(n){t.Listener=n.Listener instanceof e?n.Listener:new e,n.Listener=t.Listener}),t.Listener}),e(function(t){return!window.hasOwnProperty("OfflineAudioContext")&&window.hasOwnProperty("webkitOfflineAudioContext")&&(window.OfflineAudioContext=window.webkitOfflineAudioContext),t.OfflineContext=function(e,n,i){var r=new OfflineAudioContext(e,n*i,i);t.Context.call(this,{context:r,clockSource:"offline",lookAhead:0,updateInterval:128/i}),this._duration=n,this._currentTime=0},t.extend(t.OfflineContext,t.Context),t.OfflineContext.prototype.now=function(){return this._currentTime},t.OfflineContext.prototype.render=function(){for(;this._duration-this._currentTime>=0;)this.emit("tick"),this._currentTime+=this.blockTime;return new Promise(function(t){this._context.oncomplete=function(e){t(e.renderedBuffer)},this._context.startRendering()}.bind(this))},t.OfflineContext.prototype.close=function(){this._context=null},t.OfflineContext}),e(function(t){return t.Offline=function(e,n){var i=t.context.sampleRate,r=t.context,o=new t.OfflineContext(2,n,i);t.context=o,e(t.Transport);var s=o.render();return t.context=r,s.then(function(e){return new t.Buffer(e)})},t.Offline}),e(function(t){return t.Effect=function(){var e=t.defaults(arguments,["wet"],t.Effect);t.AudioNode.call(this),this.createInsOuts(1,1),this._dryWet=new t.CrossFade(e.wet),this.wet=this._dryWet.fade,this.effectSend=new t.Gain,this.effectReturn=new t.Gain,this.input.connect(this._dryWet.a),this.input.connect(this.effectSend),this.effectReturn.connect(this._dryWet.b),this._dryWet.connect(this.output),this._readOnly(["wet"])},t.extend(t.Effect,t.AudioNode),t.Effect.defaults={wet:1},t.Effect.prototype.connectEffect=function(t){return this.effectSend.chain(t,this.effectReturn),this},t.Effect.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this.effectSend.dispose(),this.effectSend=null,this.effectReturn.dispose(),this.effectReturn=null,this._writable(["wet"]),this.wet=null,this},t.Effect}),e(function(t){return t.AutoFilter=function(){var e=t.defaults(arguments,["frequency","baseFrequency","octaves"],t.AutoFilter);t.Effect.call(this,e),this._lfo=new t.LFO({frequency:e.frequency,amplitude:e.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.filter=new t.Filter(e.filter),this._octaves=0,this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.type=e.type,this._readOnly(["frequency","depth"]),this.octaves=e.octaves,this.baseFrequency=e.baseFrequency},t.extend(t.AutoFilter,t.Effect),t.AutoFilter.defaults={frequency:1,type:"sine",depth:1,baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}},t.AutoFilter.prototype.start=function(t){return this._lfo.start(t),this},t.AutoFilter.prototype.stop=function(t){return this._lfo.stop(t),this},t.AutoFilter.prototype.sync=function(t){return this._lfo.sync(t),this},t.AutoFilter.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(t.AutoFilter.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),Object.defineProperty(t.AutoFilter.prototype,"baseFrequency",{get:function(){return this._lfo.min},set:function(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(t.AutoFilter.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._lfo.max=this.baseFrequency*Math.pow(2,t)}}),t.AutoFilter.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this.filter.dispose(),this.filter=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null,this},t.AutoFilter}),e(function(t){return t.AutoPanner=function(){var e=t.defaults(arguments,["frequency"],t.AutoPanner);t.Effect.call(this,e),this._lfo=new t.LFO({frequency:e.frequency,amplitude:e.depth,min:-1,max:1}),this.depth=this._lfo.amplitude,this._panner=new t.Panner,this.frequency=this._lfo.frequency,this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this.type=e.type,this._readOnly(["depth","frequency"])},t.extend(t.AutoPanner,t.Effect),t.AutoPanner.defaults={frequency:1,type:"sine",depth:1},t.AutoPanner.prototype.start=function(t){return this._lfo.start(t),this},t.AutoPanner.prototype.stop=function(t){return this._lfo.stop(t),this},t.AutoPanner.prototype.sync=function(t){return this._lfo.sync(t),this},t.AutoPanner.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(t.AutoPanner.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),t.AutoPanner.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this._panner.dispose(),this._panner=null,this._writable(["depth","frequency"]),this.frequency=null,this.depth=null,this},t.AutoPanner}),e(function(t){return t.AutoWah=function(){var e=t.defaults(arguments,["baseFrequency","octaves","sensitivity"],t.AutoWah);t.Effect.call(this,e),this.follower=new t.Follower(e.follower),this._sweepRange=new t.ScaleExp(0,1,.5),this._baseFrequency=e.baseFrequency,this._octaves=e.octaves,this._inputBoost=new t.Gain,this._bandpass=new t.Filter({rolloff:-48,frequency:0,Q:e.Q}),this._peaking=new t.Filter(0,"peaking"),this._peaking.gain.value=e.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this.follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=e.sensitivity,this._readOnly(["gain","Q"])},t.extend(t.AutoWah,t.Effect),t.AutoWah.defaults={baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:{attack:.3,release:.5}},Object.defineProperty(t.AutoWah.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._setSweepRange()}}),Object.defineProperty(t.AutoWah.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._setSweepRange()}}),Object.defineProperty(t.AutoWah.prototype,"sensitivity",{get:function(){return t.gainToDb(1/this._inputBoost.gain.value)},set:function(e){this._inputBoost.gain.value=1/t.dbToGain(e)}}),t.AutoWah.prototype._setSweepRange=function(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)},t.AutoWah.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this.follower.dispose(),this.follower=null,this._sweepRange.dispose(),this._sweepRange=null,this._bandpass.dispose(),this._bandpass=null,this._peaking.dispose(),this._peaking=null,this._inputBoost.dispose(),this._inputBoost=null,this._writable(["gain","Q"]),this.gain=null,this.Q=null,this},t.AutoWah}),e(function(t){return t.BitCrusher=function(){var e=t.defaults(arguments,["bits"],t.BitCrusher);t.Effect.call(this,e);var n=1/Math.pow(2,e.bits-1);this._subtract=new t.Subtract,this._modulo=new t.Modulo(n),this._bits=e.bits,this.effectSend.fan(this._subtract,this._modulo),this._modulo.connect(this._subtract,0,1),this._subtract.connect(this.effectReturn)},t.extend(t.BitCrusher,t.Effect),t.BitCrusher.defaults={bits:4},Object.defineProperty(t.BitCrusher.prototype,"bits",{get:function(){return this._bits},set:function(t){this._bits=t;var e=1/Math.pow(2,t-1);this._modulo.value=e}}),t.BitCrusher.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._subtract.dispose(),this._subtract=null,this._modulo.dispose(),this._modulo=null,this},t.BitCrusher}),e(function(t){return t.Chebyshev=function(){var e=t.defaults(arguments,["order"],t.Chebyshev);t.Effect.call(this,e),this._shaper=new t.WaveShaper(4096),this._order=e.order,this.connectEffect(this._shaper),this.order=e.order,this.oversample=e.oversample},t.extend(t.Chebyshev,t.Effect),t.Chebyshev.defaults={order:1,oversample:"none"},t.Chebyshev.prototype._getCoefficient=function(t,e,n){return n.hasOwnProperty(e)?n[e]:(n[e]=0===e?0:1===e?t:2*t*this._getCoefficient(t,e-1,n)-this._getCoefficient(t,e-2,n),n[e])},Object.defineProperty(t.Chebyshev.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t;for(var e=new Array(4096),n=e.length,i=0;n>i;++i){var r=2*i/n-1;e[i]=0===r?0:this._getCoefficient(r,t,{})}this._shaper.curve=e}}),Object.defineProperty(t.Chebyshev.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),t.Chebyshev.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},t.Chebyshev}),e(function(t){return t.StereoEffect=function(){t.AudioNode.call(this);var e=t.defaults(arguments,["wet"],t.Effect);this.createInsOuts(1,1),this._dryWet=new t.CrossFade(e.wet),this.wet=this._dryWet.fade,this._split=new t.Split,this.effectSendL=this._split.left,this.effectSendR=this._split.right,this._merge=new t.Merge,this.effectReturnL=this._merge.left,this.effectReturnR=this._merge.right,this.input.connect(this._split),this.input.connect(this._dryWet,0,0),this._merge.connect(this._dryWet,0,1),this._dryWet.connect(this.output),this._readOnly(["wet"])},t.extend(t.StereoEffect,t.Effect),t.StereoEffect.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this._split.dispose(),this._split=null,this._merge.dispose(),this._merge=null,this.effectSendL=null,this.effectSendR=null,this.effectReturnL=null,this.effectReturnR=null,this._writable(["wet"]),this.wet=null,this},t.StereoEffect}),e(function(t){return t.FeedbackEffect=function(){var e=t.defaults(arguments,["feedback"],t.FeedbackEffect);t.Effect.call(this,e),this._feedbackGain=new t.Gain(e.feedback,t.Type.NormalRange),this.feedback=this._feedbackGain.gain,this.effectReturn.chain(this._feedbackGain,this.effectSend),this._readOnly(["feedback"])},t.extend(t.FeedbackEffect,t.Effect),t.FeedbackEffect.defaults={feedback:.125},t.FeedbackEffect.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._writable(["feedback"]),this._feedbackGain.dispose(),this._feedbackGain=null,this.feedback=null,this},t.FeedbackEffect}),e(function(t){return t.StereoXFeedbackEffect=function(){var e=t.defaults(arguments,["feedback"],t.FeedbackEffect);t.StereoEffect.call(this,e),this.feedback=new t.Signal(e.feedback,t.Type.NormalRange),this._feedbackLR=new t.Gain,this._feedbackRL=new t.Gain,this.effectReturnL.chain(this._feedbackLR,this.effectSendR),this.effectReturnR.chain(this._feedbackRL,this.effectSendL),this.feedback.fan(this._feedbackLR.gain,this._feedbackRL.gain),this._readOnly(["feedback"])},t.extend(t.StereoXFeedbackEffect,t.StereoEffect),t.StereoXFeedbackEffect.prototype.dispose=function(){return t.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackLR.dispose(),this._feedbackLR=null,this._feedbackRL.dispose(),this._feedbackRL=null,this},t.StereoXFeedbackEffect}),e(function(t){return t.Chorus=function(){var e=t.defaults(arguments,["frequency","delayTime","depth"],t.Chorus);t.StereoXFeedbackEffect.call(this,e),this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new t.LFO({frequency:e.frequency,min:0,max:1}),this._lfoR=new t.LFO({frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new t.Delay,this._delayNodeR=new t.Delay,this.frequency=this._lfoL.frequency,
this.effectSendL.chain(this._delayNodeL,this.effectReturnL),this.effectSendR.chain(this._delayNodeR,this.effectReturnR),this.effectSendL.connect(this.effectReturnL),this.effectSendR.connect(this.effectReturnR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this._lfoL.start(),this._lfoR.start(),this._lfoL.frequency.connect(this._lfoR.frequency),this.depth=this._depth,this.frequency.value=e.frequency,this.type=e.type,this._readOnly(["frequency"]),this.spread=e.spread},t.extend(t.Chorus,t.StereoXFeedbackEffect),t.Chorus.defaults={frequency:1.5,delayTime:3.5,depth:.7,feedback:.1,type:"sine",spread:180},Object.defineProperty(t.Chorus.prototype,"depth",{get:function(){return this._depth},set:function(t){this._depth=t;var e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}}),Object.defineProperty(t.Chorus.prototype,"delayTime",{get:function(){return 1e3*this._delayTime},set:function(t){this._delayTime=t/1e3,this.depth=this._depth}}),Object.defineProperty(t.Chorus.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(t.Chorus.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),t.Chorus.prototype.dispose=function(){return t.StereoXFeedbackEffect.prototype.dispose.call(this),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._delayNodeL.dispose(),this._delayNodeL=null,this._delayNodeR.dispose(),this._delayNodeR=null,this._writable("frequency"),this.frequency=null,this},t.Chorus}),e(function(t){return t.Convolver=function(){var e=t.defaults(arguments,["url","onload"],t.Convolver);t.Effect.call(this,e),this._convolver=this.context.createConvolver(),this._buffer=new t.Buffer,t.isString(e.url)?this._buffer.load(e.url,function(t){this.buffer=t,e.onload()}.bind(this)):e.url&&(this.buffer=e.url,e.onload()),this.connectEffect(this._convolver)},t.extend(t.Convolver,t.Effect),t.Convolver.defaults={onload:t.noOp},Object.defineProperty(t.Convolver.prototype,"buffer",{get:function(){return this._buffer.get()},set:function(t){this._buffer.set(t),this._convolver.buffer=this._buffer.get()}}),t.Convolver.prototype.load=function(t,e){return this._buffer.load(t,function(t){this.buffer=t,e&&e()}.bind(this))},t.Convolver.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._convolver.disconnect(),this._convolver=null,this._buffer.dispose(),this._buffer=null,this},t.Convolver}),e(function(t){return t.Distortion=function(){var e=t.defaults(arguments,["distortion"],t.Distortion);t.Effect.call(this,e),this._shaper=new t.WaveShaper(4096),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample},t.extend(t.Distortion,t.Effect),t.Distortion.defaults={distortion:.4,oversample:"none"},Object.defineProperty(t.Distortion.prototype,"distortion",{get:function(){return this._distortion},set:function(t){this._distortion=t;var e=100*t,n=Math.PI/180;this._shaper.setMap(function(t){return Math.abs(t)<.001?0:(3+e)*t*20*n/(Math.PI+e*Math.abs(t))})}}),Object.defineProperty(t.Distortion.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),t.Distortion.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},t.Distortion}),e(function(t){return t.FeedbackDelay=function(){var e=t.defaults(arguments,["delayTime","feedback"],t.FeedbackDelay);t.FeedbackEffect.call(this,e),this._delayNode=new t.Delay(e.delayTime),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),this._readOnly(["delayTime"])},t.extend(t.FeedbackDelay,t.FeedbackEffect),t.FeedbackDelay.defaults={delayTime:.25},t.FeedbackDelay.prototype.dispose=function(){return t.FeedbackEffect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._writable(["delayTime"]),this.delayTime=null,this},t.FeedbackDelay}),e(function(t){var e=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],n=[225,556,441,341];return t.Freeverb=function(){var i=t.defaults(arguments,["roomSize","dampening"],t.Freeverb);t.StereoEffect.call(this,i),this.roomSize=new t.Signal(i.roomSize,t.Type.NormalRange),this.dampening=new t.Signal(i.dampening,t.Type.Frequency),this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];for(var r=0;r<n.length;r++){var o=this.context.createBiquadFilter();o.type="allpass",o.frequency.value=n[r],this._allpassFiltersL.push(o)}for(var s=0;s<n.length;s++){var a=this.context.createBiquadFilter();a.type="allpass",a.frequency.value=n[s],this._allpassFiltersR.push(a)}for(var l=0;l<e.length;l++){var u=new t.LowpassCombFilter(e[l]);l<e.length/2?this.effectSendL.chain(u,this._allpassFiltersL[0]):this.effectSendR.chain(u,this._allpassFiltersR[0]),this.roomSize.connect(u.resonance),this.dampening.connect(u.dampening),this._combFilters.push(u)}t.connectSeries.apply(t,this._allpassFiltersL),t.connectSeries.apply(t,this._allpassFiltersR),this._allpassFiltersL[this._allpassFiltersL.length-1].connect(this.effectReturnL),this._allpassFiltersR[this._allpassFiltersR.length-1].connect(this.effectReturnR),this._readOnly(["roomSize","dampening"])},t.extend(t.Freeverb,t.StereoEffect),t.Freeverb.defaults={roomSize:.7,dampening:3e3},t.Freeverb.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this);for(var e=0;e<this._allpassFiltersL.length;e++)this._allpassFiltersL[e].disconnect(),this._allpassFiltersL[e]=null;this._allpassFiltersL=null;for(var n=0;n<this._allpassFiltersR.length;n++)this._allpassFiltersR[n].disconnect(),this._allpassFiltersR[n]=null;this._allpassFiltersR=null;for(var i=0;i<this._combFilters.length;i++)this._combFilters[i].dispose(),this._combFilters[i]=null;return this._combFilters=null,this._writable(["roomSize","dampening"]),this.roomSize.dispose(),this.roomSize=null,this.dampening.dispose(),this.dampening=null,this},t.Freeverb}),e(function(t){var e=[.06748,.06404,.08212,.09004],n=[.773,.802,.753,.733],i=[347,113,37];return t.JCReverb=function(){var r=t.defaults(arguments,["roomSize"],t.JCReverb);t.StereoEffect.call(this,r),this.roomSize=new t.Signal(r.roomSize,t.Type.NormalRange),this._scaleRoomSize=new t.Scale(-.733,.197),this._allpassFilters=[],this._feedbackCombFilters=[];for(var o=0;o<i.length;o++){var s=this.context.createBiquadFilter();s.type="allpass",s.frequency.value=i[o],this._allpassFilters.push(s)}for(var a=0;a<e.length;a++){var l=new t.FeedbackCombFilter(e[a],.1);this._scaleRoomSize.connect(l.resonance),l.resonance.value=n[a],this._allpassFilters[this._allpassFilters.length-1].connect(l),l.connect(a<e.length/2?this.effectReturnL:this.effectReturnR),this._feedbackCombFilters.push(l)}this.roomSize.connect(this._scaleRoomSize),t.connectSeries.apply(t,this._allpassFilters),this.effectSendL.connect(this._allpassFilters[0]),this.effectSendR.connect(this._allpassFilters[0]),this._readOnly(["roomSize"])},t.extend(t.JCReverb,t.StereoEffect),t.JCReverb.defaults={roomSize:.5},t.JCReverb.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this);for(var e=0;e<this._allpassFilters.length;e++)this._allpassFilters[e].disconnect(),this._allpassFilters[e]=null;this._allpassFilters=null;for(var n=0;n<this._feedbackCombFilters.length;n++)this._feedbackCombFilters[n].dispose(),this._feedbackCombFilters[n]=null;return this._feedbackCombFilters=null,this._writable(["roomSize"]),this.roomSize.dispose(),this.roomSize=null,this._scaleRoomSize.dispose(),this._scaleRoomSize=null,this},t.JCReverb}),e(function(t){return t.MidSideEffect=function(){t.Effect.apply(this,arguments),this._midSideSplit=new t.MidSideSplit,this._midSideMerge=new t.MidSideMerge,this.midSend=this._midSideSplit.mid,this.sideSend=this._midSideSplit.side,this.midReturn=this._midSideMerge.mid,this.sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)},t.extend(t.MidSideEffect,t.Effect),t.MidSideEffect.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this.midSend=null,this.sideSend=null,this.midReturn=null,this.sideReturn=null,this},t.MidSideEffect}),e(function(t){return t.Phaser=function(){var e=t.defaults(arguments,["frequency","octaves","baseFrequency"],t.Phaser);t.StereoEffect.call(this,e),this._lfoL=new t.LFO(e.frequency,0,1),this._lfoR=new t.LFO(e.frequency,0,1),this._lfoR.phase=180,this._baseFrequency=e.baseFrequency,this._octaves=e.octaves,this.Q=new t.Signal(e.Q,t.Type.Positive),this._filtersL=this._makeFilters(e.stages,this._lfoL,this.Q),this._filtersR=this._makeFilters(e.stages,this._lfoR,this.Q),this.frequency=this._lfoL.frequency,this.frequency.value=e.frequency,this.effectSendL.connect(this._filtersL[0]),this.effectSendR.connect(this._filtersR[0]),this._filtersL[e.stages-1].connect(this.effectReturnL),this._filtersR[e.stages-1].connect(this.effectReturnR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=e.baseFrequency,this.octaves=e.octaves,this._lfoL.start(),this._lfoR.start(),this._readOnly(["frequency","Q"])},t.extend(t.Phaser,t.StereoEffect),t.Phaser.defaults={frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350},t.Phaser.prototype._makeFilters=function(e,n,i){for(var r=new Array(e),o=0;e>o;o++){var s=this.context.createBiquadFilter();s.type="allpass",i.connect(s.Q),n.connect(s.frequency),r[o]=s}return t.connectSeries.apply(t,r),r},Object.defineProperty(t.Phaser.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t;var e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}}),Object.defineProperty(t.Phaser.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._lfoL.min=t,this._lfoR.min=t,this.octaves=this._octaves}}),t.Phaser.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","Q"]),this.Q.dispose(),this.Q=null,this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null;for(var e=0;e<this._filtersL.length;e++)this._filtersL[e].disconnect(),this._filtersL[e]=null;this._filtersL=null;for(var n=0;n<this._filtersR.length;n++)this._filtersR[n].disconnect(),this._filtersR[n]=null;return this._filtersR=null,this.frequency=null,this},t.Phaser}),e(function(t){return t.PingPongDelay=function(){var e=t.defaults(arguments,["delayTime","feedback"],t.PingPongDelay);t.StereoXFeedbackEffect.call(this,e),this._leftDelay=new t.Delay(0,e.maxDelayTime),this._rightDelay=new t.Delay(0,e.maxDelayTime),this._rightPreDelay=new t.Delay(0,e.maxDelayTime),this.delayTime=new t.Signal(e.delayTime,t.Type.Time),this.effectSendL.chain(this._leftDelay,this.effectReturnL),this.effectSendR.chain(this._rightPreDelay,this._rightDelay,this.effectReturnR),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackLR.disconnect(),this._feedbackLR.connect(this._rightDelay),this._readOnly(["delayTime"])},t.extend(t.PingPongDelay,t.StereoXFeedbackEffect),t.PingPongDelay.defaults={delayTime:.25,maxDelayTime:1},t.PingPongDelay.prototype.dispose=function(){return t.StereoXFeedbackEffect.prototype.dispose.call(this),this._leftDelay.dispose(),this._leftDelay=null,this._rightDelay.dispose(),this._rightDelay=null,this._rightPreDelay.dispose(),this._rightPreDelay=null,this._writable(["delayTime"]),this.delayTime.dispose(),this.delayTime=null,this},t.PingPongDelay}),e(function(t){return t.PitchShift=function(){var e=t.defaults(arguments,["pitch"],t.PitchShift);t.FeedbackEffect.call(this,e),this._frequency=new t.Signal(0),this._delayA=new t.Delay(0,1),this._lfoA=new t.LFO({min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new t.Delay(0,1),this._lfoB=new t.LFO({min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new t.CrossFade,this._crossFadeLFO=new t.LFO({min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new t.Delay(e.delayTime),this.delayTime=this._feedbackDelay.delayTime,this._readOnly("delayTime"),this._pitch=e.pitch,this._windowSize=e.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);var n=this.now();this._lfoA.start(n),this._lfoB.start(n),this._crossFadeLFO.start(n),this.windowSize=this._windowSize},t.extend(t.PitchShift,t.FeedbackEffect),t.PitchShift.defaults={pitch:0,windowSize:.1,delayTime:0,feedback:0},Object.defineProperty(t.PitchShift.prototype,"pitch",{get:function(){return this._pitch},set:function(e){this._pitch=e;var n=0;0>e?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,n=t.intervalToFrequencyRatio(e-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,n=t.intervalToFrequencyRatio(e)-1),this._frequency.value=n*(1.2/this._windowSize)}}),Object.defineProperty(t.PitchShift.prototype,"windowSize",{get:function(){return this._windowSize},set:function(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}}),t.PitchShift.prototype.dispose=function(){return t.FeedbackEffect.prototype.dispose.call(this),this._frequency.dispose(),this._frequency=null,this._delayA.disconnect(),this._delayA=null,this._delayB.disconnect(),this._delayB=null,this._lfoA.dispose(),this._lfoA=null,this._lfoB.dispose(),this._lfoB=null,this._crossFade.dispose(),this._crossFade=null,this._crossFadeLFO.dispose(),this._crossFadeLFO=null,this._writable("delayTime"),this._feedbackDelay.dispose(),this._feedbackDelay=null,this.delayTime=null,this},t.PitchShift}),e(function(t){return t.StereoFeedbackEffect=function(){var e=t.defaults(arguments,["feedback"],t.FeedbackEffect);t.StereoEffect.call(this,e),this.feedback=new t.Signal(e.feedback,t.Type.NormalRange),this._feedbackL=new t.Gain,this._feedbackR=new t.Gain,this.effectReturnL.chain(this._feedbackL,this.effectSendL),this.effectReturnR.chain(this._feedbackR,this.effectSendR),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),this._readOnly(["feedback"])},t.extend(t.StereoFeedbackEffect,t.StereoEffect),t.StereoFeedbackEffect.prototype.dispose=function(){return t.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackL.dispose(),this._feedbackL=null,this._feedbackR.dispose(),this._feedbackR=null,this},t.StereoFeedbackEffect}),e(function(t){return t.StereoWidener=function(){var e=t.defaults(arguments,["width"],t.StereoWidener);t.MidSideEffect.call(this,e),this.width=new t.Signal(e.width,t.Type.NormalRange),this._midMult=new t.Expr("$0 * ($1 * (1 - $2))"),this._sideMult=new t.Expr("$0 * ($1 * $2)"),this._two=new t.Signal(2),this._two.connect(this._midMult,0,1),this.width.connect(this._midMult,0,2),this._two.connect(this._sideMult,0,1),this.width.connect(this._sideMult,0,2),this.midSend.chain(this._midMult,this.midReturn),this.sideSend.chain(this._sideMult,this.sideReturn),this._readOnly(["width"])},t.extend(t.StereoWidener,t.MidSideEffect),t.StereoWidener.defaults={width:.5},t.StereoWidener.prototype.dispose=function(){return t.MidSideEffect.prototype.dispose.call(this),this._writable(["width"]),this.width.dispose(),this.width=null,this._midMult.dispose(),this._midMult=null,this._sideMult.dispose(),this._sideMult=null,this._two.dispose(),this._two=null,this},t.StereoWidener}),e(function(t){return t.Tremolo=function(){var e=t.defaults(arguments,["frequency","depth"],t.Tremolo);t.StereoEffect.call(this,e),this._lfoL=new t.LFO({phase:e.spread,min:1,max:0}),this._lfoR=new t.LFO({phase:e.spread,min:1,max:0}),this._amplitudeL=new t.Gain,this._amplitudeR=new t.Gain,this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.depth=new t.Signal(e.depth,t.Type.NormalRange),this._readOnly(["frequency","depth"]),this.effectSendL.chain(this._amplitudeL,this.effectReturnL),this.effectSendR.chain(this._amplitudeR,this.effectReturnR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.type=e.type,this.spread=e.spread},t.extend(t.Tremolo,t.StereoEffect),t.Tremolo.defaults={frequency:10,type:"sine",depth:.5,spread:180},t.Tremolo.prototype.start=function(t){return this._lfoL.start(t),this._lfoR.start(t),this},t.Tremolo.prototype.stop=function(t){return this._lfoL.stop(t),this._lfoR.stop(t),this},t.Tremolo.prototype.sync=function(t){return this._lfoL.sync(t),this._lfoR.sync(t),this},t.Tremolo.prototype.unsync=function(){return this._lfoL.unsync(),this._lfoR.unsync(),this},Object.defineProperty(t.Tremolo.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(t.Tremolo.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),t.Tremolo.prototype.dispose=function(){return t.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","depth"]),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._amplitudeL.dispose(),this._amplitudeL=null,this._amplitudeR.dispose(),this._amplitudeR=null,this.frequency=null,this.depth=null,this},t.Tremolo}),e(function(t){return t.Vibrato=function(){var e=t.defaults(arguments,["frequency","depth"],t.Vibrato);t.Effect.call(this,e),this._delayNode=new t.Delay(0,e.maxDelay),this._lfo=new t.LFO({type:e.type,min:0,max:e.maxDelay,frequency:e.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=e.depth,this._readOnly(["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)},t.extend(t.Vibrato,t.Effect),t.Vibrato.defaults={maxDelay:.005,frequency:5,depth:.1,type:"sine"},Object.defineProperty(t.Vibrato.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),t.Vibrato.prototype.dispose=function(){t.Effect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._lfo.dispose(),this._lfo=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null},t.Vibrato}),e(function(t){return t.Event=function(){var e=t.defaults(arguments,["callback","value"],t.Event);t.call(this),this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._state=new t.TimelineState(t.State.Stopped),this._playbackRate=1,this._startOffset=0,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate},t.extend(t.Event),t.Event.defaults={callback:t.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,value:null,probability:1,mute:!1,humanize:!1},t.Event.prototype._rescheduleEvents=function(e){return e=t.defaultArg(e,-1),this._state.forEachFrom(e,function(e){var n;if(e.state===t.State.Started){t.isUndef(e.id)||t.Transport.clear(e.id);var i=e.time+Math.round(this.startOffset/this._playbackRate);if(this._loop){n=1/0,t.isNumber(this._loop)&&(n=this._loop*this._getLoopDuration());var r=this._state.getAfter(i);null!==r&&(n=Math.min(n,r.time-i)),n!==1/0&&(this._state.setStateAtTime(t.State.Stopped,i+n+1),n=t.Time(n,"i"));var o=t.Time(this._getLoopDuration(),"i");e.id=t.Transport.scheduleRepeat(this._tick.bind(this),o,t.TransportTime(i,"i"),n)}else e.id=t.Transport.schedule(this._tick.bind(this),i+"i")}}.bind(this)),this},Object.defineProperty(t.Event.prototype,"state",{get:function(){return this._state.getValueAtTime(t.Transport.ticks)}}),Object.defineProperty(t.Event.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t}}),Object.defineProperty(t.Event.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t}}),Object.defineProperty(t.Event.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t}}),t.Event.prototype.start=function(e){return e=this.toTicks(e),this._state.getValueAtTime(e)===t.State.Stopped&&(this._state.add({state:t.State.Started,time:e,id:void 0}),this._rescheduleEvents(e)),this},t.Event.prototype.stop=function(e){if(this.cancel(e),e=this.toTicks(e),this._state.getValueAtTime(e)===t.State.Started){this._state.setStateAtTime(t.State.Stopped,e);var n=this._state.getBefore(e),i=e;null!==n&&(i=n.time),this._rescheduleEvents(i)}return this},t.Event.prototype.cancel=function(e){return e=t.defaultArg(e,-(1/0)),e=this.toTicks(e),this._state.forEachFrom(e,function(e){t.Transport.clear(e.id)}),this._state.cancel(e),this},t.Event.prototype._tick=function(e){if(!this.mute&&this._state.getValueAtTime(t.Transport.ticks)===t.State.Started){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){var n=.02;t.isBoolean(this.humanize)||(n=this.toSeconds(this.humanize)),e+=(2*Math.random()-1)*n}this.callback(e,this.value)}},t.Event.prototype._getLoopDuration=function(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)},Object.defineProperty(t.Event.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"loopEnd",{get:function(){return t.TransportTime(this._loopEnd,"i").toNotation()},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"loopStart",{get:function(){return t.TransportTime(this._loopStart,"i").toNotation()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"progress",{get:function(){if(this._loop){var e=t.Transport.ticks,n=this._state.get(e);if(null!==n&&n.state===t.State.Started){var i=this._getLoopDuration(),r=(e-n.time)%i;return r/i}return 0}return 0}}),t.Event.prototype.dispose=function(){this.cancel(),this._state.dispose(),this._state=null,this.callback=null,this.value=null},t.Event}),e(function(t){return t.Loop=function(){var e=t.defaults(arguments,["callback","interval"],t.Loop);t.call(this),this._event=new t.Event({callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability}),this.callback=e.callback,this.iterations=e.iterations},t.extend(t.Loop),t.Loop.defaults={interval:"4n",callback:t.noOp,playbackRate:1,iterations:1/0,probability:!0,mute:!1},t.Loop.prototype.start=function(t){return this._event.start(t),this},t.Loop.prototype.stop=function(t){return this._event.stop(t),this},t.Loop.prototype.cancel=function(t){return this._event.cancel(t),this},t.Loop.prototype._tick=function(t){this.callback(t)},Object.defineProperty(t.Loop.prototype,"state",{get:function(){return this._event.state}}),Object.defineProperty(t.Loop.prototype,"progress",{get:function(){return this._event.progress}}),Object.defineProperty(t.Loop.prototype,"interval",{get:function(){return this._event.loopEnd},set:function(t){this._event.loopEnd=t}}),Object.defineProperty(t.Loop.prototype,"playbackRate",{get:function(){return this._event.playbackRate},set:function(t){this._event.playbackRate=t}}),Object.defineProperty(t.Loop.prototype,"humanize",{get:function(){return this._event.humanize},set:function(t){this._event.humanize=t}}),Object.defineProperty(t.Loop.prototype,"probability",{get:function(){return this._event.probability},set:function(t){this._event.probability=t}}),Object.defineProperty(t.Loop.prototype,"mute",{get:function(){return this._event.mute},set:function(t){this._event.mute=t}}),Object.defineProperty(t.Loop.prototype,"iterations",{get:function(){return this._event.loop===!0?1/0:this._event.loop},set:function(t){this._event.loop=t===1/0?!0:t}}),t.Loop.prototype.dispose=function(){this._event.dispose(),this._event=null,this.callback=null},t.Loop}),e(function(t){return t.Part=function(){var e=t.defaults(arguments,["callback","events"],t.Part);t.Event.call(this,e),this._events=[];for(var n=0;n<e.events.length;n++)Array.isArray(e.events[n])?this.add(e.events[n][0],e.events[n][1]):this.add(e.events[n])},t.extend(t.Part,t.Event),t.Part.defaults={callback:t.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,probability:1,humanize:!1,mute:!1,events:[]},t.Part.prototype.start=function(e,n){var i=this.toTicks(e);return this._state.getValueAtTime(i)!==t.State.Started&&(n=this._loop?t.defaultArg(n,this._loopStart):t.defaultArg(n,0),n=this.toTicks(n),this._state.add({state:t.State.Started,time:i,offset:n}),this._forEach(function(t){this._startNote(t,i,n)})),this},t.Part.prototype._startNote=function(e,n,i){n-=i,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<i&&(n+=this._getLoopDuration()),e.start(t.TransportTime(n,"i"))):e.startOffset<this._loopStart&&e.startOffset>=i&&(e.loop=!1,e.start(t.TransportTime(n,"i"))):e.startOffset>=i&&e.start(t.TransportTime(n,"i"))},Object.defineProperty(t.Part.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t,this._forEach(function(t){t.startOffset+=this._startOffset})}}),t.Part.prototype.stop=function(e){var n=this.toTicks(e);return this._state.cancel(n),this._state.setStateAtTime(t.State.Stopped,n),this._forEach(function(t){t.stop(e)}),this},t.Part.prototype.at=function(e,n){e=t.TransportTime(e);for(var i=t.Time(1,"i").toSeconds(),r=0;r<this._events.length;r++){var o=this._events[r];if(Math.abs(e.toTicks()-o.startOffset)<i)return t.isUndef(n)||(o.value=n),o}return t.isUndef(n)?null:(this.add(e,n),this._events[this._events.length-1])},t.Part.prototype.add=function(e,n){e.hasOwnProperty("time")&&(n=e,e=n.time),e=this.toTicks(e);var i;return n instanceof t.Event?(i=n,i.callback=this._tick.bind(this)):i=new t.Event({callback:this._tick.bind(this),value:n}),i.startOffset=e,i.set({loopEnd:this.loopEnd,loopStart:this.loopStart,loop:this.loop,humanize:this.humanize,playbackRate:this.playbackRate,probability:this.probability}),this._events.push(i),this._restartEvent(i),this},t.Part.prototype._restartEvent=function(e){this._state.forEach(function(n){n.state===t.State.Started?this._startNote(e,n.time,n.offset):e.stop(t.TransportTime(n.time,"i"))}.bind(this))},t.Part.prototype.remove=function(e,n){e.hasOwnProperty("time")&&(n=e,e=n.time),e=this.toTicks(e);for(var i=this._events.length-1;i>=0;i--){var r=this._events[i];r instanceof t.Part?r.remove(e,n):r.startOffset===e&&(t.isUndef(n)||!t.isUndef(n)&&r.value===n)&&(this._events.splice(i,1),r.dispose())}return this},t.Part.prototype.removeAll=function(){return this._forEach(function(t){t.dispose()}),this._events=[],this},t.Part.prototype.cancel=function(t){return this._forEach(function(e){e.cancel(t)}),this._state.cancel(this.toTicks(t)),this},t.Part.prototype._forEach=function(e,n){if(this._events){n=t.defaultArg(n,this);for(var i=this._events.length-1;i>=0;i--){var r=this._events[i];r instanceof t.Part?r._forEach(e,n):e.call(n,r)}}return this},t.Part.prototype._setAll=function(t,e){this._forEach(function(n){n[t]=e})},t.Part.prototype._tick=function(t,e){this.mute||this.callback(t,e)},t.Part.prototype._testLoopBoundries=function(e){e.startOffset<this._loopStart||e.startOffset>=this._loopEnd?e.cancel(0):e.state===t.State.Stopped&&this._restartEvent(e)},Object.defineProperty(t.Part.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t,this._setAll("probability",t)}}),Object.defineProperty(t.Part.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t,this._setAll("humanize",t)}}),Object.defineProperty(t.Part.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._forEach(function(e){e._loopStart=this._loopStart,e._loopEnd=this._loopEnd,e.loop=t,this._testLoopBoundries(e)})}}),Object.defineProperty(t.Part.prototype,"loopEnd",{get:function(){return t.TransportTime(this._loopEnd,"i").toNotation()},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach(function(e){e.loopEnd=t,this._testLoopBoundries(e)})}}),Object.defineProperty(t.Part.prototype,"loopStart",{get:function(){return t.TransportTime(this._loopStart,"i").toNotation()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach(function(t){t.loopStart=this.loopStart,this._testLoopBoundries(t)})}}),Object.defineProperty(t.Part.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._setAll("playbackRate",t)}}),Object.defineProperty(t.Part.prototype,"length",{get:function(){return this._events.length}}),t.Part.prototype.dispose=function(){return this.removeAll(),this._state.dispose(),this._state=null,this.callback=null,this._events=null,this},t.Part}),e(function(t){return t.Pattern=function(){var e=t.defaults(arguments,["callback","values","pattern"],t.Pattern);t.Loop.call(this,e),this._pattern=new t.CtrlPattern({values:e.values,type:e.pattern,index:e.index})},t.extend(t.Pattern,t.Loop),t.Pattern.defaults={pattern:t.CtrlPattern.Type.Up,callback:t.noOp,values:[]},t.Pattern.prototype._tick=function(t){this.callback(t,this._pattern.value),this._pattern.next()},Object.defineProperty(t.Pattern.prototype,"index",{get:function(){return this._pattern.index},set:function(t){this._pattern.index=t}}),Object.defineProperty(t.Pattern.prototype,"values",{get:function(){return this._pattern.values},set:function(t){this._pattern.values=t}}),Object.defineProperty(t.Pattern.prototype,"value",{get:function(){return this._pattern.value}}),Object.defineProperty(t.Pattern.prototype,"pattern",{get:function(){return this._pattern.type},set:function(t){this._pattern.type=t}}),t.Pattern.prototype.dispose=function(){t.Loop.prototype.dispose.call(this),this._pattern.dispose(),this._pattern=null},t.Pattern}),e(function(t){return t.Sequence=function(){var e=t.defaults(arguments,["callback","events","subdivision"],t.Sequence),n=e.events;if(delete e.events,t.Part.call(this,e),this._subdivision=this.toTicks(e.subdivision),t.isUndef(e.loopEnd)&&!t.isUndef(n)&&(this._loopEnd=n.length*this._subdivision),this._loop=!0,!t.isUndef(n))for(var i=0;i<n.length;i++)this.add(i,n[i])},t.extend(t.Sequence,t.Part),t.Sequence.defaults={subdivision:"4n"},Object.defineProperty(t.Sequence.prototype,"subdivision",{get:function(){return t.Time(this._subdivision,"i").toNotation()}}),t.Sequence.prototype.at=function(e,n){return t.isArray(n)&&this.remove(e),t.Part.prototype.at.call(this,this._indexTime(e),n)},t.Sequence.prototype.add=function(e,n){if(null===n)return this;if(t.isArray(n)){var i=Math.round(this._subdivision/n.length);n=new t.Sequence(this._tick.bind(this),n,t.Time(i,"i"))}return t.Part.prototype.add.call(this,this._indexTime(e),n),this},t.Sequence.prototype.remove=function(e,n){return t.Part.prototype.remove.call(this,this._indexTime(e),n),this},t.Sequence.prototype._indexTime=function(e){return e instanceof t.TransportTime?e:t.TransportTime(e*this._subdivision+this.startOffset,"i")},t.Sequence.prototype.dispose=function(){return t.Part.prototype.dispose.call(this),this},t.Sequence}),e(function(t){return t.PulseOscillator=function(){var e=t.defaults(arguments,["frequency","width"],t.Oscillator);

t.Source.call(this,e),this.width=new t.Signal(e.width,t.Type.NormalRange),this._widthGate=new t.Gain,this._sawtooth=new t.Oscillator({frequency:e.frequency,detune:e.detune,type:"sawtooth",phase:e.phase}),this.frequency=this._sawtooth.frequency,this.detune=this._sawtooth.detune,this._thresh=new t.WaveShaper(function(t){return 0>t?-1:1}),this._sawtooth.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),this._readOnly(["width","frequency","detune"])},t.extend(t.PulseOscillator,t.Source),t.PulseOscillator.defaults={frequency:440,detune:0,phase:0,width:.2},t.PulseOscillator.prototype._start=function(t){t=this.toSeconds(t),this._sawtooth.start(t),this._widthGate.gain.setValueAtTime(1,t)},t.PulseOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._sawtooth.stop(t),this._widthGate.gain.setValueAtTime(0,t)},Object.defineProperty(t.PulseOscillator.prototype,"phase",{get:function(){return this._sawtooth.phase},set:function(t){this._sawtooth.phase=t}}),Object.defineProperty(t.PulseOscillator.prototype,"type",{get:function(){return"pulse"}}),Object.defineProperty(t.PulseOscillator.prototype,"partials",{get:function(){return[]}}),t.PulseOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._sawtooth.dispose(),this._sawtooth=null,this._writable(["width","frequency","detune"]),this.width.dispose(),this.width=null,this._widthGate.dispose(),this._widthGate=null,this._thresh.dispose(),this._thresh=null,this.frequency=null,this.detune=null,this},t.PulseOscillator}),e(function(t){return t.PWMOscillator=function(){var e=t.defaults(arguments,["frequency","modulationFrequency"],t.PWMOscillator);t.Source.call(this,e),this._pulse=new t.PulseOscillator(e.modulationFrequency),this._pulse._sawtooth.type="sine",this._modulator=new t.Oscillator({frequency:e.frequency,detune:e.detune,phase:e.phase}),this._scale=new t.Multiply(2),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this.modulationFrequency=this._pulse.frequency,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),this._readOnly(["modulationFrequency","frequency","detune"])},t.extend(t.PWMOscillator,t.Source),t.PWMOscillator.defaults={frequency:440,detune:0,phase:0,modulationFrequency:.4},t.PWMOscillator.prototype._start=function(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)},t.PWMOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)},Object.defineProperty(t.PWMOscillator.prototype,"type",{get:function(){return"pwm"}}),Object.defineProperty(t.PWMOscillator.prototype,"partials",{get:function(){return[]}}),Object.defineProperty(t.PWMOscillator.prototype,"phase",{get:function(){return this._modulator.phase},set:function(t){this._modulator.phase=t}}),t.PWMOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._pulse.dispose(),this._pulse=null,this._scale.dispose(),this._scale=null,this._modulator.dispose(),this._modulator=null,this._writable(["modulationFrequency","frequency","detune"]),this.frequency=null,this.detune=null,this.modulationFrequency=null,this},t.PWMOscillator}),e(function(t){return t.FMOscillator=function(){var e=t.defaults(arguments,["frequency","type","modulationType"],t.FMOscillator);t.Source.call(this,e),this._carrier=new t.Oscillator(e.frequency,e.type),this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=this._carrier.detune,this.detune.value=e.detune,this.modulationIndex=new t.Multiply(e.modulationIndex),this.modulationIndex.units=t.Type.Positive,this._modulator=new t.Oscillator(e.frequency,e.modulationType),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this._modulationNode=new t.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),this.phase=e.phase,this._readOnly(["modulationIndex","frequency","detune","harmonicity"])},t.extend(t.FMOscillator,t.Source),t.FMOscillator.defaults={frequency:440,detune:0,phase:0,modulationIndex:2,modulationType:"square",harmonicity:1},t.FMOscillator.prototype._start=function(t){t=this.toSeconds(t),this._modulator.start(t),this._carrier.start(t)},t.FMOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._modulator.stop(t),this._carrier.stop(t)},Object.defineProperty(t.FMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(t.FMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(t.FMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(t.FMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),t.FMOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._writable(["modulationIndex","frequency","detune","harmonicity"]),this.frequency.dispose(),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this.modulationIndex.dispose(),this.modulationIndex=null,this},t.FMOscillator}),e(function(t){return t.AMOscillator=function(){var e=t.defaults(arguments,["frequency","type","modulationType"],t.AMOscillator);t.Source.call(this,e),this._carrier=new t.Oscillator(e.frequency,e.type),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this.detune.value=e.detune,this._modulator=new t.Oscillator(e.frequency,e.modulationType),this._modulationScale=new t.AudioToGain,this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this._modulationNode=new t.Gain(0),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.connect(this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this.phase=e.phase,this._readOnly(["frequency","detune","harmonicity"])},t.extend(t.AMOscillator,t.Oscillator),t.AMOscillator.defaults={frequency:440,detune:0,phase:0,modulationType:"square",harmonicity:1},t.AMOscillator.prototype._start=function(t){t=this.toSeconds(t),this._modulator.start(t),this._carrier.start(t)},t.AMOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._modulator.stop(t),this._carrier.stop(t)},Object.defineProperty(t.AMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(t.AMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(t.AMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(t.AMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),t.AMOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._writable(["frequency","detune","harmonicity"]),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this._modulationScale.dispose(),this._modulationScale=null,this},t.AMOscillator}),e(function(t){return t.FatOscillator=function(){var e=t.defaults(arguments,["frequency","type","spread"],t.FatOscillator);t.Source.call(this,e),this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this._oscillators=[],this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=t.defaultArg(e.partials,[]),this.count=e.count,this._readOnly(["frequency","detune"])},t.extend(t.FatOscillator,t.Source),t.FatOscillator.defaults={frequency:440,detune:0,phase:0,spread:20,count:3,type:"sawtooth"},t.FatOscillator.prototype._start=function(t){t=this.toSeconds(t),this._forEach(function(e){e.start(t)})},t.FatOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._forEach(function(e){e.stop(t)})},t.FatOscillator.prototype._forEach=function(t){for(var e=0;e<this._oscillators.length;e++)t.call(this,this._oscillators[e],e)},Object.defineProperty(t.FatOscillator.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this._forEach(function(e){e.type=t})}}),Object.defineProperty(t.FatOscillator.prototype,"spread",{get:function(){return this._spread},set:function(t){if(this._spread=t,this._oscillators.length>1){var e=-t/2,n=t/(this._oscillators.length-1);this._forEach(function(t,i){t.detune.value=e+n*i})}}}),Object.defineProperty(t.FatOscillator.prototype,"count",{get:function(){return this._oscillators.length},set:function(e){if(e=Math.max(e,1),this._oscillators.length!==e){this._forEach(function(t){t.dispose()}),this._oscillators=[];for(var n=0;e>n;n++){var i=new t.Oscillator;this.type===t.Oscillator.Type.Custom?i.partials=this._partials:i.type=this._type,i.phase=this._phase,i.volume.value=-6-e,this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.connect(this.output),this._oscillators[n]=i}this.spread=this._spread,this.state===t.State.Started&&this._forEach(function(t){t.start()})}}}),Object.defineProperty(t.FatOscillator.prototype,"phase",{get:function(){return this._phase},set:function(t){this._phase=t,this._forEach(function(e){e.phase=t})}}),Object.defineProperty(t.FatOscillator.prototype,"partials",{get:function(){return this._partials},set:function(e){this._partials=e,this._type=t.Oscillator.Type.Custom,this._forEach(function(t){t.partials=e})}}),t.FatOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._forEach(function(t){t.dispose()}),this._oscillators=null,this._partials=null,this},t.FatOscillator}),e(function(t){t.OmniOscillator=function(){var e=t.defaults(arguments,["frequency","type"],t.OmniOscillator);t.Source.call(this,e),this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this._sourceType=void 0,this._oscillator=null,this.type=e.type,this._readOnly(["frequency","detune"]),this.set(e)},t.extend(t.OmniOscillator,t.Source),t.OmniOscillator.defaults={frequency:440,detune:0,type:"sine",phase:0};var e={Pulse:"PulseOscillator",PWM:"PWMOscillator",Osc:"Oscillator",FM:"FMOscillator",AM:"AMOscillator",Fat:"FatOscillator"};return t.OmniOscillator.prototype._start=function(t){this._oscillator.start(t)},t.OmniOscillator.prototype._stop=function(t){this._oscillator.stop(t)},Object.defineProperty(t.OmniOscillator.prototype,"type",{get:function(){var t="";return this._sourceType===e.FM?t="fm":this._sourceType===e.AM?t="am":this._sourceType===e.Fat&&(t="fat"),t+this._oscillator.type},set:function(t){"fm"===t.substr(0,2)?(this._createNewOscillator(e.FM),this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator(e.AM),this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator(e.Fat),this._oscillator.type=t.substr(3)):"pwm"===t?this._createNewOscillator(e.PWM):"pulse"===t?this._createNewOscillator(e.Pulse):(this._createNewOscillator(e.Osc),this._oscillator.type=t)}}),Object.defineProperty(t.OmniOscillator.prototype,"partials",{get:function(){return this._oscillator.partials},set:function(t){this._oscillator.partials=t}}),t.OmniOscillator.prototype.set=function(e,n){return"type"===e?this.type=n:t.isObject(e)&&e.hasOwnProperty("type")&&(this.type=e.type),t.prototype.set.apply(this,arguments),this},t.OmniOscillator.prototype._createNewOscillator=function(e){if(e!==this._sourceType){this._sourceType=e;var n=t[e],i=this.now();if(null!==this._oscillator){var r=this._oscillator;r.stop(i),this.context.setTimeout(function(){r.dispose(),r=null},this.blockTime)}this._oscillator=new n,this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this.state===t.State.Started&&this._oscillator.start(i)}},Object.defineProperty(t.OmniOscillator.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t}}),Object.defineProperty(t.OmniOscillator.prototype,"width",{get:function(){return this._sourceType===e.Pulse?this._oscillator.width:void 0}}),Object.defineProperty(t.OmniOscillator.prototype,"count",{get:function(){return this._sourceType===e.Fat?this._oscillator.count:void 0},set:function(t){this._sourceType===e.Fat&&(this._oscillator.count=t)}}),Object.defineProperty(t.OmniOscillator.prototype,"spread",{get:function(){return this._sourceType===e.Fat?this._oscillator.spread:void 0},set:function(t){this._sourceType===e.Fat&&(this._oscillator.spread=t)}}),Object.defineProperty(t.OmniOscillator.prototype,"modulationType",{get:function(){return this._sourceType===e.FM||this._sourceType===e.AM?this._oscillator.modulationType:void 0},set:function(t){(this._sourceType===e.FM||this._sourceType===e.AM)&&(this._oscillator.modulationType=t)}}),Object.defineProperty(t.OmniOscillator.prototype,"modulationIndex",{get:function(){return this._sourceType===e.FM?this._oscillator.modulationIndex:void 0}}),Object.defineProperty(t.OmniOscillator.prototype,"harmonicity",{get:function(){return this._sourceType===e.FM||this._sourceType===e.AM?this._oscillator.harmonicity:void 0}}),Object.defineProperty(t.OmniOscillator.prototype,"modulationFrequency",{get:function(){return this._sourceType===e.PWM?this._oscillator.modulationFrequency:void 0}}),t.OmniOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.detune.dispose(),this.detune=null,this.frequency.dispose(),this.frequency=null,this._oscillator.dispose(),this._oscillator=null,this._sourceType=null,this},t.OmniOscillator}),e(function(t){return t.Instrument=function(e){e=t.defaultArg(e,t.Instrument.defaults),t.AudioNode.call(this),this._volume=this.output=new t.Volume(e.volume),this.volume=this._volume.volume,this._readOnly("volume")},t.extend(t.Instrument,t.AudioNode),t.Instrument.defaults={volume:0},t.Instrument.prototype.triggerAttack=t.noOp,t.Instrument.prototype.triggerRelease=t.noOp,t.Instrument.prototype.triggerAttackRelease=function(t,e,n,i){return n=this.toSeconds(n),e=this.toSeconds(e),this.triggerAttack(t,n,i),this.triggerRelease(n+e),this},t.Instrument.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable(["volume"]),this.volume=null,this},t.Instrument}),e(function(t){return t.Monophonic=function(e){e=t.defaultArg(e,t.Monophonic.defaults),t.Instrument.call(this,e),this.portamento=e.portamento},t.extend(t.Monophonic,t.Instrument),t.Monophonic.defaults={portamento:0},t.Monophonic.prototype.triggerAttack=function(t,e,n){return e=this.toSeconds(e),this._triggerEnvelopeAttack(e,n),this.setNote(t,e),this},t.Monophonic.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this._triggerEnvelopeRelease(t),this},t.Monophonic.prototype._triggerEnvelopeAttack=function(){},t.Monophonic.prototype._triggerEnvelopeRelease=function(){},t.Monophonic.prototype.setNote=function(t,e){if(e=this.toSeconds(e),this.portamento>0){var n=this.frequency.value;this.frequency.setValueAtTime(n,e);var i=this.toSeconds(this.portamento);this.frequency.exponentialRampToValueAtTime(t,e+i)}else this.frequency.setValueAtTime(t,e);return this},t.Monophonic}),e(function(t){return t.Synth=function(e){e=t.defaultArg(e,t.Synth.defaults),t.Monophonic.call(this,e),this.oscillator=new t.OmniOscillator(e.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new t.AmplitudeEnvelope(e.envelope),this.oscillator.chain(this.envelope,this.output),this.oscillator.start(),this._readOnly(["oscillator","frequency","detune","envelope"])},t.extend(t.Synth,t.Monophonic),t.Synth.defaults={oscillator:{type:"triangle"},envelope:{attack:.005,decay:.1,sustain:.3,release:1}},t.Synth.prototype._triggerEnvelopeAttack=function(t,e){return this.envelope.triggerAttack(t,e),this},t.Synth.prototype._triggerEnvelopeRelease=function(t){return this.envelope.triggerRelease(t),this},t.Synth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.frequency=null,this.detune=null,this},t.Synth}),e(function(t){return t.AMSynth=function(e){e=t.defaultArg(e,t.AMSynth.defaults),t.Monophonic.call(this,e),this._carrier=new t.Synth,this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope.set(e.envelope),this._modulator=new t.Synth,this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(e.modulation),this.modulationEnvelope=this._modulator.envelope.set(e.modulationEnvelope),this.frequency=new t.Signal(440,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this._modulationScale=new t.AudioToGain,this._modulationNode=new t.Gain,this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this._readOnly(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])},t.extend(t.AMSynth,t.Monophonic),t.AMSynth.defaults={harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},t.AMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.modulationEnvelope.triggerAttack(t,e),this},t.AMSynth.prototype._triggerEnvelopeRelease=function(t){return this.envelope.triggerRelease(t),this.modulationEnvelope.triggerRelease(t),this},t.AMSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationScale.dispose(),this._modulationScale=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},t.AMSynth}),e(function(t){return t.MonoSynth=function(e){e=t.defaultArg(e,t.MonoSynth.defaults),t.Monophonic.call(this,e),this.oscillator=new t.OmniOscillator(e.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new t.Filter(e.filter),this.filterEnvelope=new t.FrequencyEnvelope(e.filterEnvelope),this.envelope=new t.AmplitudeEnvelope(e.envelope),this.oscillator.chain(this.filter,this.envelope,this.output),this.oscillator.start(),this.filterEnvelope.connect(this.filter.frequency),this._readOnly(["oscillator","frequency","detune","filter","filterEnvelope","envelope"])},t.extend(t.MonoSynth,t.Monophonic),t.MonoSynth.defaults={frequency:"C4",detune:0,oscillator:{type:"square"},filter:{Q:6,type:"lowpass",rolloff:-24},envelope:{attack:.005,decay:.1,sustain:.9,release:1},filterEnvelope:{attack:.06,decay:.2,sustain:.5,release:2,baseFrequency:200,octaves:7,exponent:2}},t.MonoSynth.prototype._triggerEnvelopeAttack=function(t,e){return this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this},t.MonoSynth.prototype._triggerEnvelopeRelease=function(t){return this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this},t.MonoSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","filter","filterEnvelope","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.filterEnvelope.dispose(),this.filterEnvelope=null,this.filter.dispose(),this.filter=null,this.frequency=null,this.detune=null,this},t.MonoSynth}),e(function(t){return t.DuoSynth=function(e){e=t.defaultArg(e,t.DuoSynth.defaults),t.Monophonic.call(this,e),this.voice0=new t.MonoSynth(e.voice0),this.voice0.volume.value=-10,this.voice1=new t.MonoSynth(e.voice1),this.voice1.volume.value=-10,this._vibrato=new t.LFO(e.vibratoRate,-50,50),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new t.Gain(e.vibratoAmount,t.Type.Positive),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new t.Signal(440,t.Type.Frequency),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),this._readOnly(["voice0","voice1","frequency","vibratoAmount","vibratoRate"])},t.extend(t.DuoSynth,t.Monophonic),t.DuoSynth.defaults={vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}},voice1:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}},t.DuoSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.voice0.envelope.triggerAttack(t,e),this.voice1.envelope.triggerAttack(t,e),this.voice0.filterEnvelope.triggerAttack(t),this.voice1.filterEnvelope.triggerAttack(t),this},t.DuoSynth.prototype._triggerEnvelopeRelease=function(t){return this.voice0.triggerRelease(t),this.voice1.triggerRelease(t),this},t.DuoSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["voice0","voice1","frequency","vibratoAmount","vibratoRate"]),this.voice0.dispose(),this.voice0=null,this.voice1.dispose(),this.voice1=null,this.frequency.dispose(),this.frequency=null,this._vibratoGain.dispose(),this._vibratoGain=null,this._vibrato=null,this.harmonicity.dispose(),this.harmonicity=null,this.vibratoAmount.dispose(),this.vibratoAmount=null,this.vibratoRate=null,this},t.DuoSynth}),e(function(t){return t.FMSynth=function(e){e=t.defaultArg(e,t.FMSynth.defaults),t.Monophonic.call(this,e),this._carrier=new t.Synth(e.carrier),this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope.set(e.envelope),this._modulator=new t.Synth(e.modulator),this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(e.modulation),this.modulationEnvelope=this._modulator.envelope.set(e.modulationEnvelope),this.frequency=new t.Signal(440,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this.modulationIndex=new t.Multiply(e.modulationIndex),this.modulationIndex.units=t.Type.Positive,this._modulationNode=new t.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this._readOnly(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"])},t.extend(t.FMSynth,t.Monophonic),t.FMSynth.defaults={harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},t.FMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.modulationEnvelope.triggerAttack(t),this},t.FMSynth.prototype._triggerEnvelopeRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.modulationEnvelope.triggerRelease(t),this},t.FMSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.modulationIndex.dispose(),this.modulationIndex=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},t.FMSynth}),e(function(t){return t.MembraneSynth=function(e){e=t.defaultArg(e,t.MembraneSynth.defaults),t.Instrument.call(this,e),this.oscillator=new t.OmniOscillator(e.oscillator).start(),this.envelope=new t.AmplitudeEnvelope(e.envelope),this.octaves=e.octaves,this.pitchDecay=e.pitchDecay,this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","envelope"])},t.extend(t.MembraneSynth,t.Instrument),t.MembraneSynth.defaults={pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4,attackCurve:"exponential"}},t.MembraneSynth.prototype.triggerAttack=function(t,e,n){e=this.toSeconds(e),t=this.toFrequency(t);var i=t*this.octaves;return this.oscillator.frequency.setValueAtTime(i,e),this.oscillator.frequency.exponentialRampToValueAtTime(t,e+this.toSeconds(this.pitchDecay)),this.envelope.triggerAttack(e,n),this},t.MembraneSynth.prototype.triggerRelease=function(t){return this.envelope.triggerRelease(t),this},t.MembraneSynth.prototype.dispose=function(){return t.Instrument.prototype.dispose.call(this),this._writable(["oscillator","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this},t.MembraneSynth}),e(function(t){var e=[1,1.483,1.932,2.546,2.63,3.897];return t.MetalSynth=function(n){n=t.defaultArg(n,t.MetalSynth.defaults),t.Instrument.call(this,n),this.frequency=new t.Signal(n.frequency,t.Type.Frequency),this._oscillators=[],this._freqMultipliers=[],this._amplitue=new t.Gain(0).connect(this.output),this._highpass=new t.Filter({type:"highpass",Q:-3.0102999566398125}).connect(this._amplitue),this._octaves=n.octaves,this._filterFreqScaler=new t.Scale(n.resonance,7e3),this.envelope=new t.Envelope({attack:n.envelope.attack,attackCurve:"linear",decay:n.envelope.decay,sustain:0,release:n.envelope.release}).chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitue.gain);for(var i=0;i<e.length;i++){var r=new t.FMOscillator({type:"square",modulationType:"square",harmonicity:n.harmonicity,modulationIndex:n.modulationIndex});r.connect(this._highpass).start(),this._oscillators[i]=r;var o=new t.Multiply(e[i]);this._freqMultipliers[i]=o,this.frequency.chain(o,r.frequency)}this.octaves=n.octaves},t.extend(t.MetalSynth,t.Instrument),t.MetalSynth.defaults={frequency:200,envelope:{attack:.001,decay:1.4,release:.2},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5},t.MetalSynth.prototype.triggerAttack=function(e,n){return e=this.toSeconds(e),n=t.defaultArg(n,1),this.envelope.triggerAttack(e,n),this},t.MetalSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this},t.MetalSynth.prototype.triggerAttackRelease=function(t,e,n){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this},Object.defineProperty(t.MetalSynth.prototype,"modulationIndex",{get:function(){return this._oscillators[0].modulationIndex.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].modulationIndex.value=t}}),Object.defineProperty(t.MetalSynth.prototype,"harmonicity",{get:function(){return this._oscillators[0].harmonicity.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].harmonicity.value=t}}),Object.defineProperty(t.MetalSynth.prototype,"resonance",{get:function(){return this._filterFreqScaler.min},set:function(t){this._filterFreqScaler.min=t,this.octaves=this._octaves}}),Object.defineProperty(t.MetalSynth.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}}),t.MetalSynth.prototype.dispose=function(){t.Instrument.prototype.dispose.call(this);for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].dispose(),this._freqMultipliers[e].dispose();this._oscillators=null,this._freqMultipliers=null,this.frequency.dispose(),this.frequency=null,this._filterFreqScaler.dispose(),this._filterFreqScaler=null,this._amplitue.dispose(),this._amplitue=null,this.envelope.dispose(),this.envelope=null,this._highpass.dispose(),this._highpass=null},t.MetalSynth}),e(function(t){return window.AudioBufferSourceNode&&!AudioBufferSourceNode.prototype.start&&(AudioBufferSourceNode.prototype.start=AudioBufferSourceNode.prototype.noteGrainOn,AudioBufferSourceNode.prototype.stop=AudioBufferSourceNode.prototype.noteOff),t.BufferSource=function(){var e=t.defaults(arguments,["buffer","onload"],t.BufferSource);t.AudioNode.call(this),this.onended=e.onended,this._startTime=-1,this._stopTime=-1,this._gainNode=this.output=new t.Gain,this._source=this.context.createBufferSource(),this._source.connect(this._gainNode),this._buffer=new t.Buffer(e.buffer,e.onload),this.playbackRate=new t.Param(this._source.playbackRate,t.Type.Positive),this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut,this.curve=e.curve,this._gain=1,this._onendedTimeout=-1,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.playbackRate.value=e.playbackRate},t.extend(t.BufferSource,t.AudioNode),t.BufferSource.defaults={onended:t.noOp,onload:t.noOp,loop:!1,loopStart:0,loopEnd:0,fadeIn:0,fadeOut:0,curve:"linear",playbackRate:1},Object.defineProperty(t.BufferSource.prototype,"state",{get:function(){var e=this.now();return-1!==this._startTime&&e>=this._startTime&&e<this._stopTime?t.State.Started:t.State.Stopped}}),t.BufferSource.prototype.start=function(e,n,i,r,o){if(-1!==this._startTime)throw new Error("Tone.BufferSource can only be started once.");if(!this.buffer.loaded)throw new Error("Tone.BufferSource: buffer is either not set or not loaded.");e=this.toSeconds(e),n=this.loop?t.defaultArg(n,this.loopStart):t.defaultArg(n,0),n=this.toSeconds(n),r=t.defaultArg(r,1),this._gain=r,o=this.toSeconds(t.defaultArg(o,this.fadeIn)),this.fadeIn=o,o>0?(this._gainNode.gain.setValueAtTime(0,e),"linear"===this.curve?this._gainNode.gain.linearRampToValueAtTime(this._gain,e+o):this._gainNode.gain.setTargetAtTime(this._gain,e,this._gainNode.gain.getTimeConstant(o))):this._gainNode.gain.setValueAtTime(r,e),
this._startTime=e;var s=this.toSeconds(t.defaultArg(i,this.buffer.duration-n));if(s=Math.max(s,0),(!this.loop||this.loop&&!t.isUndef(i))&&(this.loop||(s=Math.min(s,this.buffer.duration-n)),this.stop(e+s,this.fadeOut)),this.loop){var a=this.loopEnd||this.buffer.duration,l=this.loopStart,u=a-l;n>a&&(n=(n-l)%u+l)}return this._source.buffer=this.buffer.get(),this._source.loopEnd=this.loopEnd||this.buffer.duration,t.isPast(e),this._source.start(e,n),this},t.BufferSource.prototype.stop=function(e,n){if(!this.buffer.loaded)throw new Error("Tone.BufferSource: buffer is either not set or not loaded.");if(e=this.toSeconds(e),-1===this._stopTime||this._stopTime>e){if(e<=this._startTime)return this._gainNode.gain.cancelScheduledValues(e),this._gainNode.gain.value=0,this;e=Math.max(this._startTime+this.fadeIn+this.sampleTime,e),this._gainNode.gain.cancelScheduledValues(e),this._stopTime=e,n=this.toSeconds(t.defaultArg(n,this.fadeOut));var i=Math.min(e-this._startTime-this.fadeIn-this.sampleTime,this.buffer.duration);n=Math.min(i,n);var r=e-n;n>this.sampleTime?(this._gainNode.gain.setValueAtTime(this._gain,r),"linear"===this.curve?this._gainNode.gain.linearRampToValueAtTime(0,e):this._gainNode.gain.setTargetAtTime(0,r,this._gainNode.gain.getTimeConstant(n))):this._gainNode.gain.setValueAtTime(0,e),t.context.clearTimeout(this._onendedTimeout),this._onendedTimeout=t.context.setTimeout(this._onended.bind(this),this._stopTime-this.now())}return this},t.BufferSource.prototype._onended=function(){this.onended(this)},Object.defineProperty(t.BufferSource.prototype,"loopStart",{get:function(){return this._source.loopStart},set:function(t){this._source.loopStart=this.toSeconds(t)}}),Object.defineProperty(t.BufferSource.prototype,"loopEnd",{get:function(){return this._source.loopEnd},set:function(t){this._source.loopEnd=this.toSeconds(t)}}),Object.defineProperty(t.BufferSource.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(t.BufferSource.prototype,"loop",{get:function(){return this._source.loop},set:function(t){this._source.loop=t}}),t.BufferSource.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this.onended=null,this._source.disconnect(),this._source=null,this._gainNode.dispose(),this._gainNode=null,this._buffer.dispose(),this._buffer=null,this._startTime=-1,this.playbackRate=null,t.context.clearTimeout(this._onendedTimeout),this},t.BufferSource}),e(function(t){function e(){for(var e in r)o[e]=(new t.Buffer).fromArray(r[e])}t.Noise=function(){var e=t.defaults(arguments,["type"],t.Noise);t.Source.call(this,e),this._source=null,this._type=e.type,this._playbackRate=e.playbackRate},t.extend(t.Noise,t.Source),t.Noise.defaults={type:"white",playbackRate:1},Object.defineProperty(t.Noise.prototype,"type",{get:function(){return this._type},set:function(e){if(this._type!==e){if(!(e in o))throw new TypeError("Tone.Noise: invalid type: "+e);if(this._type=e,this.state===t.State.Started){var n=this.now();this._stop(n),this._start(n)}}}}),Object.defineProperty(t.Noise.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}}),t.Noise.prototype._start=function(e){var n=o[this._type];this._source=new t.BufferSource(n).connect(this.output),this._source.loop=!0,this._source.playbackRate.value=this._playbackRate,this._source.start(this.toSeconds(e),Math.random()*(n.duration-.001))},t.Noise.prototype._stop=function(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)},t.Noise.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),null!==this._source&&(this._source.disconnect(),this._source=null),this._buffer=null,this};var n=220500,i=2,r={pink:function(){for(var t=[],e=0;i>e;e++){var r=new Float32Array(n);t[e]=r;var o,s,a,l,u,h,c;o=s=a=l=u=h=c=0;for(var p=0;n>p;p++){var d=2*Math.random()-1;o=.99886*o+.0555179*d,s=.99332*s+.0750759*d,a=.969*a+.153852*d,l=.8665*l+.3104856*d,u=.55*u+.5329522*d,h=-.7616*h-.016898*d,r[p]=o+s+a+l+u+h+c+.5362*d,r[p]*=.11,c=.115926*d}}return t}(),brown:function(){for(var t=[],e=0;i>e;e++){var r=new Float32Array(n);t[e]=r;for(var o=0,s=0;n>s;s++){var a=2*Math.random()-1;r[s]=(o+.02*a)/1.02,o=r[s],r[s]*=3.5}}return t}(),white:function(){for(var t=[],e=0;i>e;e++){var r=new Float32Array(n);t[e]=r;for(var o=0;n>o;o++)r[o]=2*Math.random()-1}return t}()},o={};return t.getContext(e),t.Context.on("init",e),t.Noise}),e(function(t){return t.NoiseSynth=function(e){e=t.defaultArg(e,t.NoiseSynth.defaults),t.Instrument.call(this,e),this.noise=new t.Noise,this.envelope=new t.AmplitudeEnvelope(e.envelope),this.noise.chain(this.envelope,this.output),this.noise.start(),this._readOnly(["noise","envelope"])},t.extend(t.NoiseSynth,t.Instrument),t.NoiseSynth.defaults={noise:{type:"white"},envelope:{attack:.005,decay:.1,sustain:0}},t.NoiseSynth.prototype.triggerAttack=function(t,e){return this.envelope.triggerAttack(t,e),this},t.NoiseSynth.prototype.triggerRelease=function(t){return this.envelope.triggerRelease(t),this},t.NoiseSynth.prototype.triggerAttackRelease=function(t,e,n){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this},t.NoiseSynth.prototype.dispose=function(){return t.Instrument.prototype.dispose.call(this),this._writable(["noise","envelope"]),this.noise.dispose(),this.noise=null,this.envelope.dispose(),this.envelope=null,this},t.NoiseSynth}),e(function(t){return t.PluckSynth=function(e){e=t.defaultArg(e,t.PluckSynth.defaults),t.Instrument.call(this,e),this._noise=new t.Noise("pink"),this.attackNoise=e.attackNoise,this._lfcf=new t.LowpassCombFilter({resonance:e.resonance,dampening:e.dampening}),this.resonance=this._lfcf.resonance,this.dampening=this._lfcf.dampening,this._noise.connect(this._lfcf),this._lfcf.connect(this.output),this._readOnly(["resonance","dampening"])},t.extend(t.PluckSynth,t.Instrument),t.PluckSynth.defaults={attackNoise:1,dampening:4e3,resonance:.9},t.PluckSynth.prototype.triggerAttack=function(t,e){t=this.toFrequency(t),e=this.toSeconds(e);var n=1/t;return this._lfcf.delayTime.setValueAtTime(n,e),this._noise.start(e),this._noise.stop(e+n*this.attackNoise),this},t.PluckSynth.prototype.dispose=function(){return t.Instrument.prototype.dispose.call(this),this._noise.dispose(),this._lfcf.dispose(),this._noise=null,this._lfcf=null,this._writable(["resonance","dampening"]),this.dampening=null,this.resonance=null,this},t.PluckSynth}),e(function(t){return t.PolySynth=function(){var e=t.defaults(arguments,["polyphony","voice"],t.PolySynth);t.Instrument.call(this,e),e=t.defaultArg(e,t.Instrument.defaults),e.polyphony=Math.min(t.PolySynth.MAX_POLYPHONY,e.polyphony),this.voices=new Array(e.polyphony),this._triggers=new Array(e.polyphony),this.detune=new t.Signal(e.detune,t.Type.Cents),this._readOnly("detune");for(var n=0;n<e.polyphony;n++){var i=new e.voice(arguments[2],arguments[3]);this.voices[n]=i,i.connect(this.output),i.hasOwnProperty("detune")&&this.detune.connect(i.detune),this._triggers[n]={release:-1,note:null,voice:i}}},t.extend(t.PolySynth,t.Instrument),t.PolySynth.defaults={polyphony:4,volume:0,detune:0,voice:t.Synth},t.PolySynth.prototype.triggerAttack=function(t,e,n){Array.isArray(t)||(t=[t]),e=this.toSeconds(e);for(var i=0;i<t.length;i++){for(var r=t[i],o=this._triggers[0],s=0,a=1;a<this._triggers.length;a++)this._triggers[a].release<o.release&&(o=this._triggers[a],s=a);o.release=1/0,o.note=JSON.stringify(r),o.voice.triggerAttack(r,e,n)}return this},t.PolySynth.prototype.triggerAttackRelease=function(e,n,i,r){if(i=this.toSeconds(i),this.triggerAttack(e,i,r),t.isArray(n)&&t.isArray(e))for(var o=0;o<e.length;o++){var s=n[Math.min(o,n.length-1)];this.triggerRelease(e[o],i+this.toSeconds(s))}else this.triggerRelease(e,i+this.toSeconds(n));return this},t.PolySynth.prototype.triggerRelease=function(t,e){Array.isArray(t)||(t=[t]),e=this.toSeconds(e);for(var n=0;n<t.length;n++)for(var i=JSON.stringify(t[n]),r=0;r<this._triggers.length;r++){var o=this._triggers[r];o.note===i&&o.release>e&&(o.voice.triggerRelease(e),o.release=e)}return this},t.PolySynth.prototype.set=function(t,e,n){for(var i=0;i<this.voices.length;i++)this.voices[i].set(t,e,n);return this},t.PolySynth.prototype.get=function(t){return this.voices[0].get(t)},t.PolySynth.prototype.releaseAll=function(t){t=this.toSeconds(t);for(var e=0;e<this._triggers.length;e++){var n=this._triggers[e];n.release>t&&(n.release=t,n.voice.triggerRelease(t))}return this},t.PolySynth.prototype.dispose=function(){t.Instrument.prototype.dispose.call(this);for(var e=0;e<this.voices.length;e++)this.voices[e].dispose(),this.voices[e]=null;return this._writable("detune"),this.detune.dispose(),this.detune=null,this.voices=null,this._triggers=null,this},t.PolySynth.MAX_POLYPHONY=20,t.PolySynth}),e(function(t){return t.Sampler=function(e){var n=Array.prototype.slice.call(arguments);n.shift();var i=t.defaults(n,["onload","baseUrl"],t.Sampler);t.Instrument.call(this,i);var r={};for(var o in e)if(t.isNote(o)){var s=t.Frequency(o).toMidi();r[s]=e[o]}else{if(isNaN(parseFloat(o)))throw new Error("Tone.Sampler: url keys must be the note's pitch");r[o]=e[o]}this._buffers=new t.Buffers(r,i.onload,i.baseUrl),this._activeSources={},this.attack=i.attack,this.release=i.release},t.extend(t.Sampler,t.Instrument),t.Sampler.defaults={attack:0,release:.1,onload:t.noOp,baseUrl:""},t.Sampler.prototype._findClosest=function(t){for(var e=24,n=0;e>n;){if(this._buffers.has(t+n))return-n;if(this._buffers.has(t-n))return n;n++}return null},t.Sampler.prototype.triggerAttack=function(e,n,i){var r=t.Frequency(e).toMidi(),o=this._findClosest(r);if(null!==o){var s=r-o,a=this._buffers.get(s),l=new t.BufferSource({buffer:a,playbackRate:t.intervalToFrequencyRatio(o),fadeIn:this.attack,fadeOut:this.release,curve:"exponential"}).connect(this.output);l.start(n,0,a.duration,i),t.isArray(this._activeSources[r])||(this._activeSources[r]=[]),this._activeSources[r].push({note:r,source:l})}return this},t.Sampler.prototype.triggerRelease=function(e,n){var i=t.Frequency(e).toMidi();if(this._activeSources[i]&&this._activeSources[i].length){var r=this._activeSources[i].shift().source;n=this.toSeconds(n),r.stop(n+this.release,this.release)}},t.Sampler.prototype.triggerAttackRelease=function(t,e,n,i){return n=this.toSeconds(n),e=this.toSeconds(e),this.triggerAttack(t,n,i),this.triggerRelease(t,n+e),this},t.Sampler.prototype.add=function(e,n,i){if(t.isNote(e)){var r=t.Frequency(e).toMidi();this._buffers.add(r,n,i)}else{if(isNaN(parseFloat(e)))throw new Error("Tone.Sampler: note must be the note's pitch. Instead got "+e);this._buffers.add(e,n,i)}},Object.defineProperty(t.Sampler.prototype,"loaded",{get:function(){return this._buffers.loaded}}),t.Sampler.prototype.dispose=function(){t.Instrument.prototype.dispose.call(this),this._buffers.dispose(),this._buffers=null;for(var e in this._activeSources)this._activeSources[e].forEach(function(t){t.source.dispose()});return this._activeSources=null,this},t.Sampler}),e(function(t){return t.GainToAudio=function(){t.SignalBase.call(this),this._norm=this.input=this.output=new t.WaveShaper(function(t){return 2*Math.abs(t)-1})},t.extend(t.GainToAudio,t.SignalBase),t.GainToAudio.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},t.GainToAudio}),e(function(t){return t.Normalize=function(e,n){t.SignalBase.call(this),this._inputMin=t.defaultArg(e,0),this._inputMax=t.defaultArg(n,1),this._sub=this.input=new t.Add(0),this._div=this.output=new t.Multiply(1),this._sub.connect(this._div),this._setRange()},t.extend(t.Normalize,t.SignalBase),Object.defineProperty(t.Normalize.prototype,"min",{get:function(){return this._inputMin},set:function(t){this._inputMin=t,this._setRange()}}),Object.defineProperty(t.Normalize.prototype,"max",{get:function(){return this._inputMax},set:function(t){this._inputMax=t,this._setRange()}}),t.Normalize.prototype._setRange=function(){this._sub.value=-this._inputMin,this._div.value=1/(this._inputMax-this._inputMin)},t.Normalize.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._sub.dispose(),this._sub=null,this._div.dispose(),this._div=null,this},t.Normalize}),e(function(t){return t.TransportTimelineSignal=function(){t.TimelineSignal.apply(this,arguments),this.output=this._outputSig=new t.Signal(this._initial),this._lastVal=this.value,this._synced=t.Transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._bindAnchorValue=this._anchorValue.bind(this),t.Transport.on("start stop pause",this._bindAnchorValue),this._events.memory=1/0},t.extend(t.TransportTimelineSignal,t.TimelineSignal),t.TransportTimelineSignal.prototype._onTick=function(e){var n=this.getValueAtTime(t.Transport.seconds);this._lastVal!==n&&(this._lastVal=n,this._outputSig.linearRampToValueAtTime(n,e))},t.TransportTimelineSignal.prototype._anchorValue=function(e){var n=this.getValueAtTime(t.Transport.ticks);return this._lastVal=n,this._outputSig.cancelScheduledValues(e),this._outputSig.setValueAtTime(n,e),this},t.TransportTimelineSignal.prototype.getValueAtTime=function(e){return e=this.toTicks(e),t.TimelineSignal.prototype.getValueAtTime.call(this,e)},t.TransportTimelineSignal.prototype.setValueAtTime=function(e,n){return n=this.toTicks(n),t.TimelineSignal.prototype.setValueAtTime.call(this,e,n),this},t.TransportTimelineSignal.prototype.linearRampToValueAtTime=function(e,n){return n=this.toTicks(n),t.TimelineSignal.prototype.linearRampToValueAtTime.call(this,e,n),this},t.TransportTimelineSignal.prototype.exponentialRampToValueAtTime=function(e,n){return n=this.toTicks(n),t.TimelineSignal.prototype.exponentialRampToValueAtTime.call(this,e,n),this},t.TransportTimelineSignal.prototype.setTargetAtTime=function(e,n,i){return n=this.toTicks(n),t.TimelineSignal.prototype.setTargetAtTime.call(this,e,n,i),this},t.TransportTimelineSignal.prototype.cancelScheduledValues=function(e){return e=this.toTicks(e),t.TimelineSignal.prototype.cancelScheduledValues.call(this,e),this},t.TransportTimelineSignal.prototype.setValueCurveAtTime=function(e,n,i,r){return n=this.toTicks(n),i=this.toTicks(i),t.TimelineSignal.prototype.setValueCurveAtTime.call(this,e,n,i,r),this},t.TransportTimelineSignal.prototype.dispose=function(){t.Transport.clear(this._synced),t.Transport.off("start stop pause",this._syncedCallback),this._events.cancel(0),t.TimelineSignal.prototype.dispose.call(this),this._outputSig.dispose(),this._outputSig=null},t.TransportTimelineSignal}),e(function(t){return t.MultiPlayer=function(e){console.warn("Tone.MultiPlayer is deprecated. Use Tone.Players instead."),1!==arguments.length||t.isUndef(arguments[0])||arguments[0].hasOwnProperty("urls")||(e={urls:e});var n=t.defaults(arguments,["urls","onload"],t.MultiPlayer);t.Source.call(this,n),this.buffers=n.urls instanceof t.Buffers?n.urls:new t.Buffers(n.urls,n.onload),this._activeSources={},this.fadeIn=n.fadeIn,this.fadeOut=n.fadeOut},t.extend(t.MultiPlayer,t.Source),t.MultiPlayer.defaults={onload:t.noOp,fadeIn:0,fadeOut:0},t.MultiPlayer.prototype._makeSource=function(e){var n;t.isString(e)||t.isNumber(e)?n=this.buffers.get(e).get():e instanceof t.Buffer?n=e.get():e instanceof AudioBuffer&&(n=e);var i=new t.BufferSource(n).connect(this.output);return this._activeSources.hasOwnProperty(e)||(this._activeSources[e]=[]),this._activeSources[e].push(i),i},t.MultiPlayer.prototype.start=function(e,n,i,r,o,s){n=this.toSeconds(n);var a=this._makeSource(e);return a.start(n,i,r,t.defaultArg(s,1),this.fadeIn),r&&a.stop(n+this.toSeconds(r),this.fadeOut),o=t.defaultArg(o,0),a.playbackRate.value=t.intervalToFrequencyRatio(o),this},t.MultiPlayer.prototype.startLoop=function(e,n,i,r,o,s,a){n=this.toSeconds(n);var l=this._makeSource(e);return l.loop=!0,l.loopStart=this.toSeconds(t.defaultArg(r,0)),l.loopEnd=this.toSeconds(t.defaultArg(o,0)),l.start(n,i,void 0,t.defaultArg(a,1),this.fadeIn),s=t.defaultArg(s,0),l.playbackRate.value=t.intervalToFrequencyRatio(s),this},t.MultiPlayer.prototype.stop=function(t,e){if(!this._activeSources[t]||!this._activeSources[t].length)throw new Error("Tone.MultiPlayer: cannot stop a buffer that hasn't been started or is already stopped");return e=this.toSeconds(e),this._activeSources[t].shift().stop(e,this.fadeOut),this},t.MultiPlayer.prototype.stopAll=function(t){t=this.toSeconds(t);for(var e in this._activeSources)for(var n=this._activeSources[e],i=0;i<n.length;i++)n[i].stop(t);return this},t.MultiPlayer.prototype.add=function(t,e,n){return this.buffers.add(t,e,n),this},Object.defineProperty(t.MultiPlayer.prototype,"state",{get:function(){return this._activeSources.length>0?t.State.Started:t.State.Stopped}}),Object.defineProperty(t.MultiPlayer.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),t.MultiPlayer.prototype.dispose=function(){t.Source.prototype.dispose.call(this);for(var e in this._activeSources)this._activeSources[e].forEach(function(t){t.dispose()});return this.buffers.dispose(),this.buffers=null,this._activeSources=null,this},t.MultiPlayer}),e(function(t){return t.GrainPlayer=function(){var e=t.defaults(arguments,["url","onload"],t.GrainPlayer);t.Source.call(this,e),this.buffer=new t.Buffer(e.url,e.onload),this._clock=new t.Clock(this._tick.bind(this),e.grainSize),this._loopStart=0,this._loopEnd=0,this._activeSources=[],this._playbackRate=e.playbackRate,this._grainSize=e.grainSize,this._overlap=e.overlap,this.detune=e.detune,this.overlap=e.overlap,this.loop=e.loop,this.playbackRate=e.playbackRate,this.grainSize=e.grainSize,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.reverse=e.reverse,this._clock.on("stop",this._onstop.bind(this))},t.extend(t.GrainPlayer,t.Source),t.GrainPlayer.defaults={onload:t.noOp,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1},t.GrainPlayer.prototype._start=function(e,n,i){n=t.defaultArg(n,0),n=this.toSeconds(n),e=this.toSeconds(e),this._offset=n,this._clock.start(e),i&&this.stop(e+this.toSeconds(i))},t.GrainPlayer.prototype._stop=function(t){this._clock.stop(t)},t.GrainPlayer.prototype._onstop=function(t){this._activeSources.forEach(function(e){e.stop(t,0)})},t.GrainPlayer.prototype._tick=function(e){var n=this._offset<this._overlap?0:this._overlap,i=new t.BufferSource({buffer:this.buffer,fadeIn:n,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:t.intervalToFrequencyRatio(this.detune/100)}).connect(this.output);i.start(e,this._offset),this._offset+=this.grainSize,i.stop(e+this.grainSize),this._activeSources.push(i),i.onended=function(){var t=this._activeSources.indexOf(i);-1!==t&&this._activeSources.splice(t,1)}.bind(this)},t.GrainPlayer.prototype.seek=function(t,e){return this._offset=this.toSeconds(t),this._tick(this.toSeconds(e)),this},Object.defineProperty(t.GrainPlayer.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this.grainSize=this._grainSize}}),Object.defineProperty(t.GrainPlayer.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=this.toSeconds(t)}}),Object.defineProperty(t.GrainPlayer.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=this.toSeconds(t)}}),Object.defineProperty(t.GrainPlayer.prototype,"reverse",{get:function(){return this.buffer.reverse},set:function(t){this.buffer.reverse=t}}),Object.defineProperty(t.GrainPlayer.prototype,"grainSize",{get:function(){return this._grainSize},set:function(t){this._grainSize=this.toSeconds(t),this._clock.frequency.value=this._playbackRate/this._grainSize}}),Object.defineProperty(t.GrainPlayer.prototype,"overlap",{get:function(){return this._overlap},set:function(t){this._overlap=this.toSeconds(t)}}),t.GrainPlayer.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this.buffer.dispose(),this.buffer=null,this._clock.dispose(),this._clock=null,this._activeSources.forEach(function(t){t.dispose()}),this._activeSources=null,this},t.GrainPlayer}),e(function(t){return t.Player=function(e){var n;e instanceof t.Buffer?(e=e.get(),n=t.Player.defaults):n=t.defaults(arguments,["url","onload"],t.Player),t.Source.call(this,n),this._source=null,this.autostart=n.autostart,this._buffer=new t.Buffer({url:n.url,onload:this._onload.bind(this,n.onload),reverse:n.reverse}),e instanceof AudioBuffer&&this._buffer.set(e),this._loop=n.loop,this._loopStart=n.loopStart,this._loopEnd=n.loopEnd,this._playbackRate=n.playbackRate,this.retrigger=n.retrigger,this.fadeIn=n.fadeIn,this.fadeOut=n.fadeOut},t.extend(t.Player,t.Source),t.Player.defaults={onload:t.noOp,playbackRate:1,loop:!1,autostart:!1,loopStart:0,loopEnd:0,retrigger:!1,reverse:!1,fadeIn:0,fadeOut:0},t.Player.prototype.load=function(t,e){return this._buffer.load(t,this._onload.bind(this,e))},t.Player.prototype._onload=function(e){e=t.defaultArg(e,t.noOp),e(this),this.autostart&&this.start()},t.Player.prototype._start=function(e,n,i){return n=this._loop?t.defaultArg(n,this._loopStart):t.defaultArg(n,0),n=this.toSeconds(n),i=t.defaultArg(i,Math.max(this._buffer.duration-n,0)),i=this.toSeconds(i),e=this.toSeconds(e),this._source=new t.BufferSource({buffer:this._buffer,loop:this._loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:this._playbackRate,fadeIn:this.fadeIn,fadeOut:this.fadeOut}).connect(this.output),this._loop||this._synced||this._state.setStateAtTime(t.State.Stopped,e+i),this._loop?this._source.start(e,n):this._source.start(e,n,i),this},t.Player.prototype._stop=function(t){return this._source&&this._source.stop(this.toSeconds(t)),this},t.Player.prototype.seek=function(e,n){return n=this.toSeconds(n),this._state.getValueAtTime(n)===t.State.Started&&(e=this.toSeconds(e),this._stop(n),this._start(n,e)),this},t.Player.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(t.Player.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=t,this._source&&(this._source.loopStart=this.toSeconds(t))}}),Object.defineProperty(t.Player.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=t,this._source&&(this._source.loopEnd=this.toSeconds(t))}}),Object.defineProperty(t.Player.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(t.Player.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._source&&(this._source.loop=t)}}),Object.defineProperty(t.Player.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}}),Object.defineProperty(t.Player.prototype,"reverse",{get:function(){return this._buffer.reverse},set:function(t){this._buffer.reverse=t}}),Object.defineProperty(t.Player.prototype,"loaded",{get:function(){return this._buffer.loaded}}),t.Player.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),null!==this._source&&(this._source.disconnect(),this._source=null),this._buffer.dispose(),this._buffer=null,this},t.Player}),e(function(t){return t.Players=function(e){var n=Array.prototype.slice.call(arguments);n.shift();var i=t.defaults(n,["onload"],t.Players);t.call(this),this._volume=this.output=new t.Volume(i.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=i.mute,this._players={},this._loadingCount=0,this._fadeIn=i.fadeIn,this._fadeOut=i.fadeOut;for(var r in e)this._loadingCount++,this.add(r,e[r],this._bufferLoaded.bind(this,i.onload))},t.extend(t.Players,t.AudioNode),t.Players.defaults={volume:0,mute:!1,onload:t.noOp,fadeIn:0,fadeOut:0},t.Players.prototype._bufferLoaded=function(t){this._loadingCount--,0===this._loadingCount&&t&&t(this)},Object.defineProperty(t.Players.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),Object.defineProperty(t.Players.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=t,this._forEach(function(e){e.fadeIn=t})}}),Object.defineProperty(t.Players.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=t,this._forEach(function(e){e.fadeOut=t})}}),Object.defineProperty(t.Players.prototype,"state",{get:function(){var e=!1;return this._forEach(function(n){e=e||n.state===t.State.Started}),e?t.State.Started:t.State.Stopped}}),t.Players.prototype.has=function(t){return this._players.hasOwnProperty(t)},t.Players.prototype.get=function(t){if(this.has(t))return this._players[t];throw new Error("Tone.Players: no player named "+t)},t.Players.prototype._forEach=function(t){for(var e in this._players)t(this._players[e],e);return this},Object.defineProperty(t.Players.prototype,"loaded",{get:function(){var t=!0;return this._forEach(function(e){t=t&&e.loaded}),t}}),t.Players.prototype.add=function(e,n,i){return this._players[e]=new t.Player(n,i).connect(this.output),this._players[e].fadeIn=this._fadeIn,this._players[e].fadeOut=this._fadeOut,this},t.Players.prototype.stopAll=function(t){this._forEach(function(e){e.stop(t)})},t.Players.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable("volume"),this.volume=null,this.output=null,this._forEach(function(t){t.dispose()}),this._players=null,this},t.Players}),e(function(t){return t.UserMedia=function(){var e=t.defaults(arguments,["volume"],t.UserMedia);t.AudioNode.call(this),this._mediaStream=null,this._stream=null,this._device=null,this._volume=this.output=new t.Volume(e.volume),this.volume=this._volume.volume,this._readOnly("volume"),this.mute=e.mute},t.extend(t.UserMedia,t.AudioNode),t.UserMedia.defaults={volume:0,mute:!1},t.UserMedia.prototype.open=function(e){return e=t.defaultArg(e,"default"),t.UserMedia.enumerateDevices().then(function(n){var i;if(t.isNumber(e))i=n[e];else if(i=n.find(function(t){return t.label===e||t.deviceId===e}),!i)throw new Error("Tone.UserMedia: no matching device: "+e);this._device=i;var r={audio:{deviceId:i.deviceId,echoCancellation:!1,sampleRate:this.context.sampleRate}};return navigator.mediaDevices.getUserMedia(r).then(function(t){return this._stream||(this._stream=t,this._mediaStream=this.context.createMediaStreamSource(t),this._mediaStream.connect(this.output)),this}.bind(this))}.bind(this))},t.UserMedia.prototype.close=function(){return this._stream&&(this._stream.getAudioTracks().forEach(function(t){t.stop()}),this._stream=null,this._mediaStream.disconnect(),this._mediaStream=null),this._device=null,this},t.UserMedia.enumerateDevices=function(){return navigator.mediaDevices.enumerateDevices().then(function(t){return t.filter(function(t){return"audioinput"===t.kind})})},Object.defineProperty(t.UserMedia.prototype,"state",{get:function(){return this._stream&&this._stream.active?t.State.Started:t.State.Stopped}}),Object.defineProperty(t.UserMedia.prototype,"deviceId",{get:function(){return this._device?this._device.deviceId:void 0}}),Object.defineProperty(t.UserMedia.prototype,"groupId",{get:function(){return this._device?this._device.groupId:void 0}}),Object.defineProperty(t.UserMedia.prototype,"label",{get:function(){return this._device?this._device.label:void 0}}),Object.defineProperty(t.UserMedia.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),t.UserMedia.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this.close(),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this},Object.defineProperty(t.UserMedia,"supported",{get:function(){return!t.isUndef(navigator.mediaDevices)&&t.isFunction(navigator.mediaDevices.getUserMedia)}}),t.UserMedia}),n})},{}],89:[function(t,e,n){(function(){function t(t){function e(e,n,i,r,o,s){for(;o>=0&&s>o;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=b(i,o,4);var s=!C(n)&&A.keys(n),a=(s||n).length,l=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[l]:l],l+=t),e(n,i,r,s,l,a)}}function i(t){return function(e,n,i){n=x(n,i);for(var r=M(e),o=t>0?0:r-1;o>=0&&r>o;o+=t)if(n(e[o],o,e))return o;return-1}}function r(t,e,n){return function(i,r,o){var s=0,a=M(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(p.call(i,s,a),A.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&a>o;o+=t)if(i[o]===r)return o;return-1}}function o(t,e){var n=N.length,i=t.constructor,r=A.isFunction(i)&&i.prototype||u,o="constructor";for(A.has(t,o)&&!A.contains(e,o)&&e.push(o);n--;)o=N[n],o in t&&t[o]!==r[o]&&!A.contains(e,o)&&e.push(o)}var s=this,a=s._,l=Array.prototype,u=Object.prototype,h=Function.prototype,c=l.push,p=l.slice,d=u.toString,f=u.hasOwnProperty,m=Array.isArray,g=Object.keys,v=h.bind,y=Object.create,_=function(){},A=function(t){return t instanceof A?t:this instanceof A?void(this._wrapped=t):new A(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=A),n._=A):s._=A,A.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},x=function(t,e,n){return null==t?A.identity:A.isFunction(t)?b(t,e,n):A.isObject(t)?A.matcher(t):A.property(t)};A.iteratee=function(t,e){return x(t,e,1/0)};var w=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;a>l;l++){var u=s[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}},T=function(t){if(!A.isObject(t))return{};if(y)return y(t);_.prototype=t;var e=new _;return _.prototype=null,e},E=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,M=E("length"),C=function(t){var e=M(t);return"number"==typeof e&&e>=0&&S>=e};A.each=A.forEach=function(t,e,n){e=b(e,n);var i,r;if(C(t))for(i=0,r=t.length;r>i;i++)e(t[i],i,t);else{var o=A.keys(t);for(i=0,r=o.length;r>i;i++)e(t[o[i]],o[i],t)}return t},A.map=A.collect=function(t,e,n){e=x(e,n);for(var i=!C(t)&&A.keys(t),r=(i||t).length,o=Array(r),s=0;r>s;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},A.reduce=A.foldl=A.inject=t(1),A.reduceRight=A.foldr=t(-1),A.find=A.detect=function(t,e,n){var i;return i=C(t)?A.findIndex(t,e,n):A.findKey(t,e,n),void 0!==i&&-1!==i?t[i]:void 0},A.filter=A.select=function(t,e,n){var i=[];return e=x(e,n),A.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},A.reject=function(t,e,n){return A.filter(t,A.negate(x(e)),n)},A.every=A.all=function(t,e,n){e=x(e,n);for(var i=!C(t)&&A.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},A.some=A.any=function(t,e,n){e=x(e,n);for(var i=!C(t)&&A.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},A.contains=A.includes=A.include=function(t,e,n,i){return C(t)||(t=A.values(t)),("number"!=typeof n||i)&&(n=0),A.indexOf(t,e,n)>=0},A.invoke=function(t,e){var n=p.call(arguments,2),i=A.isFunction(e);return A.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},A.pluck=function(t,e){return A.map(t,A.property(e))},A.where=function(t,e){return A.filter(t,A.matcher(e))},A.findWhere=function(t,e){return A.find(t,A.matcher(e))},A.max=function(t,e,n){var i,r,o=-(1/0),s=-(1/0);if(null==e&&null!=t){t=C(t)?t:A.values(t);for(var a=0,l=t.length;l>a;a++)i=t[a],i>o&&(o=i)}else e=x(e,n),A.each(t,function(t,n,i){r=e(t,n,i),(r>s||r===-(1/0)&&o===-(1/0))&&(o=t,s=r)});return o},A.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t){t=C(t)?t:A.values(t);for(var a=0,l=t.length;l>a;a++)i=t[a],
o>i&&(o=i)}else e=x(e,n),A.each(t,function(t,n,i){r=e(t,n,i),(s>r||r===1/0&&o===1/0)&&(o=t,s=r)});return o},A.shuffle=function(t){for(var e,n=C(t)?t:A.values(t),i=n.length,r=Array(i),o=0;i>o;o++)e=A.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},A.sample=function(t,e,n){return null==e||n?(C(t)||(t=A.values(t)),t[A.random(t.length-1)]):A.shuffle(t).slice(0,Math.max(0,e))},A.sortBy=function(t,e,n){return e=x(e,n),A.pluck(A.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var P=function(t){return function(e,n,i){var r={};return n=x(n,i),A.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};A.groupBy=P(function(t,e,n){A.has(t,n)?t[n].push(e):t[n]=[e]}),A.indexBy=P(function(t,e,n){t[n]=e}),A.countBy=P(function(t,e,n){A.has(t,n)?t[n]++:t[n]=1}),A.toArray=function(t){return t?A.isArray(t)?p.call(t):C(t)?A.map(t,A.identity):A.values(t):[]},A.size=function(t){return null==t?0:C(t)?t.length:A.keys(t).length},A.partition=function(t,e,n){e=x(e,n);var i=[],r=[];return A.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},A.first=A.head=A.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:A.initial(t,t.length-e)},A.initial=function(t,e,n){return p.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},A.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:A.rest(t,Math.max(0,t.length-e))},A.rest=A.tail=A.drop=function(t,e,n){return p.call(t,null==e||n?1:e)},A.compact=function(t){return A.filter(t,A.identity)};var R=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=M(t);a>s;s++){var l=t[s];if(C(l)&&(A.isArray(l)||A.isArguments(l))){e||(l=R(l,e,n));var u=0,h=l.length;for(r.length+=h;h>u;)r[o++]=l[u++]}else n||(r[o++]=l)}return r};A.flatten=function(t,e){return R(t,e,!1)},A.without=function(t){return A.difference(t,p.call(arguments,1))},A.uniq=A.unique=function(t,e,n,i){A.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=x(n,i));for(var r=[],o=[],s=0,a=M(t);a>s;s++){var l=t[s],u=n?n(l,s,t):l;e?(s&&o===u||r.push(l),o=u):n?A.contains(o,u)||(o.push(u),r.push(l)):A.contains(r,l)||r.push(l)}return r},A.union=function(){return A.uniq(R(arguments,!0,!0))},A.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=M(t);r>i;i++){var o=t[i];if(!A.contains(e,o)){for(var s=1;n>s&&A.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},A.difference=function(t){var e=R(arguments,!0,!0,1);return A.filter(t,function(t){return!A.contains(e,t)})},A.zip=function(){return A.unzip(arguments)},A.unzip=function(t){for(var e=t&&A.max(t,M).length||0,n=Array(e),i=0;e>i;i++)n[i]=A.pluck(t,i);return n},A.object=function(t,e){for(var n={},i=0,r=M(t);r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},A.findIndex=i(1),A.findLastIndex=i(-1),A.sortedIndex=function(t,e,n,i){n=x(n,i,1);for(var r=n(e),o=0,s=M(t);s>o;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},A.indexOf=r(1,A.findIndex,A.sortedIndex),A.lastIndexOf=r(-1,A.findLastIndex),A.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;i>o;o++,t+=n)r[o]=t;return r};var O=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=T(t.prototype),s=t.apply(o,r);return A.isObject(s)?s:o};A.bind=function(t,e){if(v&&t.bind===v)return v.apply(t,p.call(arguments,1));if(!A.isFunction(t))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),i=function(){return O(t,i,e,this,n.concat(p.call(arguments)))};return i},A.partial=function(t){var e=p.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;r>s;s++)o[s]=e[s]===A?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return O(t,n,this,this,o)};return n},A.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=A.bind(t[n],t);return t},A.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return A.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},A.delay=function(t,e){var n=p.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},A.defer=A.partial(A.delay,A,1),A.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:A.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var u=A.now();a||n.leading!==!1||(a=u);var h=e-(u-a);return i=this,r=arguments,0>=h||h>e?(s&&(clearTimeout(s),s=null),a=u,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(l,h)),o}},A.debounce=function(t,e,n){var i,r,o,s,a,l=function(){var u=A.now()-s;e>u&&u>=0?i=setTimeout(l,e-u):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=A.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(a=t.apply(o,r),o=r=null),a}},A.wrap=function(t,e){return A.partial(e,t)},A.negate=function(t){return function(){return!t.apply(this,arguments)}},A.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},A.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},A.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},A.once=A.partial(A.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];A.keys=function(t){if(!A.isObject(t))return[];if(g)return g(t);var e=[];for(var n in t)A.has(t,n)&&e.push(n);return L&&o(t,e),e},A.allKeys=function(t){if(!A.isObject(t))return[];var e=[];for(var n in t)e.push(n);return L&&o(t,e),e},A.values=function(t){for(var e=A.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},A.mapObject=function(t,e,n){e=x(e,n);for(var i,r=A.keys(t),o=r.length,s={},a=0;o>a;a++)i=r[a],s[i]=e(t[i],i,t);return s},A.pairs=function(t){for(var e=A.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},A.invert=function(t){for(var e={},n=A.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},A.functions=A.methods=function(t){var e=[];for(var n in t)A.isFunction(t[n])&&e.push(n);return e.sort()},A.extend=w(A.allKeys),A.extendOwn=A.assign=w(A.keys),A.findKey=function(t,e,n){e=x(e,n);for(var i,r=A.keys(t),o=0,s=r.length;s>o;o++)if(i=r[o],e(t[i],i,t))return i},A.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;A.isFunction(e)?(r=A.allKeys(s),i=b(e,n)):(r=R(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=r.length;l>a;a++){var u=r[a],h=s[u];i(h,u,s)&&(o[u]=h)}return o},A.omit=function(t,e,n){if(A.isFunction(e))e=A.negate(e);else{var i=A.map(R(arguments,!1,!1,1),String);e=function(t,e){return!A.contains(i,e)}}return A.pick(t,e,n)},A.defaults=w(A.allKeys,!0),A.create=function(t,e){var n=T(t);return e&&A.extendOwn(n,e),n},A.clone=function(t){return A.isObject(t)?A.isArray(t)?t.slice():A.extend({},t):t},A.tap=function(t,e){return e(t),t},A.isMatch=function(t,e){var n=A.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;i>o;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var I=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof A&&(t=t._wrapped),e instanceof A&&(e=e._wrapped);var r=d.call(t);if(r!==d.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(A.isFunction(s)&&s instanceof s&&A.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!I(t[l],e[l],n,i))return!1}else{var u,h=A.keys(t);if(l=h.length,A.keys(e).length!==l)return!1;for(;l--;)if(u=h[l],!A.has(e,u)||!I(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0};A.isEqual=function(t,e){return I(t,e)},A.isEmpty=function(t){return null==t?!0:C(t)&&(A.isArray(t)||A.isString(t)||A.isArguments(t))?0===t.length:0===A.keys(t).length},A.isElement=function(t){return!(!t||1!==t.nodeType)},A.isArray=m||function(t){return"[object Array]"===d.call(t)},A.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},A.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){A["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),A.isArguments(arguments)||(A.isArguments=function(t){return A.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(A.isFunction=function(t){return"function"==typeof t||!1}),A.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},A.isNaN=function(t){return A.isNumber(t)&&t!==+t},A.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===d.call(t)},A.isNull=function(t){return null===t},A.isUndefined=function(t){return void 0===t},A.has=function(t,e){return null!=t&&f.call(t,e)},A.noConflict=function(){return s._=a,this},A.identity=function(t){return t},A.constant=function(t){return function(){return t}},A.noop=function(){},A.property=E,A.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},A.matcher=A.matches=function(t){return t=A.extendOwn({},t),function(e){return A.isMatch(e,t)}},A.times=function(t,e,n){var i=Array(Math.max(0,t));e=b(e,n,1);for(var r=0;t>r;r++)i[r]=e(r);return i},A.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},A.now=Date.now||function(){return(new Date).getTime()};var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=A.invert(k),F=function(t){var e=function(e){return t[e]},n="(?:"+A.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};A.escape=F(k),A.unescape=F(D),A.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),A.isFunction(i)?i.call(t):i};var B=0;A.uniqueId=function(t){var e=++B+"";return t?t+e:e},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,H=function(t){return"\\"+V[t]};A.template=function(t,e,n){!e&&n&&(e=n),e=A.defaults({},e,A.templateSettings);var i=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace(G,H),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(a){throw a.source=o,a}var l=function(t){return s.call(this,t,A)},u=e.variable||"obj";return l.source="function("+u+"){\n"+o+"}",l},A.chain=function(t){var e=A(t);return e._chain=!0,e};var z=function(t,e){return t._chain?A(e).chain():e};A.mixin=function(t){A.each(A.functions(t),function(e){var n=A[e]=t[e];A.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),z(this,n.apply(A,t))}})},A.mixin(A),A.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=l[t];A.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],z(this,n)}}),A.each(["concat","join","slice"],function(t){var e=l[t];A.prototype[t]=function(){return z(this,e.apply(this._wrapped,arguments))}}),A.prototype.value=function(){return this._wrapped},A.prototype.valueOf=A.prototype.toJSON=A.prototype.value,A.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return A})}).call(this)},{}],90:[function(t,e,n){function i(){if(!(this instanceof i))return new i;var t=this;r.call(this),this.supported=!!l,this.supported?document.addEventListener(a,function(){var e=!document[l];t.emit("change",e),t.emit(e?"show":"hide")},!1):(document.addEventListener("focusout",function(){t.emit("change",!1),t.emit("hide"),s=!1},!1),document.addEventListener("focusin",function(){t.emit("change",!0),t.emit("show"),s=!0},!1)),window.addEventListener("unload",function(){t.emit("exit")},!1)}var r=t("events").EventEmitter,o=t("inherits"),s=!0,a=null,l=null;e.exports=i,"undefined"!=typeof document.hidden?(l="hidden",a="visibilitychange"):"undefined"!=typeof document.mozHidden?(l="mozHidden",a="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden?(l="webkitHidden",a="webkitvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(l="webkitHidden",a="webkitvisibilitychange"),o(i,r),i.prototype.hidden=function(){return this.supported?!!document[l]:!s},i.prototype.visible=function(){return this.supported?!document[l]:s}},{events:72,inherits:77}],91:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){for(var n=[],i=Math.PI*(3-Math.sqrt(5)),r=0,o=0,s=0,a=0,l=0,u=0;t>u;u++){var h=2/t,c=new THREE.Vector3;o=u*h-1+h/2,a=Math.sqrt(1-o*o),l=u*i,r=Math.cos(l)*a,s=Math.sin(l)*a,r*=e,o*=e,s*=e,c.x=r,c.y=o,c.z=s,n.push(c)}return n}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=t("./../../lib/app"),h=(i(u),t("underscore")),c=(i(h),t("glslify")),p=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=t.radius||60,i=t.density||500,s=new THREE.BufferGeometry,l=new Float32Array(3*i),u=new Float32Array(i),h=(new THREE.Vector3,new THREE.Spherical);h.radius=n;var p=a(i,n);p.forEach(function(t,e){t.toArray(l,3*e)});for(var d=0;i>d;d++)u[d]=d%2===0?1:0;s.addAttribute("position",new THREE.BufferAttribute(l,3)),s.addAttribute("uvIndex",new THREE.BufferAttribute(u,1));var f=new THREE.RawShaderMaterial({uniforms:{map:{value:t.map},opacity:{value:0}},vertexShader:c(["#define GLSLIFY 1\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nattribute vec3 position;\nattribute float uvIndex;\nvarying float offset;\n\n// #ifdef USE_FOG\n//   varying float fogDepth;\n// #endif\n\nvoid main() {\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    gl_PointSize = 32.0;\n    offset = uvIndex * 0.5;\n\n    // vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n    // gl_PointSize = 32.0 * (1.0 / length( mvPosition.xyz));\n    // gl_Position = projectionMatrix * mvPosition;\n\n    // #ifdef USE_FOG\n    //     fogDepth = -mvPosition.z;\n    // #endif\n}"]),fragmentShader:c(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D map;\nuniform float opacity;\nvarying float offset;\n\n// #ifdef USE_FOG\n//     uniform vec3 fogColor;\n//     varying float fogDepth;\n//     uniform float fogDensity;\n// #endif\n\n// #define saturate(a) clamp( a, 0.0, 1.0 )\n// #define whiteCompliment(a) ( 1.0 - saturate( a ) )\n\nvoid main() {\n    gl_FragColor = texture2D(map, gl_PointCoord * vec2(1.0, -0.5) + vec2(0.0, offset + 0.5));\n    // gl_FragColor = texture2D(map, gl_PointCoord * vec2(1.0, -0.5) + vec2(0.0, offset));\n    gl_FragColor.a *= opacity;\n\n    // #ifdef USE_FOG\n    //     float fogFactor = whiteCompliment(exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2));\n    //     gl_FragColor.rgb = mix(gl_FragColor.rgb, fogColor, fogFactor);\n    // #endif\n}"]),transparent:!0});return o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,s,f))}return s(e,t),l(e,[{key:"opacity",set:function(t){this.material.uniforms.opacity.value=t},get:function(){return this.material.uniforms.opacity.value}}]),e}(THREE.Points);n["default"]=p},{"./../../lib/app":107,glslify:73,underscore:89}],92:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=t("./../../lib/app"),u=i(l),h=t("./../ground"),c=i(h),p=t("./../background-stars"),d=i(p),f=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new THREE.PlaneBufferGeometry(1,1),new THREE.MeshBasicMaterial({})));return n.ground=new c["default"]({aboutScene:t.aboutScene}),n.add(n.ground),n}return s(e,t),a(e,[{key:"addStars",value:function(){var t=new THREE.Texture(u["default"].assets.get("images/kanjis.png"));t.needsUpdate=!0,this.stars=new d["default"]({map:t}),this.add(this.stars)}}]),e}(THREE.Object3D);n["default"]=f},{"./../../lib/app":107,"./../background-stars":91,"./../ground":97}],93:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("./../../lib/app"),l=i(a),u=t("glslify"),h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{uniforms:{resolution:l["default"].uniforms.resolution,map:{value:t.map}},vertexShader:u(["#define GLSLIFY 1\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nattribute vec3 position;\nattribute vec2 uv;\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}"]),fragmentShader:u(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D map;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3333333333333333) * direction;\n  color += texture2D(image, uv) * 0.29411764705882354;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.35294117647058826;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.35294117647058826;\n  return color; \n}\n\nvoid main() {\n    vec4 blurX = blur5(map, vUv, resolution, vec2(2.0, 0.0));\n    vec4 blurY = blur5(map, vUv, resolution, vec2(0.0, 2.0));\n    gl_FragColor = mix(blurX, blurY, 0.5);\n}"])}))}return s(e,t),e}(THREE.RawShaderMaterial);n["default"]=h},{"./../../lib/app":107,glslify:73}],94:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=t("size"),u=i(l),h=t("glslify"),c=function(t){function e(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new THREE.PlaneBufferGeometry(1,1),new THREE.RawShaderMaterial({uniforms:{time:App.uniforms.time,opacity:{value:0},color:{value:new THREE.Color(16777215)},side:{value:30},borderRadius:{value:3},isHover:{value:0},isDown:{value:0}},vertexShader:h(["#define GLSLIFY 1\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nattribute vec3 position;\nattribute vec2 uv;\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}"]),fragmentShader:h(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 color;\nuniform float side;\nuniform float time;\nuniform float borderRadius;\nuniform float isHover;\nuniform float isDown;\nuniform float opacity;\nvarying vec2 vUv;\n\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nvoid main() {\n    float pixel = 1.0 / side;\n    float radius = side * 0.5;\n    float aa = 1.0 * pixel;\n    float dist = length(vUv - vec2(0.5));\n\n    dist += aa * snoise(2.0 * vUv + time * 0.0025) * isDown;\n\n    float outter = pixel * radius;\n    float border = pixel * (radius - borderRadius);\n    // float border = pixel * (radius - borderRadius) * (1.0 - isHover);\n\n    float circle = 1.0 - smoothstep(outter - aa * 2.0, outter - aa, dist);\n    circle *= smoothstep(border - aa * 2.0, border - aa, dist);\n\n    gl_FragColor = vec4(color, circle * opacity);\n}"]),depthWrite:!1,depthTest:!1,transparent:!0,blending:THREE.AdditiveBlending})));return t.renderOrder=10,t.baseScale=new THREE.Vector2(1,1),t.scale.set(t.baseScale.x,t.baseScale.y,1),TweenMax.to(t.material.uniforms.opacity,.6,{value:.7,delay:1}),t}return s(e,t),a(e,[{key:"onMonolithHover",value:function(){TweenMax.to(this.scale,.8,{x:1.5*this.baseScale.x,y:1.5*this.baseScale.y,ease:Elastic.easeOut.config(.6,.6)})}},{key:"onMonolithOut",value:function(){TweenMax.to(this.scale,.6,{x:this.baseScale.x,y:this.baseScale.y,ease:Elastic.easeOut.config(.6,.6)})}},{key:"onDown",value:function(){TweenMax.to(this.material.uniforms.isDown,.6,{value:1})}},{key:"onUp",value:function(){TweenMax.to(this.material.uniforms.isDown,.4,{value:0})}},{key:"resize",value:function(t,e){var n=t/e;this.baseScale.set(1/t*30,1/t*30*n),this.scale.set(this.baseScale.x,this.baseScale.y,1)}},{key:"update",value:function(t){this.position.x=t.x/u["default"].width-.5,this.position.y=-t.y/u["default"].height+.5}}]),e}(THREE.Mesh);n["default"]=c},{glslify:73,size:83}],95:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("underscore"),l=(i(a),t("./../../lib/app")),u=i(l),h=t("glslify"),c=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{uniforms:{time:u["default"].uniforms.time,mouse:u["default"].uniforms.mouse,maxDist:u["default"].uniforms.maxDist,matcapStrength:u["default"].uniforms.matcapStrength,viewVector:{value:t.viewVector},matcap:{value:t.matcap},opacity:{value:0}},vertexShader:h(["#define GLSLIFY 1\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat3 normalMatrix;\nattribute vec3 position;\nattribute vec3 normal;\nuniform float time;\nuniform vec3 viewVector;\nvarying vec3 e;\nvarying vec3 n;\nvarying float intensity;\nvarying vec3 vPosition;\n\nattribute vec2 uv;\n\n#define PI 3.14159265359\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nmat4 rotationMatrix(vec3 axis, float angle) {\n    axis = normalize(axis);\n    float s = sin(angle);\n    float c = cos(angle);\n    float oc = 1.0 - c;\n\n    return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n                oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n                oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n                0.0,                                0.0,                                0.0,                                1.0);\n}\n\nvec3 rotate(vec3 v, vec3 axis, float angle) {\n    mat4 m = rotationMatrix(axis, angle);\n    return (m * vec4(v, 1.0)).xyz;\n}\n\nvoid main() {\n    vec3 origin = (modelViewMatrix * vec4(vec3(0.0), 1.0)).xyz;\n    vec3 pos = position;\n    float nOrigin = snoise(origin + time * 0.001);\n    pos = rotate(position, vec3(time * 0.17, time * 0.23, time * 0.07), PI * 0.025 * sin(time * 0.00025));\n    // pos += vec3(sin(time * 0.17), sin(time * 0.23), sin(time * 0.07));\n    pos.y += sin(time * 0.0001) * 0.4;\n\n    // Matcap stuff\n    e = normalize(vec3(modelViewMatrix * vec4(pos, 1.0)));\n    n = normalize(normalMatrix * normal);\n\n    // Rim/inner light\n    vec3 vNormal = normalize(normalMatrix * normal);\n    vec3 vNormel = normalize(normalMatrix * viewVector);\n    intensity = pow(1.0 - dot(vNormal, vNormel), 5.0);\n\n    // pos = rotate(pos, position, PI * 2.0 * time * 0.0001);\n    // pos += snoise3(position + time * 0.0001);\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n    vPosition = pos;\n}"]),
fragmentShader:h(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec3 e;\nvarying vec3 n;\nuniform sampler2D matcap;\nuniform float opacity;\nuniform float time;\nuniform vec3 mouse;\nuniform float matcapStrength;\nuniform float maxDist;\nvarying float intensity;\nvarying vec3 vPosition;\n\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nfloat when_lt_1604150559(float x, float y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec2 when_lt_1604150559(vec2 x, vec2 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec3 when_lt_1604150559(vec3 x, vec3 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec4 when_lt_1604150559(vec4 x, vec4 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvoid main() {\n    // Rim/inner light colors\n    vec3 blue = vec3(0.0, 208.0, 255.0) / 255.0;\n    vec3 purple = vec3(106.0, 27.0, 242.0) / 255.0;\n\n    // Matcap\n    vec3 r = reflect(e, n);\n    float m = 2.0 * sqrt(pow(r.x, 2.0) + pow(r.y, 2.0) + pow(r.z + 1.0, 2.0));\n    vec2 vN = r.xy / m + 0.5;\n    vec3 base = texture2D(matcap, vN).rgb;\n    gl_FragColor = vec4(base, opacity);\n\n    gl_FragColor.rgb += (purple * intensity + blue * intensity);\n    // gl_FragColor.rgb = mix(gl_FragColor.rgb, mix(purple, blue, snoise2(vN + time * 0.0002)), 0.2);\n\n    float dist = length(mouse - vPosition);\n    float mouseNear = when_lt_1604150559(dist, maxDist);\n    float ratio = (1.0 - (dist / maxDist)) * mouseNear;\n    gl_FragColor.rgb += 0.4 * ratio * mix(purple, blue, snoise(vN + time * 0.0002));\n    // gl_FragColor.rgb += mix(gl_FragColor.rgb, mix(purple, blue, snoise2(vN + time * 0.0002)), 0.2);\n\n    // gl_FragColor.a *= snoise2(0.8 * vPosition.xy * vec2(0.4, 1.0) + time * 0.0002);\n    // gl_FragColor.a *= snoise2(vec2(0.2, 1.0) * vPosition.xy + time * 0.0001) * (0.5 + 0.5 * vPosition.y);\n    // gl_FragColor.a *= smoothstep(-1.0, -0.8, vPosition.y);\n    gl_FragColor.a *= smoothstep(-2.0, -1.5, vPosition.y);\n}"]),transparent:!0}))}return s(e,t),e}(THREE.RawShaderMaterial);n["default"]=c},{"./../../lib/app":107,glslify:73,underscore:89}],96:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=t("underscore"),u=(i(l),t("./../../lib/app")),h=i(u),c=t("glslify"),p=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{uniforms:{time:h["default"].uniforms.time,darkness:h["default"].uniforms.darkness,mouse:h["default"].uniforms.mouse,explosion:h["default"].uniforms.explosion,shake:h["default"].uniforms.shake,maxDist:h["default"].uniforms.maxDist,matcapStrength:h["default"].uniforms.matcapStrength,godraysOpacity:h["default"].uniforms.godraysOpacity,viewVector:{value:t.viewVector},isHover:{value:0},matcap:{value:t.matcap},wireframe:{value:t.wireframe?1:0}},vertexShader:c(["#define GLSLIFY 1\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 modelMatrix;\nuniform mat3 normalMatrix;\nattribute vec3 position;\nattribute vec3 normal;\nvarying vec3 e;\nvarying vec3 n;\nvarying float intensity;\nvarying float displaceRatio;\nuniform float time;\nuniform vec3 mouse;\nuniform vec3 viewVector;\nuniform float maxDist;\nuniform float explosion;\nuniform float shake;\nuniform float isHover;\nuniform float godraysOpacity;\n\n#define PI 3.14159265359\nmat4 rotationMatrix(vec3 axis, float angle) {\n    axis = normalize(axis);\n    float s = sin(angle);\n    float c = cos(angle);\n    float oc = 1.0 - c;\n\n    return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n                oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n                oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n                0.0,                                0.0,                                0.0,                                1.0);\n}\n\nvec3 rotate(vec3 v, vec3 axis, float angle) {\n    mat4 m = rotationMatrix(axis, angle);\n    return (m * vec4(v, 1.0)).xyz;\n}\n\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nfloat when_gt_2281831123(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec2 when_gt_2281831123(vec2 x, vec2 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec3 when_gt_2281831123(vec3 x, vec3 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec4 when_gt_2281831123(vec4 x, vec4 y) {\n  return max(sign(x - y), 0.0);\n}\n\nfloat when_le_2315452051(float x, float y) {\n  return 1.0 - when_gt_2281831123(x, y);\n}\n\nvec2 when_le_2315452051(vec2 x, vec2 y) {\n  return 1.0 - when_gt_2281831123(x, y);\n}\n\nvec3 when_le_2315452051(vec3 x, vec3 y) {\n  return 1.0 - when_gt_2281831123(x, y);\n}\n\nvec4 when_le_2315452051(vec4 x, vec4 y) {\n  return 1.0 - when_gt_2281831123(x, y);\n}\n\nfloat when_lt_1117569599(float x, float y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec2 when_lt_1117569599(vec2 x, vec2 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec3 when_lt_1117569599(vec3 x, vec3 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec4 when_lt_1117569599(vec4 x, vec4 y) {\n  return max(sign(y - x), 0.0);\n}\n\nfloat when_ge_1062606552(float x, float y) {\n  return 1.0 - when_lt_1117569599(x, y);\n}\n\nvec2 when_ge_1062606552(vec2 x, vec2 y) {\n  return 1.0 - when_lt_1117569599(x, y);\n}\n\nvec3 when_ge_1062606552(vec3 x, vec3 y) {\n  return 1.0 - when_lt_1117569599(x, y);\n}\n\nvec4 when_ge_1062606552(vec4 x, vec4 y) {\n  return 1.0 - when_lt_1117569599(x, y);\n}\n\nvoid main() {\n    vec3 pos = position;\n    vec3 basePos = (modelMatrix * vec4(vec3(0.0), 1.0)).xyz;\n    vec3 worldPos = (modelMatrix * vec4(pos, 1.0)).xyz;\n    vec3 direction = normalize(basePos);\n\n    // Mouse repulsion - before explosion\n    float dist = length(mouse - basePos);\n    float distPos = length(mouse - worldPos);\n    dist = mix(dist, distPos, 0.3);\n    float mouseNear = when_lt_1117569599(dist, maxDist);\n    float notExploded = when_le_2315452051(explosion, 0.0);\n    float exploded = when_gt_2281831123(explosion, 0.0);\n    float ratio = (1.0 - (dist / maxDist)) * mouseNear;// * notExploded;\n    ratio *= godraysOpacity;\n\n    // 1. rotation during mouseover\n    // pos = (rotate(pos, direction + 0.5 * snoise3(pos + direction), ratio * PI * 0.2));\n    // 2. rotation after explosion\n    // pos = (rotate(position, vec3(0.4, 1.0, 0.0), PI * 0.2 + time * 0.0001));\n    // 3. combine\n    pos = notExploded * (rotate(pos, direction + 0.5 * snoise(pos + direction), ratio * PI * 0.2)) + exploded * position;\n    // pos = notExploded * (rotate(pos, direction + 0.5 * snoise3(pos + direction), ratio * PI * 0.2)) + exploded * (rotate(position, vec3(0.4, 1.0, 0.0), PI * 0.2 + time * 0.0001));\n\n    pos += notExploded * direction * ratio;\n    float shakeScale = 0.15;\n    pos += notExploded * shake * shakeScale * vec3(random(position.xy + time * 0.011), random(position.yz + time * 0.011), random(position.zx + time * 0.011));\n    displaceRatio = ratio;\n\n    // When exploding\n    // pos += explosion * (2.0 * snoise3(4.0 * basePos + time * 0.00002));\n    // pos += explosion * 0.5 * (2.0 * snoise3(4.0 * basePos + time * 0.00002));\n\n    // Matcap stuff\n    e = normalize(vec3( modelViewMatrix * vec4(pos, 1.0)));\n    n = normalize(normalMatrix * normal);\n\n    // Rim/inner light\n    vec3 vNormal = normalize(normalMatrix * normal); // rotate need to be rotate the same amount as the shape\n    // vec3 vNormal = normalize(normalMatrix * rotate(normal, vec3(0.4, 1.0, 0.0), exploded * (PI * 0.2 + time * 0.0001)));\n    vec3 vNormel = normalize(normalMatrix * viewVector);\n    intensity = pow(1.0 - dot(vNormal, vNormel), 5.0);\n\n    pos.y += isHover * 0.14;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}"]),fragmentShader:c(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec3 e;\nvarying vec3 n;\nuniform sampler2D matcap;\nuniform float darkness;\nuniform float shake;\nuniform float matcapStrength;\nvarying float intensity;\nvarying float displaceRatio;\nuniform float isHover;\n\nvoid main() {\n    // Rim/inner light colors\n    vec3 blue = vec3(0.0, 208.0, 255.0) / 255.0;\n    vec3 purple = vec3(106.0, 27.0, 242.0) / 255.0;\n\n    // Matcap\n    vec3 r = reflect(e, n);\n    float m = 2.0 * sqrt(pow(r.x, 2.0) + pow(r.y, 2.0) + pow(r.z + 1.0, 2.0));\n    vec2 vN = r.xy / m + 0.5;\n    vec3 base = texture2D(matcap, vN).rgb;\n    gl_FragColor = vec4(base * matcapStrength, 1.0);\n\n    gl_FragColor.rgb += shake * purple * displaceRatio * 2.0;\n    gl_FragColor.rgb += (1.0 - shake) * (purple * intensity + blue * intensity * displaceRatio);\n\n    // Used in occlusion scene\n    gl_FragColor.rgb *= (1.0 - darkness);\n\n    gl_FragColor.rgb += isHover * 0.14 * mix(purple, vec3(1.0, 0.6, 0.4), intensity);\n}"])}))}return s(e,t),a(e,[{key:"onHover",value:function(){TweenMax.to(this.uniforms.isHover,.6,{value:1,ease:Linear.easeNone})}},{key:"onOut",value:function(){TweenMax.to(this.uniforms.isHover,.6,{value:0,ease:Linear.easeNone})}}]),e}(THREE.RawShaderMaterial);n["default"]=p},{"./../../lib/app":107,glslify:73,underscore:89}],97:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=t("./../../lib/app"),u=(i(l),t("underscore")),h=i(u),c=t("simplex-noise"),p=i(c),d=t("./material"),f=i(d),m=(t("glslify"),2),g=3,v=32,y=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=120,i=new THREE.PlaneGeometry(n,n,v,v),s=new p["default"](function(){return.8});i.vertices.forEach(function(t){var e=(t.x+.5*n)/n,i=(t.y+.5*n)/n;t.z=s.noise2D(e*m,i*m)*g}),i.computeFaceNormals(),i.computeVertexNormals();var a=new f["default"]({color:1050915}),l=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(new THREE.BufferGeometry).fromGeometry(i),a));l.rotation.x=Math.PI*-.5;var u=new f["default"]({color:14097214});h["default"].times(n,function(t){var e=new THREE.Geometry;e.vertices=h["default"].times(n,function(e){var i=t-.5*n,r=e-.5*n,o=s.noise2D((i+.5*n)/n*m,(r+.5*n)/n*m);return new THREE.Vector3(i,r,o*g+.15)});var i=new THREE.Line(e,u);l.add(i)});var c=20,d=4,y=new THREE.PlaneGeometry(c,c,d,d);y.applyMatrix((new THREE.Matrix4).makeTranslation(18,-12,0)),y.vertices.forEach(function(t){var e=(t.x+.5*n)/n,i=(t.y+.5*n)/n;t.z=s.noise2D(e*m,i*m)*g}),y.computeFaceNormals(),y.computeVertexNormals();var _=new THREE.Mesh(y,new f["default"]({map:new THREE.Texture}));return _.rotation.x=Math.PI*-.5,_.renderOrder=10,t.aboutScene.add(_),l.about=_,l}return s(e,t),a(e,[{key:"middlePosition",value:function(){var t=.5*v;return this.geometry.vertices[v*t+t].z}}]),e}(THREE.Mesh);n["default"]=y},{"./../../lib/app":107,"./material":98,glslify:73,"simplex-noise":82,underscore:89}],98:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("./../../lib/app"),l=i(a),u=t("glslify"),h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{uniforms:THREE.UniformsUtils.merge([THREE.UniformsUtils.clone(THREE.UniformsLib.fog),{time:l["default"].uniforms.time,color:{value:new THREE.Color(t.color)},map:{value:t.map}}]),vertexShader:u(["#define GLSLIFY 1\n\n                uniform mat4 projectionMatrix;\n                uniform mat4 modelViewMatrix;\n                attribute vec3 position;\n                uniform float time;\n                uniform float groundAmplitude;\n                varying float height;\n\n                #ifdef USE_FOG\n                    varying float fogDepth;\n                #endif\n\n                #ifdef USE_MAP\n                    attribute vec2 uv;\n                    varying vec2 vUv;\n                #endif\n\n                //\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n                void main() {\n                    #ifdef USE_MAP\n                        vUv = uv;\n                    #endif\n\n                    vec3 pos = position;\n                    vec3 origin = (modelViewMatrix * vec4(vec3(0.0), 1.0)).xyz;\n\n                    float strength = length(pos.xy);\n                    pos.z += strength * groundAmplitude * 0.05 * snoise(0.02 * position.xy + time * 0.0001);\n\n                    height = 0.5 + abs(pos.z);\n\n                    vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n                    gl_Position = projectionMatrix * mvPosition;\n\n                    #ifdef USE_FOG\n                        fogDepth = -mvPosition.z;\n                    #endif\n                }\n            "]),fragmentShader:u(["\n                precision highp float;\n#define GLSLIFY 1\n\n                varying float height;\n                uniform vec3 color;\n\n                #ifdef USE_MAP\n                    uniform sampler2D map;\n                    varying vec2 vUv;\n                #endif\n\n                #define LOG2 1.442695\n                #define saturate(a) clamp(a, 0.0, 1.0)\n                #define whiteCompliment(a) (1.0 - saturate(a))\n\n                #ifdef USE_FOG\n                    uniform vec3 fogColor;\n                    varying float fogDepth;\n                    uniform float fogDensity;\n                #endif\n\n                void main() {\n                    gl_FragColor = vec4(color, 1.0);\n                    gl_FragColor.rgb *= height;\n\n                    #ifdef USE_MAP\n                        vec4 tex = texture2D(map, vUv);\n                        gl_FragColor = vec4(tex.rgb, 0.8);\n                    #endif\n\n                    #ifdef USE_FOG\n                        float fogFactor = whiteCompliment(exp2(-fogDensity * fogDensity * fogDepth * fogDepth * LOG2));\n                        gl_FragColor.rgb = mix(gl_FragColor.rgb, fogColor, fogFactor);\n                    #endif\n                }\n            "]),fog:!0,defines:{USE_FOG:""}}));return n.uniforms.time=l["default"].uniforms.time,n.uniforms.groundAmplitude=l["default"].uniforms.groundAmplitude,void 0!=t.map&&(n.depthTest=!1,n.depthWrite=!1,n.transparent=!0,n.blending=THREE.AdditiveBlending,n.defines.USE_MAP=""),n}return s(e,t),e}(THREE.RawShaderMaterial);n["default"]=h},{"./../../lib/app":107,glslify:73}],99:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a,l,u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function E(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:E(r,e,n)}if("value"in i)return i.value;var o=i.get;return void 0===o?void 0:o.call(n)},c=t("jquery"),p=(i(c),t("underscore")),d=(i(p),t("./../../lib/app")),f=i(d),m=t("backbone.marionette"),g=i(m),v=t("TweenMax"),y=(i(v),t("size")),_=(i(y),t("./../../lib/sound")),A=i(_),b=t("./../../lib/decorators"),x=t("./template.html"),w=i(x),T=(a=b.props({template:w["default"],className:"Header",ui:{sound:".Header-sound",about:".Header-about"},events:{"click @ui.sound":"toggleSound","click @ui.about":"toggleAbout"}}),a(l=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),u(e,[{key:"initialize",value:function(){A["default"].on("mute",this.onSoundMute,this)}},{key:"toggleSound",value:function(){A["default"].toggleMute()}},{key:"onSoundMute",value:function(){A["default"].isMute?this.ui.sound.addClass("is-mute"):this.ui.sound.removeClass("is-mute")}},{key:"animateIn",value:function(){var t=h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"animateIn",this).call(this);return t.staggerFromTo([this.ui.about,this.ui.sound],.4,{opacity:0},{opacity:1,ease:Linear.easeNone},.04,0),t.set(this.el,{autoAlpha:1},0),t}},{key:"toggleAbout",value:function(){f["default"].trigger("about:toggle")}}]),e}(g["default"].View))||l);n["default"]=T},{"./../../lib/app":107,"./../../lib/decorators":109,"./../../lib/sound":116,"./template.html":100,TweenMax:74,"backbone.marionette":9,jquery:78,size:83,underscore:89}],100:[function(require,module,exports){require("underscore");module.exports=function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="Header-about"> <svg class="u-middle--abs" xmlns="http://www.w3.org/2000/svg" width="8.4px" height="13px" viewBox="0 0 8.4 13"> <path d="M0,3.7h2.4C2.4,2.7,3.1,2,4.1,2c1,0,1.7,0.6,1.7,1.4c0,0.8-0.3,1.3-1.5,1.9C3.1,6.1,2.6,6.9,2.7,8.3l0,0.5h2.3\n        V8.3c0-0.9,0.3-1.3,1.5-2c1.2-0.7,1.9-1.7,1.9-3c0-2-1.7-3.4-4.2-3.4C1.6,0,0,1.5,0,3.7z M3.9,13c0.8,0,1.4-0.6,1.4-1.4\n        c0-0.8-0.6-1.4-1.4-1.4c-0.8,0-1.4,0.6-1.4,1.4C2.5,12.4,3.1,13,3.9,13z"/> </svg> </div> <div class="Header-sound"> <svg class="u-middle--abs" xmlns="http://www.w3.org/2000/svg" width="28px" height="10px" viewBox="0 0 28 10"> <path d="M28,10c-2.9,0-4.3-2.4-5.5-4.5C21.2,3.3,20.3,2,18.7,2c-1.6,0-2.5,1.3-3.8,3.5C13.6,7.6,12.2,10,9.3,10\n        C6.4,10,5,7.6,3.8,5.5C2.5,3.3,1.6,2,0,2V0c2.9,0,4.3,2.4,5.5,4.5C6.8,6.7,7.7,8,9.3,8c1.6,0,2.5-1.3,3.8-3.5\n        C14.4,2.4,15.8,0,18.7,0s4.3,2.4,5.5,4.5C25.5,6.7,26.4,8,28,8V10z"/> </svg> </div>';return __p}},{underscore:89}],101:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=t("size"),u=i(l),h=t("glslify"),c=function(t){function e(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var t=new THREE.Texture(App.assets.get("images/hint.png"));t.minFilter=t.magFilter=THREE.LinearFilter,t.wrapS=t.wrapT=THREE.ClampToEdgeWrapping,t.needsUpdate=!0;var n=new THREE.PlaneBufferGeometry(1,1);n.applyMatrix((new THREE.Matrix4).makeTranslation(.5,0,0));var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,new THREE.RawShaderMaterial({uniforms:{time:App.uniforms.time,map:{value:t},opacity:{value:.9},dist:{value:0}},vertexShader:h(["#define GLSLIFY 1\n\n                    uniform mat4 projectionMatrix;\n                    uniform mat4 modelViewMatrix;\n                    attribute vec3 position;\n                    varying vec2 vUv;\n                    attribute vec2 uv;\n\n                    void main() {\n                        vUv = uv;\n                        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    }\n                "]),fragmentShader:h(["\n                    precision highp float;\n#define GLSLIFY 1\n\n\n                    uniform float opacity;\n                    uniform float time;\n                    uniform float dist;\n                    uniform sampler2D map;\n                    varying vec2 vUv;\n\n                    //\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n                    void main() {\n                        // vec2 uv = vUv + vec2(0.0, 0.05 * snoise2(4.0 * vUv + time * 0.001));\n                        vec2 uv = vUv + (0.75 * dist) * snoise(4.0 * vUv + time * 0.001);\n                        vec4 tex = texture2D(map, uv);\n                        gl_FragColor = tex;\n                        gl_FragColor.a *= opacity;\n                    }\n                "]),
transparent:!0}))),s=t.image,a=.4*s.width,l=.4*s.height;return i.scale.set(1/u["default"].width*a,1/u["default"].height*l,1),i.position.x=1.2,i.position.y=.5,i.isAnimating=!1,i}return s(e,t),a(e,[{key:"update",value:function(t){var e=(t.x-43)/u["default"].width-.5,n=-(t.y-36)/u["default"].height+.5;if(this.position.x+=.1*(e-this.position.x),this.position.y+=.1*(n-this.position.y),!this.isAnimating){var i=new THREE.Vector2(this.position.x,this.position.y).distanceTo(new THREE.Vector2(e,n));this.material.uniforms.dist.value=i}}},{key:"animateOut",value:function(){var t=this;this.isAnimating=!0,TweenMax.to(this.material.uniforms.dist,1,{value:.3,ease:Linear.easeNone}),TweenMax.to(this.material.uniforms.opacity,1.4,{value:0,delay:.1,ease:Linear.easeNone,onComplete:function(){t.parent.remove(t),t.geometry.dispose(),t.material.dispose()}})}}]),e}(THREE.Mesh);n["default"]=c},{glslify:73,size:83}],102:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=t("size"),u=(i(l),t("glslify")),h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=new THREE.Texture(t.image);n.minFilter=THREE.LinearFilter,n.magFilter=THREE.LinearFilter,n.generateMipmaps=!1,n.needsUpdate=!0;var i=new THREE.PlaneGeometry(1,1,3,3),s=(new THREE.BufferGeometry).fromGeometry(i),a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));a.material=new THREE.RawShaderMaterial({uniforms:{time:App.uniforms.time,mouse:App.uniforms.mouse2d,resolution:App.uniforms.resolution,map:{value:n},progress:{value:0},explode:{value:0}},blending:THREE.AdditiveBlending,vertexShader:u(["#define GLSLIFY 1\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nattribute vec3 position;\nattribute vec2 uv;\nvarying vec2 vUv;\n// varying vec2 displace;\nuniform vec2 mouse;\n\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nvoid main() {\n    vUv = uv;\n\n    vec3 pos = position;\n    vec2 direction = pos.xy - mouse;\n    float dist = length(direction);\n    float threshold = 0.3;\n    if (dist <= threshold) {\n        vec2 displace = direction * (dist - threshold);\n        pos.xy += displace;\n    }\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}"]),fragmentShader:u(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D map;\nuniform float time;\nuniform float progress;\nuniform float explode;\nvarying vec2 vUv;\n\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nfloat when_gt_1604150559(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec2 when_gt_1604150559(vec2 x, vec2 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec3 when_gt_1604150559(vec3 x, vec3 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec4 when_gt_1604150559(vec4 x, vec4 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvoid main() {\n   float pp = clamp(progress - 0.5, 0.0, 1.0) * 2.0;\n\n   vec2 uv = vUv;\n   uv += 0.02 * snoise(uv + time * 0.0001);\n\n    // Fluidify + create cuts\n     vec2 tvUv = uv + (1.0 - pp) * mod(fract(mod(2.0 * uv.x + time * 0.00011, 20.0 * uv.y + time * 0.00017)), uv.y);\n    tvUv -= (1.0 - pp) * 0.2 * snoise(1.5 * uv - time * 0.000017);\n\n    vec4 tex = texture2D(map, tvUv);\n    gl_FragColor = tex;\n\n    gl_FragColor.a *= clamp(pp - 0.2, 0.0, 1.0);\n    // gl_FragColor.a *= when_gt(vUv.y, 0.2 * explode);\n\n    // Fade on explode\n    gl_FragColor.a *= (1.0 - explode);\n}"]),transparent:!0});var l=new THREE.Mesh(s,a.material);return a.add(l),a}return s(e,t),a(e,[{key:"fakeExplode",value:function(){return}},{key:"resize",value:function(t,e){var n=this.material.uniforms.map.value.image,i=n.height/n.width,r=.5*n.width;this.scale.set(1/t*r,1/e*r*i,1)}},{key:"progress",set:function(t){this.material.uniforms.progress.value=t},get:function(){return this.material.uniforms.progress.value}},{key:"explode",set:function(t){this.material.uniforms.explode.value=t},get:function(){return this.material.uniforms.explode.value}}]),e}(THREE.Object3D);n["default"]=h},{glslify:73,size:83}],103:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=t("glslify"),a=function(t){function e(t){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{uniforms:{matcap:{type:"t",value:t.matcap}},vertexShader:s(["#define GLSLIFY 1\n\n                uniform mat4 projectionMatrix;\n                uniform mat4 modelViewMatrix;\n                uniform mat3 normalMatrix;\n                attribute vec3 position;\n                attribute vec3 normal;\n                varying vec3 e;\n                varying vec3 n;\n\n                void main() {\n\n                  e = normalize(vec3( modelViewMatrix * vec4(position, 1.0)));\n                  n = normalize(normalMatrix * normal);\n\n                  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n                }\n            "]),fragmentShader:s(["\n                precision highp float;\n#define GLSLIFY 1\n\n\n                uniform sampler2D matcap;\n\n                varying vec3 e;\n                varying vec3 n;\n\n                void main() {\n\n                  vec3 r = reflect( e, n );\n                  float m = 2. * sqrt( pow( r.x, 2. ) + pow( r.y, 2. ) + pow( r.z + 1., 2. ) );\n                  vec2 vN = r.xy / m + .5;\n\n                  vec3 base = texture2D( matcap, vN ).rgb;\n\n                  gl_FragColor = vec4( base, 1. );\n\n                }\n            "])}))}return o(e,t),e}(THREE.RawShaderMaterial);n["default"]=a},{glslify:73}],104:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("underscore"),l=(i(a),t("./../../lib/app")),u=i(l),h=t("glslify"),c=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{uniforms:{resolution:u["default"].uniforms.resolution,godraysOpacity:u["default"].uniforms.godraysOpacity,occlusionMap:{value:t.occlusionMap},orthoMap:{value:t.orthoMap},aboutMap:{value:t.aboutMap},map:{value:t.map},x:{value:.5},y:{value:.5},exposure:{value:.6,range:[0,1]},decay:{value:.93,range:[0,1]},density:{value:.25,range:[0,1]},weight:{value:.3,range:[0,1]},fClamp:{value:.8,range:[0,1]}},vertexShader:h(["#define GLSLIFY 1\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nattribute vec3 position;\nattribute vec2 uv;\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}"]),fragmentShader:h(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D occlusionMap;\nuniform sampler2D orthoMap;\nuniform sampler2D aboutMap;\nuniform sampler2D map;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\n// God rays\nuniform float x;\nuniform float y;\nuniform float exposure;\nuniform float decay;\nuniform float density;\nuniform float weight;\nuniform float fClamp;\nuniform float godraysOpacity;\nconst int iSamples = 10;\n\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nfloat blendAdd(float base, float blend) {\n	return min(base+blend,1.0);\n}\n\nvec3 blendAdd(vec3 base, vec3 blend) {\n	return min(base+blend,vec3(1.0));\n}\n\nvec3 blendAdd(vec3 base, vec3 blend, float opacity) {\n	return (blendAdd(base, blend) * opacity + base * (1.0 - opacity));\n}\n\nfloat blendColorDodge(float base, float blend) {\n	return (blend==1.0)?blend:min(base/(1.0-blend),1.0);\n}\n\nvec3 blendColorDodge(vec3 base, vec3 blend) {\n	return vec3(blendColorDodge(base.r,blend.r),blendColorDodge(base.g,blend.g),blendColorDodge(base.b,blend.b));\n}\n\nvec3 blendColorDodge(vec3 base, vec3 blend, float opacity) {\n	return (blendColorDodge(base, blend) * opacity + base * (1.0 - opacity));\n}\n\nvoid main() {\n    vec4 mapTex = texture2D(map, vUv);\n    vec4 orthoTex = texture2D(orthoMap, vUv);\n    vec4 aboutTex = texture2D(aboutMap, vUv);\n\n    // God rays\n    // if (godraysOpacity > 0.0) {\n        vec2 deltaTextCoord = vec2(vUv - vec2(x, y));\n        deltaTextCoord *= 1.0 /  float(iSamples) * density;\n        vec2 coord = vUv;\n        float illuminationDecay = 1.0;\n        vec4 occlusionTex = vec4(0.0);\n        for(int i = 0; i < iSamples; i++) {\n            coord -= deltaTextCoord;\n            vec4 texel = texture2D(occlusionMap, coord);\n            texel *= illuminationDecay * weight;\n            occlusionTex += texel;\n            illuminationDecay *= decay;\n        }\n        occlusionTex *= exposure;\n        occlusionTex = clamp(occlusionTex, 0.0, fClamp);\n        gl_FragColor = vec4(blendAdd(mapTex.rgb, occlusionTex.rgb, godraysOpacity), 1.0);\n    // } else {\n    //     gl_FragColor = mapTex;\n    // }\n\n    gl_FragColor = vec4(blendColorDodge(gl_FragColor.rgb, orthoTex.rgb), 1.0);\n    gl_FragColor = vec4(blendColorDodge(gl_FragColor.rgb, aboutTex.rgb), 1.0);\n}"])}))}return s(e,t),e}(THREE.RawShaderMaterial);n["default"]=c},{"./../../lib/app":107,glslify:73,underscore:89}],105:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a,l,u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function tt(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:tt(r,e,n)}if("value"in i)return i.value;var o=i.get;return void 0===o?void 0:o.call(n)},c=t("jquery"),p=i(c),d=t("underscore"),f=i(d),m=t("./../../lib/app"),g=i(m),v=t("backbone.marionette"),y=i(v),_=t("TweenMax"),A=i(_),b=t("./../../lib/screen-to-world"),x=i(b),w=t("size"),T=i(w),E=t("./../fragment-material"),S=i(E),M=t("./../background"),C=i(M),P=t("./../render-material"),R=i(P),O=t("./../matcap-material"),L=(i(O),t("./../blur-material")),N=i(L),I=t("./../dog-material"),k=i(I),D=t("./../logo"),F=i(D),B=t("./../cursor"),U=i(B),V=t("./../hint"),G=i(V),H=t("./../../lib/sound"),z=i(H),j=t("controlkit"),q=i(j),W=t("./../../lib/decorators"),X=t("stats.js"),K=(i(X),263172),Y=new THREE.Vector3(0,0,0),Z=new THREE.Vector3(18,0,12),Q=1.5,J=16,$=(a=W.props({template:function(){},className:"Stage u-fullParent",tagName:"canvas"}),a(l=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),u(e,[{key:"initialize",value:function(){f["default"].bindAll(this,"onMove","onDown","onUp"),window.scene=this,window.App=g["default"]}},{key:"onRender",value:function(){this.renderer=new THREE.WebGLRenderer({canvas:this.el,antialias:!1,alpha:!0}),this.renderer.setPixelRatio(window.devicePixelRatio||1),this.camera=new THREE.PerspectiveCamera(45,1,.1,1e3),this.camera.position.z=J,this.camera.position.set(19,13,50),this.camera.rotation.set(-.3445,1.1031,.3099),this.lookAt=this.camera.position.clone().multiply(new THREE.Vector3(0,-20,0)),this.lookAtRatio=0,this.lookAtAboutRatio=.02,this.hasAbout=!1,this.cameraLookAt=Y,this.smoothCamera=new THREE.Vector2(this.camera.position.x,this.camera.position.z),this.renderCamera=new THREE.OrthographicCamera(-.5,.5,.5,-.5,0,1),this.renderCamera.position.z=1,this.scene=new THREE.Scene,this.renderScene=new THREE.Scene,this.blurScene=new THREE.Scene,this.occlusionScene=new THREE.Scene,this.orthoScene=new THREE.Scene,this.aboutScene=new THREE.Scene,this.group=new THREE.Group,this.currentShard=null,this.raycaster=new THREE.Raycaster,this.mouse=new THREE.Vector2(1.2*T["default"].width,.5*T["default"].height),this.mouse2d=new THREE.Vector2(1.2,.5),this.mouseZ=0,this.vector=new THREE.Vector3,this.smoothMouse=this.mouse.clone(),this.wiggle={min:.01,current:.01,max:.05},this.cameraEase=0,this.isIntro=!0,this.isShaking=!1,this.isExploding=!1,this.hasExploded=!1,g["default"].uniforms={time:{value:0},groundAmplitude:{value:1},darkness:{value:0},matcapStrength:{value:.6,range:[0,1]},godraysOpacity:{value:0},shake:{value:0},explosion:{value:0},maxDist:{value:2.5,range:[.01,10]},mouse:{value:new THREE.Vector3},mouse2d:{value:new THREE.Vector2},resolution:{value:new THREE.Vector2(0,0)}},this.scene.fog=new THREE.FogExp2(K,.03),this.logo=new F["default"]({image:this.options.logoImage}),this.orthoScene.add(this.logo),this.background=new C["default"]({camera:this.camera,aboutScene:this.aboutScene}),this.scene.add(this.background),this.fragments=[],this.cursor=new U["default"],this.orthoScene.add(this.cursor),this.renderTarget=new THREE.WebGLRenderTarget(1,1,{format:THREE.RGBAFormat,type:THREE.FloatType,minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter}),this.aboutTarget=new THREE.WebGLRenderTarget(1,1,{format:THREE.RGBAFormat,type:THREE.FloatType,minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter}),this.blurTarget=new THREE.WebGLRenderTarget(1,1,{format:THREE.RGBAFormat,type:THREE.FloatType,minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter}),this.occlusionTarget=new THREE.WebGLRenderTarget(1,1,{format:THREE.RGBAFormat,type:THREE.FloatType,minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter}),this.orthoTarget=new THREE.WebGLRenderTarget(1,1,{format:THREE.RGBAFormat,type:THREE.FloatType,minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter}),this.blurQuad=new THREE.Mesh(new THREE.PlaneBufferGeometry(1,1),new N["default"]({map:this.occlusionTarget.texture})),this.blurScene.add(this.blurQuad),this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(1,1),new R["default"]({occlusionMap:this.blurTarget.texture,orthoMap:this.orthoTarget.texture,aboutMap:this.aboutTarget.texture,map:this.renderTarget.texture})),this.renderScene.add(this.quad),g["default"].isDevice?(p["default"](this.el).on("touchstart",this.onDown),p["default"](window).on("touchmove",this.onMove),p["default"](window).on("touchend",this.onUp)):(p["default"](this.el).on("mousedown",this.onDown),p["default"](window).on("mousemove",this.onMove),p["default"](window).on("mouseup",this.onUp)),g["default"].raf.subscribe(this.cid,this.onUpdate,this),this.once("resize",this.animateIn,this),g["default"].on("about:toggle",this.toggleAbout,this),"dev"!=g["default"].env&&console&&(console.clear(),console.log("THREE.WebGLRenderer 88"),console.log("Tone.js r11"))}},{key:"onResize",value:function(t,e){var n=this.renderer.getPixelRatio();g["default"].gpuPerf<g["default"].GPU_GOOD&&(n=.5),this.occlusionTarget.setSize(t*n,e*n),this.blurTarget.setSize(t*n,e*n),this.aboutTarget.setSize(t,e),this.orthoTarget.setSize(t,e),this.renderTarget.setSize(t,e),this.renderer.setSize(t,e),this.cursor.resize(t,e),this.camera.aspect=t/e,this.camera.updateProjectionMatrix(),this.logo&&this.logo.resize(t,e),g["default"].uniforms.resolution.value.set(t,e)}},{key:"onProgress",value:function(t){this.logo.progress=t}},{key:"addGUI",value:function(){var t=this;this.gui=new q["default"];var e=this.gui.addPanel({label:"config"});e.addSlider(g["default"].uniforms.matcapStrength,"value","range",{label:"light"}),e.addSlider(g["default"].uniforms.maxDist,"value","range",{label:"maxDist"});var n=this.gui.addPanel({label:"godrays"}),i={value:.9,range:[0,.99]};n.addSlider(i,"value","range",{label:"scale",onChange:function(){t.occlusionLight.scale.set(i.value,.9,i.value)}}),["exposure","decay","density","weight","fClamp"].forEach(function(t){n.addSlider(this.quad.material.uniforms[t],"value","range",{label:t})},this)}},{key:"addFragments",value:function(){var t=this,e=new THREE.Texture(g["default"].assets.get("images/matcap-black.jpg"));e.needsUpdate=!0,this.fragments=g["default"].geometries.fragments.geometries.map(function(n,i){var r=new THREE.Mesh(n,new S["default"]({viewVector:t.camera.position,matcap:e}));return t.group.add(r),r.position.copy(g["default"].geometries.fragments.positions[i]),r});var n=(new THREE.Box3).setFromObject(this.group),i=n.max.y-n.min.y;this.y=i,this.group.position.y=.5*-i,this.occlusionLight=new THREE.Mesh(g["default"].geometries.monolith,new THREE.MeshBasicMaterial({color:2128379})),this.occlusionLight.scale.set(.9,.95,.92),this.occlusionLight.position.y=.5*-i*.96,this.occlusionScene.add(this.occlusionLight)}},{key:"addDog",value:function(){var t=g["default"].geometries.dog,e=new THREE.Texture(g["default"].assets.get("images/matcap-dog.jpg"));e.needsUpdate=!0,t.applyMatrix((new THREE.Matrix4).makeScale(5.5,5.5,5.5)),t.applyMatrix((new THREE.Matrix4).makeRotationY(.475*Math.PI)),t.computeFlatVertexNormals(),this.dog=new THREE.Mesh(t,new k["default"]({viewVector:this.camera.position,matcap:e})),this.scene.add(this.dog)}},{key:"addStars",value:function(){this.background.addStars()}},{key:"addHint",value:function(){this.hint=new G["default"],this.orthoScene.add(this.hint)}},{key:"addAbout",value:function(){var t=new THREE.Texture(g["default"].assets.get("images/about.png"));t.minFilter=t.magFilter=THREE.LinearFilter,t.wrapS=t.wrapT=THREE.ClampToEdgeWrapping,t.needsUpdate=!0,this.background.ground.about.material.uniforms.map.value=t}},{key:"animateIn",value:function(){var t=h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"animateIn",this).call(this);return t.fromTo(this.el,.4,{autoAlpha:0},{autoAlpha:1},0),t}},{key:"start",value:function(){var t=this;this.addAbout(),this.addStars(),this.addFragments(),this.addDog();var e=new TimelineMax;e.delay(1);var n=1.5;e.to(this,1,{lookAtRatio:.1,ease:Quint.easeInOut},0),e.to(this.camera.position,1,{y:3,ease:Quint.easeInOut},1),e.add(function(){t.addHint()},1.4),e.to(this.background.ground.position,.8,{y:.5*-this.y,ease:Cubic.easeInOut},.3),e.to(this.logo,.6,{explode:1,ease:Linear.easeNone},n),e.add(function(){return t.logo.fakeExplode()},n),e.add(function(){t.isIntro=!1},n),e.to(this,.6,{cameraEase:.04},n),e.fromTo(this.background.stars,2,{opacity:0},{opacity:1,ease:Linear.easeNone},1.4+n),e.to(this.wiggle,.6,{current:this.wiggle.max},.6+n),e.to(g["default"].uniforms.godraysOpacity,1,{value:1},.6+n),e.add(g["default"].header.animateIn(),"-=1.4")}},{key:"toggleAbout",value:function(){this.hasAbout?this.hideAbout():this.showAbout()}},{key:"showAbout",value:function(){this.hasAbout=!0,this.cameraLookAt=Z,A["default"].to(this.camera.position,.6,{y:14}),A["default"].to(g["default"].uniforms.groundAmplitude,1,{value:2,ease:Linear.easeNone}),this.hasExploded||(A["default"].killTweensOf(g["default"].uniforms.godraysOpacity),A["default"].to(g["default"].uniforms.godraysOpacity,.6,{value:0}),A["default"].to(this.wiggle,.6,{current:this.wiggle.min}))}},{key:"hideAbout",value:function(){var t=this;this.cameraLookAt=Y,A["default"].to(g["default"].uniforms.groundAmplitude,1,{value:1,ease:Linear.easeNone}),A["default"].to(this.camera.position,.8,{y:3,onComplete:function(){t.hasAbout=!1}}),this.hasExploded||(A["default"].killTweensOf(g["default"].uniforms.godraysOpacity),A["default"].to(g["default"].uniforms.godraysOpacity,.6,{value:1}),A["default"].to(this.wiggle,.6,{current:this.wiggle.max}))}},{key:"onDown",value:function(t){this.isExploding||this.hasExploded||this.hasAbout||(this.isShaking=!0,A["default"].to(g["default"].uniforms.shake,Q,{value:1,onComplete:this.explode,onCompleteScope:this,ease:Quint.easeIn}),this.hasAbout||z["default"].mousedown(),this.cursor.onDown(),this.hint&&!this.isIntro&&(this.hint.animateOut(),this.hint=null))}},{key:"onMove",value:function(t){var e=t.originalEvent.changedTouches?t.originalEvent.changedTouches[0]:t;this.mouse.x=e.pageX,this.mouse.y=e.pageY,this.mouse2d.x=this.mouse.x/T["default"].width*2-1,this.mouse2d.y=2*-(this.mouse.y/T["default"].height)+1}},{key:"onUp",value:function(t){return this.cursor.onUp(),this.isExploding||this.hasExploded?void this.revertExplode():(A["default"].killTweensOf(g["default"].uniforms.shake),void A["default"].to(g["default"].uniforms.shake,.4,{value:0,ease:Quint.easeOut}))}},{key:"explode",value:function(){var t=this;this.isExploding=!0,A["default"].killTweensOf(g["default"].uniforms.explosion),A["default"].to(g["default"].uniforms.explosion,1,{value:1,ease:Expo.easeOut});var e=8;this.fragments.forEach(function(t){var n=t.position.clone().multiply(new THREE.Vector3(.2*Math.random()+.9,.2*Math.random()+.9,.2*Math.random()+.9)).normalize();A["default"].killTweensOf(t.position),A["default"].to(t.position,1,{x:t.position.x+n.x*e,y:t.position.y+n.y*e,z:t.position.z+n.z*e,ease:Expo.easeOut})}),A["default"].to(this.wiggle,.6,{current:this.wiggle.min}),A["default"].killTweensOf(g["default"].uniforms.shake),A["default"].to(g["default"].uniforms.shake,1.2,{value:0,ease:Quint.easeOut}),A["default"].killTweensOf(this.quad.material.uniforms.density),A["default"].to(this.quad.material.uniforms.density,1,{value:.8,ease:Expo.easeOut,delay:.08}),A["default"].killTweensOf(this.quad.material.uniforms.exposure),A["default"].to(this.quad.material.uniforms.exposure,1,{value:0,ease:Expo.easeOut,delay:.08}),A["default"].killTweensOf(this.occlusionLight.scale),A["default"].to(this.occlusionLight.scale,.2,{x:4,y:4,z:4,ease:Expo.easeOut,delay:.08}),A["default"].killTweensOf(g["default"].uniforms.godraysOpacity),A["default"].to(g["default"].uniforms.godraysOpacity,0,{value:0,delay:1.08}),z["default"].explode(),A["default"].delayedCall(.24,function(){z["default"].bark()}),A["default"].killTweensOf(this.dog.material.uniforms.opacity),A["default"].to(this.dog.material.uniforms.opacity,.6,{value:1,delay:.12,ease:Linear.easeNone}),A["default"].killTweensOf(this.dog.scale),A["default"].fromTo(this.dog.scale,.6,{x:.6,y:.6,z:.6},{x:1,y:1,z:1,delay:.12}),A["default"].killTweensOf(this.dog.position),A["default"].fromTo(this.dog.position,2,{y:-1},{y:0,delay:.25,onComplete:function(){t.isExploding=!1,A["default"].delayedCall(.4,function(){t.hasExploded=!0})}}),A["default"].killTweensOf(this.dog.rotation),A["default"].fromTo(this.dog.rotation,2,{x:-.2},{x:0,delay:.25})}},{key:"revertExplode",value:function(){this.currentShard&&(this.currentShard.material.onOut(),this.currentShard=null),A["default"].killTweensOf(g["default"].uniforms.shake),A["default"].to(g["default"].uniforms.shake,1.2,{value:0,ease:Quint.easeOut}),A["default"].killTweensOf(this.dog.material.uniforms.opacity),A["default"].to(this.dog.material.uniforms.opacity,.4,{value:0,ease:Linear.easeNone}),A["default"].killTweensOf(this.dog.scale),A["default"].to(this.dog.scale,1,{x:.6,y:.6,z:.6,ease:Quint.easeIn}),A["default"].killTweensOf(this.dog.position),A["default"].to(this.dog.position,.6,{y:1,ease:Quint.easeIn}),A["default"].killTweensOf(this.dog.rotation),A["default"].to(this.dog.rotation,.6,{x:.2,ease:Quint.easeIn}),A["default"].killTweensOf(g["default"].uniforms.explosion),A["default"].to(g["default"].uniforms.explosion,1,{value:0,delay:.2,ease:Expo.easeOut}),this.fragments.forEach(function(t,e){var n=g["default"].geometries.fragments.positions[e],i=.2+.2*Math.random();A["default"].killTweensOf(t.position),A["default"].to(t.position,1,{x:n.x,y:n.y,z:n.z,ease:Expo.easeInOut,delay:i})}),A["default"].killTweensOf(this.wiggle),A["default"].to(this.wiggle,.6,{current:this.wiggle.max}),A["default"].killTweensOf(this.quad.material.uniforms.density),A["default"].to(this.quad.material.uniforms.density,.6,{value:.25,ease:Expo.easeOut,delay:.4}),A["default"].killTweensOf(this.quad.material.uniforms.exposure),A["default"].to(this.quad.material.uniforms.exposure,.6,{value:.6,ease:Expo.easeOut,delay:.4}),A["default"].killTweensOf(this.occlusionLight.scale),A["default"].to(this.occlusionLight.scale,.6,{x:.9,y:.95,z:.92,ease:Expo.easeOut,delay:.4}),A["default"].killTweensOf(g["default"].uniforms.godraysOpacity),A["default"].to(g["default"].uniforms.godraysOpacity,.6,{value:1,ease:Expo.easeOut,delay:.8}),this.isExploding=!1,this.hasExploded=!1}},{key:"onUpdate",value:function(t){if(this.stats&&this.stats.begin(),g["default"].uniforms.time.value+=t,!this.isIntro){var e=Math.PI*this.wiggle.current,n=this.cameraLookAt.x+Math.cos(.5+e*this.mouse2d.x)*J,i=this.cameraLookAt.z+Math.sin(.5+e*this.mouse2d.x)*J;this.smoothCamera.x+=(n-this.smoothCamera.x)*this.cameraEase,this.smoothCamera.y+=(i-this.smoothCamera.y)*this.cameraEase,this.camera.position.x=this.smoothCamera.x,this.camera.position.z=this.smoothCamera.y}if(this.camera.lookAt(this.lookAt),this.lookAtRatio>=1?this.lookAt.lerp(this.cameraLookAt,this.lookAtAboutRatio):this.lookAt.lerp(this.cameraLookAt,this.lookAtRatio),this.isShaking){var r=.15,o=r*g["default"].uniforms.shake.value;this.camera.position.add(new THREE.Vector3(o*(Math.random()-.5),o*(Math.random()-.5),o*(Math.random()-.5)))}this.camera.updateMatrixWorld(),this.camera.updateProjectionMatrix(),this.background.stars&&(this.background.stars.rotation.y+=t/1e3*Math.PI*-.01);

var s=.15;this.smoothMouse.x+=(this.mouse.x-this.smoothMouse.x)*s,this.smoothMouse.y+=(this.mouse.y-this.smoothMouse.y)*s;var a=x["default"](this.smoothMouse.x,this.smoothMouse.y,this.camera);this.raycaster.setFromCamera(this.mouse2d,this.camera);var l=this.raycaster.intersectObjects(this.fragments,!1);if(l[0]){var u=l[0].object;this.currentShard?this.hasExploded&&this.currentShard.material.onOut():this.cursor.onMonolithHover(),(this.hasExploded||this.isExploding)&&this.currentShard!=u&&(this.hasAbout||z["default"].explodedHover()),this.hasExploded?u.material.onHover():this.isIntro||this.currentShard==u||this.hasAbout||z["default"].hover(),this.currentShard=u,this.mouseZ+=.1*(u.position.z-this.mouseZ)}else this.cursor.onMonolithOut(),this.currentShard&&this.hasExploded&&this.currentShard.material.onOut(),this.currentShard=null,this.mouseZ+=.1*(0-this.mouseZ);a.z=this.mouseZ,g["default"].uniforms.mouse.value.copy(a),g["default"].uniforms.mouse2d.value.set(this.smoothMouse.x/T["default"].width*2-1,2*-(this.smoothMouse.y/T["default"].height)+1),this.cursor.update(this.smoothMouse),this.hint&&this.hint.update(this.smoothMouse),this.renderer.render(this.orthoScene,this.renderCamera,this.orthoTarget,!0),g["default"].uniforms.godraysOpacity.value>0&&(this.renderer.setClearColor(0,1),this.occlusionScene.add(this.group),g["default"].uniforms.darkness.value=1,this.renderer.render(this.occlusionScene,this.camera,this.occlusionTarget,!0),this.renderer.render(this.blurScene,this.renderCamera,this.blurTarget,!0)),this.renderer.setClearColor(K,1),this.scene.add(this.group),g["default"].uniforms.darkness.value=0,this.renderer.render(this.scene,this.camera,this.renderTarget,!0),this.background.ground.about.position.y=this.background.ground.position.y,this.hasAbout&&this.renderer.render(this.aboutScene,this.camera,this.aboutTarget,!0),this.renderer.render(this.renderScene,this.renderCamera),this.stats&&this.stats.end()}},{key:"onBeforeDestroy",value:function(){p["default"](window).off("mousemove",this.onMove),g["default"].raf.unsubscribe(this.cid)}}]),e}(y["default"].View))||l);n["default"]=$},{"./../../lib/app":107,"./../../lib/decorators":109,"./../../lib/screen-to-world":115,"./../../lib/sound":116,"./../background":92,"./../blur-material":93,"./../cursor":94,"./../dog-material":95,"./../fragment-material":96,"./../hint":101,"./../logo":102,"./../matcap-material":103,"./../render-material":104,TweenMax:74,"backbone.marionette":9,controlkit:12,jquery:78,size:83,"stats.js":85,underscore:89}],106:[function(t,e,n){"use strict";var i=t("sniffer");if(window.THREE=t("three"),t("./lib/gltf-loader"),i.isTablet){var r=document.querySelector("meta[name=viewport]");r.setAttribute("content","width=device-width, initial-scale=0.75, minimum-scale=0.75, maximum-scale=0.75, user-scalable=no, minimal-ui")}t("./startup")},{"./lib/gltf-loader":110,"./startup":117,sniffer:84,three:86}],107:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r=t("backbone.marionette"),o=i(r),s=t("underscore"),a=i(s),l=t("./raf"),u=i(l),h=t("jquery"),c=i(h),p=t("sniffer"),d=i(p),f=t("visibility"),m=i(f),g=t("assets-loader"),v=(i(g),t("./base-view")),y=i(v);y["default"]();var _=new o["default"].Application({region:".App"});n["default"]=_,_.firstRender=!0,_.env="live",a["default"].extend(_,d["default"].getInfos()),d["default"].addClasses(document.documentElement),a["default"].assign(_,{siteURL:"",baseURL:"/ddd-2018/",scriptURL:"/ddd-2018/",assetsURL:"/ddd-2018/assets/"}),_.configure=function(t){a["default"].assign(_,t)},_.show=function(t){_.getRegion().$el.append(t.render().el)};var A=matchMedia("(prefers-reduced-motion)"),b=function(){return c["default"](document.body)[A.matches?"addClass":"removeClass"]("has-reduced-motion")};A.addListener(b),b();var x=m["default"]();x.on("show",function(){_.trigger("window:visible")}),x.on("hide",function(){_.trigger("window:hidden")}),_.raf=new u["default"]},{"./base-view":108,"./raf":113,"assets-loader":5,"backbone.marionette":9,jquery:78,sniffer:84,underscore:89,visibility:90}],108:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(){c["default"].View.TRANSITIONS={IN_THEN_OUT:1,OUT_THEN_IN:2,OUT_AND_IN:3,CUSTOM:4};var t={options:{},isBusy:!0,isDead:!1,behaviors:[d["default"]],transitionTiming:function(t){return c["default"].View.TRANSITIONS.OUT_THEN_IN},animateIn:function(t){o["default"].isBusy=!1,this.trigger("animateIn",t);var e=new TimelineMax({onComplete:this.onAnimatedIn,onCompleteScope:this});return e.set(this.el,{autoAlpha:1},0),e},onAnimatedIn:function(){this.isBusy=!1,this.isDead=!1,this.trigger("animatedIn")},animateOut:function(t){if(!this.isDead){o["default"].isBusy=!0,this.isBusy=!0,this.isDead=!0,this.trigger("animateOut",t);var e=new TimelineMax({onComplete:this.onAnimatedOut,onCompleteScope:this});return e}},onAnimatedOut:function(){this.trigger("animatedOut"),this.options.autoDestroy!==!1&&this.destroy()},onResize:function(t,e){},updateContent:function(){console.warn("[BaseView updateContent] - Override me!")},nextTick:function(t){a["default"].defer(a["default"].bind(t,this))}};a["default"].extend(c["default"].View.prototype,t),a["default"].extend(c["default"].CollectionView.prototype,t)};{var r=t("./app"),o=i(r),s=t("underscore"),a=i(s),l=t("jquery"),u=(i(l),t("TweenMax")),h=(i(u),t("backbone.marionette")),c=i(h),p=t("./resize-behavior"),d=i(p),f=t("size");i(f)}},{"./app":107,"./resize-behavior":114,TweenMax:74,"backbone.marionette":9,jquery:78,size:83,underscore:89}],109:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return function(e){s["default"].extend(e.prototype,t)}}Object.defineProperty(n,"__esModule",{value:!0}),n.props=r;var o=t("underscore"),s=i(o)},{underscore:89}],110:[function(t,e,n){"use strict";THREE.GLTFLoader=function(){function t(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager}function e(){var t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}function n(t){this.name=p.KHR_LIGHTS,this.lights={};var e=t.extensions&&t.extensions[p.KHR_LIGHTS]||{},n=e.lights||{};for(var i in n){var r,o=n[i],s=(new THREE.Color).fromArray(o.color);switch(o.type){case"directional":r=new THREE.DirectionalLight(s),r.position.set(0,0,1);break;case"point":r=new THREE.PointLight(s);break;case"spot":r=new THREE.SpotLight(s),r.position.set(0,0,1);break;case"ambient":r=new THREE.AmbientLight(s)}r&&(void 0!==o.constantAttenuation&&(r.intensity=o.constantAttenuation),void 0!==o.linearAttenuation&&(r.distance=1/o.linearAttenuation),void 0!==o.quadraticAttenuation&&(r.decay=o.quadraticAttenuation),void 0!==o.fallOffAngle&&(r.angle=o.fallOffAngle),void 0!==o.fallOffExponent&&console.warn("THREE.GLTFLoader:: light.fallOffExponent not currently supported."),r.name=o.name||"light_"+i,this.lights[i]=r)}}function i(t){this.name=p.KHR_MATERIALS_COMMON}function r(t){this.name=p.KHR_BINARY_GLTF,this.content=null,this.body=null;var e=new DataView(t,0,f);if(this.header={magic:l(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==d)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use GLTFLoader instead.");for(var n=new DataView(t,f),i=0;i<n.byteLength;){var r=n.getUint32(i,!0);i+=4;var o=n.getUint32(i,!0);if(i+=4,o===m.JSON){var s=new Uint8Array(t,f+i,r);this.content=l(s)}else if(o===m.BIN){var a=f+i;this.body=t.slice(a,a+r)}i+=r}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function o(){return{name:p.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return THREE.ShaderMaterial},extendParams:function(t,e,n){var i=e.extensions[this.name],r=THREE.ShaderLib.standard,o=THREE.UniformsUtils.clone(r.uniforms),s=["#ifdef USE_SPECULARMAP","   uniform sampler2D specularMap;","#endif"].join("\n"),a=["#ifdef USE_GLOSSINESSMAP","   uniform sampler2D glossinessMap;","#endif"].join("\n"),l=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","   vec4 texelSpecular = texture2D( specularMap, vUv );","   // reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","   specularFactor *= texelSpecular.rgb;","#endif"].join("\n"),u=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","   vec4 texelGlossiness = texture2D( glossinessMap, vUv );","   // reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","   glossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),h=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),c=r.fragmentShader.replace("#include <specularmap_fragment>","").replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",s).replace("#include <metalnessmap_pars_fragment>",a).replace("#include <roughnessmap_fragment>",l).replace("#include <metalnessmap_fragment>",u).replace("#include <lights_physical_fragment>",h);delete o.roughness,delete o.metalness,delete o.roughnessMap,delete o.metalnessMap,o.specular={value:(new THREE.Color).setHex(1118481)},o.glossiness={value:.5},o.specularMap={value:null},o.glossinessMap={value:null},t.vertexShader=r.vertexShader,t.fragmentShader=c,t.uniforms=o,t.defines={STANDARD:""},t.color=new THREE.Color(1,1,1),t.opacity=1;var p=[];if(Array.isArray(i.diffuseFactor)){var d=i.diffuseFactor;t.color.fromArray(d),t.opacity=d[3]}if(void 0!==i.diffuseTexture&&p.push(n.assignTexture(t,"map",i.diffuseTexture.index)),t.emissive=new THREE.Color(0,0,0),t.glossiness=void 0!==i.glossinessFactor?i.glossinessFactor:1,t.specular=new THREE.Color(1,1,1),Array.isArray(i.specularFactor)&&t.specular.fromArray(i.specularFactor),void 0!==i.specularGlossinessTexture){var f=i.specularGlossinessTexture.index;p.push(n.assignTexture(t,"glossinessMap",f)),p.push(n.assignTexture(t,"specularMap",f))}return Promise.all(p)},createMaterial:function(t){var e=new THREE.ShaderMaterial({defines:t.defines,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,fog:!0,lights:!0,opacity:t.opacity,transparent:t.transparent});return e.isGLTFSpecularGlossinessMaterial=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e.refractionRatio=.98,e.extensions.derivatives=!0,e},cloneMaterial:function(t){var e=t.clone();e.isGLTFSpecularGlossinessMaterial=!0;for(var n=this.specularGlossinessParams,i=0;i<n.length;i++)e[n[i]]=t[n[i]];return e},refreshUniforms:function(t,e,n,i,r,o){var s=r.uniforms,a=r.defines;s.opacity.value=r.opacity,s.diffuse.value.copy(r.color),s.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),s.map.value=r.map,s.specularMap.value=r.specularMap,s.alphaMap.value=r.alphaMap,s.lightMap.value=r.lightMap,s.lightMapIntensity.value=r.lightMapIntensity,s.aoMap.value=r.aoMap,s.aoMapIntensity.value=r.aoMapIntensity;var l;if(r.map?l=r.map:r.specularMap?l=r.specularMap:r.displacementMap?l=r.displacementMap:r.normalMap?l=r.normalMap:r.bumpMap?l=r.bumpMap:r.glossinessMap?l=r.glossinessMap:r.alphaMap?l=r.alphaMap:r.emissiveMap&&(l=r.emissiveMap),void 0!==l){l.isWebGLRenderTarget&&(l=l.texture);var u,h;if(void 0!==l.matrix){if(l.matrixAutoUpdate===!0){u=l.offset,h=l.repeat;var c=l.rotation,p=l.center;l.matrix.setUvTransform(u.x,u.y,h.x,h.y,c,p.x,p.y)}s.uvTransform.value.copy(l.matrix)}else u=l.offset,h=l.repeat,s.offsetRepeat.value.set(u.x,u.y,h.x,h.y)}s.envMap.value=r.envMap,s.envMapIntensity.value=r.envMapIntensity,s.flipEnvMap.value=r.envMap&&r.envMap.isCubeTexture?-1:1,s.refractionRatio.value=r.refractionRatio,s.specular.value.copy(r.specular),s.glossiness.value=r.glossiness,s.glossinessMap.value=r.glossinessMap,s.emissiveMap.value=r.emissiveMap,s.bumpMap.value=r.bumpMap,s.normalMap.value=r.normalMap,s.displacementMap.value=r.displacementMap,s.displacementScale.value=r.displacementScale,s.displacementBias.value=r.displacementBias,null!==s.glossinessMap.value&&void 0===a.USE_GLOSSINESSMAP&&(a.USE_GLOSSINESSMAP="",a.USE_ROUGHNESSMAP=""),null===s.glossinessMap.value&&void 0!==a.USE_GLOSSINESSMAP&&(delete a.USE_GLOSSINESSMAP,delete a.USE_ROUGHNESSMAP)}}}function s(t,e,n){if(!t)return Promise.resolve();var i,r=[];if("[object Array]"===Object.prototype.toString.call(t)){i=[];for(var o=t.length,s=0;o>s;s++){var a=e.call(n||this,t[s],s);a&&(a instanceof Promise?a=a.then(function(t,e){i[t]=e}.bind(this,s)):i[s]=a,r.push(a))}}else{i={};for(var l in t)if(t.hasOwnProperty(l)){var a=e.call(n||this,t[l],l);a&&(a instanceof Promise?a=a.then(function(t,e){i[t]=e}.bind(this,l)):i[l]=a,r.push(a))}}return Promise.all(r).then(function(){return i})}function a(t,e){return"string"!=typeof t||""===t?"":/^(https?:)?\/\//i.test(t)?t:/^data:.*,.*$/i.test(t)?t:/^blob:.*$/i.test(t)?t:e+t}function l(t){if(void 0!==window.TextDecoder)return(new TextDecoder).decode(t);for(var e="",n=0,i=t.length;i>n;n++)e+=String.fromCharCode(t[n]);return e}function u(){return new THREE.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE.FrontSide})}function h(t,e,n,i){var r=t.geometry,o=t.material,s=n.targets,a=r.morphAttributes;a.position=[],a.normal=[],o.morphTargets=!0;for(var l=0,u=s.length;u>l;l++){var h,c,p=s[l],d="morphTarget"+l;if(void 0!==p.POSITION){h=i.accessors[p.POSITION].clone();for(var f=r.attributes.position,m=0,g=h.count;g>m;m++)h.setXYZ(m,h.getX(m)+f.getX(m),h.getY(m)+f.getY(m),h.getZ(m)+f.getZ(m))}else r.attributes.position&&(h=r.attributes.position.clone());if(void 0!==h&&(h.name=d,a.position.push(h)),void 0!==p.NORMAL){o.morphNormals=!0,c=i.accessors[p.NORMAL].clone();for(var v=r.attributes.normal,m=0,g=c.count;g>m;m++)c.setXYZ(m,c.getX(m)+v.getX(m),c.getY(m)+v.getY(m),c.getZ(m)+v.getZ(m))}else void 0!==r.attributes.normal&&(c=r.attributes.normal.clone());void 0!==c&&(c.name=d,a.normal.push(c))}if(t.updateMorphTargets(),void 0!==e.weights)for(var l=0,u=e.weights.length;u>l;l++)t.morphTargetInfluences[l]=e.weights[l]}function c(t,n,i){this.json=t||{},this.extensions=n||{},this.options=i||{},this.cache=new e,this.textureLoader=new THREE.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new THREE.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer")}t.prototype={constructor:t,crossOrigin:"Anonymous",load:function(t,e,n,i){var r=this,o=void 0!==this.path?this.path:THREE.Loader.prototype.extractUrlBase(t),s=new THREE.FileLoader(r.manager);s.setResponseType("arraybuffer"),s.load(t,function(t){try{r.parse(t,o,e,i)}catch(n){void 0!==i&&i(n.constructor===Error?n:new Error("THREE.GLTFLoader: Unable to parse model."))}},n,i)},setCrossOrigin:function(t){this.crossOrigin=t},setPath:function(t){this.path=t},parse:function(t,e,s,a){var u,h={};if("string"==typeof t)u=t;else{var f=l(new Uint8Array(t,0,4));f===d?(h[p.KHR_BINARY_GLTF]=new r(t),u=h[p.KHR_BINARY_GLTF].content):u=l(new Uint8Array(t))}var m=JSON.parse(u);if(void 0===m.asset||m.asset.version[0]<2)return void a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));m.extensionsUsed&&(m.extensionsUsed.indexOf(p.KHR_LIGHTS)>=0&&(h[p.KHR_LIGHTS]=new n(m)),m.extensionsUsed.indexOf(p.KHR_MATERIALS_COMMON)>=0&&(h[p.KHR_MATERIALS_COMMON]=new i(m)),m.extensionsUsed.indexOf(p.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS)>=0&&(h[p.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]=new o));var g=new c(m,h,{path:e||this.path||"",crossOrigin:this.crossOrigin,manager:this.manager});g.parse(function(t,e,n,i){var r={scene:t,scenes:e,cameras:n,animations:i};s(r)},a)}};var p={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_LIGHTS:"KHR_lights",KHR_MATERIALS_COMMON:"KHR_materials_common",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness"};i.prototype.getMaterialType=function(t){var e=t.extensions[this.name];switch(e.type){case"commonBlinn":case"commonPhong":return THREE.MeshPhongMaterial;case"commonLambert":return THREE.MeshLambertMaterial;case"commonConstant":default:return THREE.MeshBasicMaterial}},i.prototype.extendParams=function(t,e,n){var i=e.extensions[this.name],r=[],o=[];switch(i.type){case"commonBlinn":case"commonPhong":o.push("diffuseFactor","diffuseTexture","specularFactor","specularTexture","shininessFactor");break;case"commonLambert":o.push("diffuseFactor","diffuseTexture");break;case"commonConstant":}var s={};return o.forEach(function(t){void 0!==i[t]&&(s[t]=i[t])}),void 0!==s.diffuseFactor&&(t.color=(new THREE.Color).fromArray(s.diffuseFactor),t.opacity=s.diffuseFactor[3]),void 0!==s.diffuseTexture&&r.push(n.assignTexture(t,"map",s.diffuseTexture.index)),void 0!==s.specularFactor&&(t.specular=(new THREE.Color).fromArray(s.specularFactor)),void 0!==s.specularTexture&&r.push(n.assignTexture(t,"specularMap",s.specularTexture.index)),void 0!==s.shininessFactor&&(t.shininess=s.shininessFactor),Promise.all(r)};var d="glTF",f=12,m={JSON:1313821514,BIN:5130562},g={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},v=({5126:Number,35675:THREE.Matrix3,35676:THREE.Matrix4,35664:THREE.Vector2,35665:THREE.Vector3,35666:THREE.Vector4,35678:THREE.Texture},{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),y={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipMapNearestFilter,9985:THREE.LinearMipMapNearestFilter,9986:THREE.NearestMipMapLinearFilter,9987:THREE.LinearMipMapLinearFilter},_={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping},A={6406:THREE.AlphaFormat,6407:THREE.RGBFormat,6408:THREE.RGBAFormat,6409:THREE.LuminanceFormat,6410:THREE.LuminanceAlphaFormat},b={5121:THREE.UnsignedByteType,32819:THREE.UnsignedShort4444Type,32820:THREE.UnsignedShort5551Type,33635:THREE.UnsignedShort565Type},x=({1028:THREE.BackSide,1029:THREE.FrontSide},{512:THREE.NeverDepth,513:THREE.LessDepth,514:THREE.EqualDepth,515:THREE.LessEqualDepth,516:THREE.GreaterEqualDepth,517:THREE.NotEqualDepth,518:THREE.GreaterEqualDepth,519:THREE.AlwaysDepth},{32774:THREE.AddEquation,32778:THREE.SubtractEquation,32779:THREE.ReverseSubtractEquation},{0:THREE.ZeroFactor,1:THREE.OneFactor,768:THREE.SrcColorFactor,769:THREE.OneMinusSrcColorFactor,770:THREE.SrcAlphaFactor,771:THREE.OneMinusSrcAlphaFactor,772:THREE.DstAlphaFactor,773:THREE.OneMinusDstAlphaFactor,774:THREE.DstColorFactor,775:THREE.OneMinusDstColorFactor,776:THREE.SrcAlphaSaturateFactor},{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),w={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},T={CATMULLROMSPLINE:THREE.InterpolateSmooth,CUBICSPLINE:THREE.InterpolateSmooth,LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete},E={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};return c.prototype._withDependencies=function(t){for(var e={},n=0;n<t.length;n++){var i=t[n],r="load"+i.charAt(0).toUpperCase()+i.slice(1),o=this.cache.get(i);if(void 0!==o)e[i]=o;else if(this[r]){var a=this[r]();this.cache.add(i,a),e[i]=a}}return s(e,function(t){return t})},c.prototype.parse=function(t,e){var n=this.json,i=this;this.cache.removeAll(),this._withDependencies(["scenes","animations"]).then(function(r){var o=r.scenes||[],s=o[n.scene||0],a=r.animations||[];i.getDependencies("camera").then(function(e){t(s,o,e,a)})["catch"](e)})["catch"](e)},c.prototype.getDependency=function(t,e){var n=t+":"+e,i=this.cache.get(n);if(!i){var r="load"+t.charAt(0).toUpperCase()+t.slice(1);i=this[r](e),this.cache.add(n,i)}return i},c.prototype.getDependencies=function(t){var e=this,n=this.json[t+"s"]||[];return Promise.all(n.map(function(n,i){return e.getDependency(t,i)}))},c.prototype.loadBuffer=function(t){var e=this.json.buffers[t],n=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[p.KHR_BINARY_GLTF].body);var i=this.options;return new Promise(function(t,r){n.load(a(e.uri,i.path),t,void 0,function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})},c.prototype.loadBufferView=function(t){var e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(t){var n=e.byteLength||0,i=e.byteOffset||0;return t.slice(i,i+n)})},c.prototype.loadAccessors=function(){var t=this,e=this.json;return s(e.accessors,function(n){return t.getDependency("bufferView",n.bufferView).then(function(t){var i,r=x[n.type],o=v[n.componentType],s=o.BYTES_PER_ELEMENT,a=s*r,l=e.bufferViews[n.bufferView].byteStride,u=n.normalized===!0;if(l&&l!==a){i=new o(t);var h=new THREE.InterleavedBuffer(i,l/s);return new THREE.InterleavedBufferAttribute(h,r,n.byteOffset/s,u)}return i=new o(t,n.byteOffset,n.count*r),new THREE.BufferAttribute(i,r,u)})})},c.prototype.loadTexture=function(t){var e=this,n=this.json,i=this.options,r=this.textureLoader,o=window.URL||window.webkitURL,s=n.textures[t],l=n.images[s.source],u=l.uri,h=!1;return void 0!==l.bufferView&&(u=e.getDependency("bufferView",l.bufferView).then(function(t){h=!0;var e=new Blob([t],{type:l.mimeType});return u=o.createObjectURL(e)})),Promise.resolve(u).then(function(t){var e=THREE.Loader.Handlers.get(t)||r;return new Promise(function(n,r){e.load(a(t,i.path),n,void 0,r)})}).then(function(t){h===!0&&o.revokeObjectURL(u),t.flipY=!1,void 0!==s.name&&(t.name=s.name),t.format=void 0!==s.format?A[s.format]:THREE.RGBAFormat,void 0!==s.internalFormat&&t.format!==A[s.internalFormat]&&console.warn("THREE.GLTFLoader: Three.js does not support texture internalFormat which is different from texture format. internalFormat will be forced to be the same value as format."),t.type=void 0!==s.type?b[s.type]:THREE.UnsignedByteType;var e=n.samplers||{},i=e[s.sampler]||{};return t.magFilter=y[i.magFilter]||THREE.LinearFilter,t.minFilter=y[i.minFilter]||THREE.LinearMipMapLinearFilter,t.wrapS=_[i.wrapS]||THREE.RepeatWrapping,t.wrapT=_[i.wrapT]||THREE.RepeatWrapping,t})},c.prototype.assignTexture=function(t,e,n){return this.getDependency("texture",n).then(function(n){t[e]=n})},c.prototype.loadMaterials=function(){var t=this,e=this.json,n=this.extensions;return s(e.materials,function(e){var i,r={},o=e.extensions||{},s=[];if(o[p.KHR_MATERIALS_COMMON]){var a=n[p.KHR_MATERIALS_COMMON];i=a.getMaterialType(e),s.push(a.extendParams(r,e,t))}else if(o[p.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var l=n[p.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];i=l.getMaterialType(e),s.push(l.extendParams(r,e,t))}else if(void 0!==e.pbrMetallicRoughness){i=THREE.MeshStandardMaterial;var u=e.pbrMetallicRoughness;if(r.color=new THREE.Color(1,1,1),r.opacity=1,Array.isArray(u.baseColorFactor)){var h=u.baseColorFactor;r.color.fromArray(h),r.opacity=h[3]}if(void 0!==u.baseColorTexture&&s.push(t.assignTexture(r,"map",u.baseColorTexture.index)),r.metalness=void 0!==u.metallicFactor?u.metallicFactor:1,r.roughness=void 0!==u.roughnessFactor?u.roughnessFactor:1,void 0!==u.metallicRoughnessTexture){var c=u.metallicRoughnessTexture.index;s.push(t.assignTexture(r,"metalnessMap",c)),s.push(t.assignTexture(r,"roughnessMap",c))}}else i=THREE.MeshPhongMaterial;e.doubleSided===!0&&(r.side=THREE.DoubleSide);var d=e.alphaMode||E.OPAQUE;return d!==E.OPAQUE?(r.transparent=!0,d===E.MASK&&(r.alphaTest=e.alphaCutoff||.5)):r.transparent=!1,void 0!==e.normalTexture&&(s.push(t.assignTexture(r,"normalMap",e.normalTexture.index)),r.normalScale=new THREE.Vector2(1,1),void 0!==e.normalTexture.scale&&r.normalScale.set(e.normalTexture.scale,e.normalTexture.scale)),void 0!==e.occlusionTexture&&(s.push(t.assignTexture(r,"aoMap",e.occlusionTexture.index)),void 0!==e.occlusionTexture.strength&&(r.aoMapIntensity=e.occlusionTexture.strength)),void 0!==e.emissiveFactor&&(i===THREE.MeshBasicMaterial?r.color=(new THREE.Color).fromArray(e.emissiveFactor):r.emissive=(new THREE.Color).fromArray(e.emissiveFactor)),void 0!==e.emissiveTexture&&s.push(i===THREE.MeshBasicMaterial?t.assignTexture(r,"map",e.emissiveTexture.index):t.assignTexture(r,"emissiveMap",e.emissiveTexture.index)),Promise.all(s).then(function(){var t;return t=i===THREE.ShaderMaterial?n[p.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(r):new i(r),void 0!==e.name&&(t.name=e.name),t.normalScale&&(t.normalScale.x=-t.normalScale.x),t.map&&(t.map.encoding=THREE.sRGBEncoding),t.emissiveMap&&(t.emissiveMap.encoding=THREE.sRGBEncoding),e.extras&&(t.userData=e.extras),t})})},c.prototype.loadGeometries=function(t){return this._withDependencies(["accessors"]).then(function(e){return s(t,function(t){var n=new THREE.BufferGeometry,i=t.attributes;for(var r in i){var o=i[r];if(void 0===o)return;var s=e.accessors[o];switch(r){case"POSITION":n.addAttribute("position",s);break;case"NORMAL":n.addAttribute("normal",s);break;case"TEXCOORD_0":case"TEXCOORD0":case"TEXCOORD":n.addAttribute("uv",s);break;case"TEXCOORD_1":n.addAttribute("uv2",s);break;case"COLOR_0":case"COLOR0":case"COLOR":n.addAttribute("color",s);break;case"WEIGHTS_0":case"WEIGHT":n.addAttribute("skinWeight",s);break;case"JOINTS_0":case"JOINT":n.addAttribute("skinIndex",s)}}return void 0!==t.indices&&n.setIndex(e.accessors[t.indices]),n})})},c.prototype.loadMeshes=function(){var t=this,e=this.json,n=this.extensions;return this._withDependencies(["accessors","materials"]).then(function(i){return s(e.meshes,function(e,r){var o=new THREE.Group,s=e.primitives||[];return t.loadGeometries(s).then(function(t){for(var a=0;a<s.length;a++){var l=s[a],c=t[a],d=void 0===l.material?u():i.materials[l.material];d.aoMap&&void 0===c.attributes.uv2&&void 0!==c.attributes.uv&&(console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."),c.addAttribute("uv2",new THREE.BufferAttribute(c.attributes.uv.array,2)));var f=void 0!==c.attributes.color,m=void 0===c.attributes.normal;if(f||m)if(d.isGLTFSpecularGlossinessMaterial){var v=n[p.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];d=v.cloneMaterial(d)}else d=d.clone();f&&(d.vertexColors=THREE.VertexColors,d.needsUpdate=!0),m&&(d.flatShading=!0);var y;if(l.mode===g.TRIANGLES||void 0===l.mode)y=new THREE.Mesh(c,d);else if(l.mode===g.TRIANGLE_STRIP)y=new THREE.Mesh(c,d),y.drawMode=THREE.TriangleStripDrawMode;else if(l.mode===g.TRIANGLE_FAN)y=new THREE.Mesh(c,d),y.drawMode=THREE.TriangleFanDrawMode;else if(l.mode===g.LINES)y=new THREE.LineSegments(c,d);else if(l.mode===g.LINE_STRIP)y=new THREE.Line(c,d);else if(l.mode===g.LINE_LOOP)y=new THREE.LineLoop(c,d);else{if(l.mode!==g.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: ",l.mode);y=new THREE.Points(c,d)}if(y.name=e.name||"mesh_"+r,void 0!==l.targets&&h(y,e,l,i),l.extras&&(y.userData=l.extras),!(s.length>1))return y;y.name+="_"+a,o.add(y)}return o})})})},c.prototype.loadCamera=function(t){var e,n=this.json.cameras[t],i=n[n.type];if(!i)return void console.warn("THREE.GLTFLoader: Missing camera parameters.");if("perspective"===n.type){var r=i.aspectRatio||1,o=i.yfov*r;e=new THREE.PerspectiveCamera(THREE.Math.radToDeg(o),r,i.znear||1,i.zfar||2e6)}else"orthographic"===n.type&&(e=new THREE.OrthographicCamera(i.xmag/-2,i.xmag/2,i.ymag/2,i.ymag/-2,i.znear,i.zfar));return void 0!==n.name&&(e.name=n.name),n.extras&&(e.userData=n.extras),Promise.resolve(e)},c.prototype.loadSkins=function(){var t=this.json;return this._withDependencies(["accessors"]).then(function(e){return s(t.skins,function(t){var n={joints:t.joints,inverseBindMatrices:e.accessors[t.inverseBindMatrices]};return n})})},c.prototype.loadAnimations=function(){var t=this.json;return this._withDependencies(["accessors","nodes"]).then(function(e){return s(t.animations,function(t,n){for(var i=[],r=0;r<t.channels.length;r++){var o=t.channels[r],s=t.samplers[o.sampler];if(s){var a=o.target,l=void 0!==a.node?a.node:a.id,u=void 0!==t.parameters?t.parameters[s.input]:s.input,h=void 0!==t.parameters?t.parameters[s.output]:s.output,c=e.accessors[u],p=e.accessors[h],d=e.nodes[l];if(d){d.updateMatrix(),d.matrixAutoUpdate=!0;var f;switch(w[a.path]){case w.weights:f=THREE.NumberKeyframeTrack;break;case w.rotation:f=THREE.QuaternionKeyframeTrack;break;case w.position:case w.scale:default:f=THREE.VectorKeyframeTrack}var m=d.name?d.name:d.uuid;"CATMULLROMSPLINE"===s.interpolation&&console.warn("THREE.GLTFLoader: CATMULLROMSPLINE interpolation is not supported. Using CUBICSPLINE instead.");var g=void 0!==s.interpolation?T[s.interpolation]:THREE.InterpolateLinear,v=[];w[a.path]===w.weights?d.traverse(function(t){t.isMesh===!0&&t.material.morphTargets===!0&&v.push(t.name?t.name:t.uuid)}):v.push(m);for(var y=0,_=v.length;_>y;y++)i.push(new f(v[y]+"."+w[a.path],THREE.AnimationUtils.arraySlice(c.array,0),THREE.AnimationUtils.arraySlice(p.array,0),g))}}}var l=void 0!==t.name?t.name:"animation_"+n;return new THREE.AnimationClip(l,void 0,i)})})},c.prototype.loadNodes=function(){var t=this.json,e=this.extensions,n=this,i=t.nodes||[],r=t.skins||[],o={},a={};for(var l in r)for(var u=r[l].joints,h=0;h<u.length;++h)i[u[h]].isBone=!0;for(var c in i){var d=i[c];void 0!==d.mesh&&(void 0===o[d.mesh]&&(o[d.mesh]=a[d.mesh]=0),o[d.mesh]++)}return n._withDependencies(["meshes","skins","cameras"]).then(function(i){return s(t.nodes,function(t){if(t.isBone===!0)return new THREE.Bone;if(void 0!==t.mesh){var r=i.meshes[t.mesh].clone();return o[t.mesh]>1&&(r.name+="_instance_"+a[t.mesh]++),r}if(void 0!==t.camera)return n.getDependency("camera",t.camera);if(t.extensions&&t.extensions[p.KHR_LIGHTS]&&void 0!==t.extensions[p.KHR_LIGHTS].light){var s=e[p.KHR_LIGHTS].lights;return s[t.extensions[p.KHR_LIGHTS].light]}return new THREE.Object3D}).then(function(e){return s(e,function(n,r){var o=t.nodes[r];if(void 0!==o.name&&(n.name=THREE.PropertyBinding.sanitizeNodeName(o.name)),o.extras&&(n.userData=o.extras),void 0!==o.matrix){var s=new THREE.Matrix4;s.fromArray(o.matrix),n.applyMatrix(s)}else void 0!==o.translation&&n.position.fromArray(o.translation),void 0!==o.rotation&&n.quaternion.fromArray(o.rotation),void 0!==o.scale&&n.scale.fromArray(o.scale);if(void 0!==o.skin){for(var a=[],l=n.children.length>0?n.children:[n],u=0;u<l.length;u++){var h=l[u],c=i.skins[o.skin],p=h.geometry,d=h.material;d.skinning=!0;var f=new THREE.SkinnedMesh(p,d);f.morphTargetInfluences=h.morphTargetInfluences,f.userData=h.userData,f.name=h.name;for(var m=[],g=[],v=0,y=c.joints.length;y>v;v++){var _=c.joints[v],A=e[_];if(A){m.push(A);var b=c.inverseBindMatrices.array,x=(new THREE.Matrix4).fromArray(b,16*v);g.push(x)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',_);

}f.bind(new THREE.Skeleton(m,g),f.matrixWorld),a.push(f)}n.children.length>0?(n.remove.apply(n,n.children),n.add.apply(n,a)):n=a[0]}return n})})})},c.prototype.loadScenes=function(){function t(n,i,r){var o=r[n];i.add(o);var s=e.nodes[n];if(s.children)for(var a=s.children,l=0,u=a.length;u>l;l++){var h=a[l];t(h,o,r)}}var e=this.json,n=this.extensions;return this._withDependencies(["nodes"]).then(function(i){return s(e.scenes,function(e){var r=new THREE.Scene;void 0!==e.name&&(r.name=e.name),e.extras&&(r.userData=e.extras);for(var o=e.nodes||[],s=0,a=o.length;a>s;s++){var l=o[s];t(l,r,i.nodes)}if(r.traverse(function(t){t.material&&t.material.isGLTFSpecularGlossinessMaterial&&(t.onBeforeRender=n[p.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms)}),e.extensions&&e.extensions[p.KHR_LIGHTS]&&void 0!==e.extensions[p.KHR_LIGHTS].light){var u=n[p.KHR_LIGHTS].lights;r.add(u[e.extensions[p.KHR_LIGHTS].light])}return r})})},t}()},{}],111:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=t("./app"),a=i(s),l=t("underscore"),u=i(l),h="dev"==a["default"].env;u["default"].extend(a["default"],{GPU_BAD:0,GPU_LOW:1,GPU_GOOD:2,GPU_HIGH:3}),u["default"].extend(a["default"],{S3TC:"s3tc",ETC1:"etc1",PVRTC:"pvrtc",TRUECOLOR:"truecolor"}),a["default"].gpuPerf=a["default"].GPU_LOW;var c=function(){function t(){r(this,t),this.extensions=null,this.gpu=null,this.hasGL=!1,this.detect()}return o(t,[{key:"detect",value:function(){var t=this.getGL();if(!t)return void(h&&console.warn("[GPU] WebGL not supported!"));if(this.detectPerformance(t),h){var e="GPU_BAD";a["default"].gpuPerf==a["default"].GPU_LOW&&(e="GPU_LOW"),a["default"].gpuPerf==a["default"].GPU_GOOD&&(e="GPU_GOOD"),a["default"].gpuPerf==a["default"].GPU_HIGH&&(e="GPU_HIGH"),console.warn(["\n","[GPU] WebGL ","\n","[GPU] "+e+" ("+this.gpu+")"].join(""))}}},{key:"getGL",value:function(){var t=document.createElement("canvas"),e=void 0;try{return e=t.getContext("experimental-webgl")||t.getContext("webgl"),this.hasGL=!0,e}catch(n){return this.hasGL=!1,null}}},{key:"detectPerformance",value:function(t){var e=t.getExtension("WEBGL_debug_renderer_info");this.gpu=t.getParameter(e.UNMASKED_RENDERER_WEBGL).toLowerCase(),this.extensions=t.getSupportedExtensions();var n=a["default"].GPU_LOW;if(a["default"].isDesktop)this.matchAll(["intel","hd"])&&(n=a["default"].GPU_LOW),this.matchAll(["radeon","nvidia"])&&(n=a["default"].GPU_GOOD);else if(a["default"].isIos){var i=u["default"].times(5,function(t){return"a"+(t+1)}),r=u["default"].times(3,function(t){return"a"+(t+7)}),o=u["default"].times(10,function(t){return"a"+(t+10)});this.matchAll(i)&&(n=a["default"].GPU_BAD),this.matchAll(r)&&(n=a["default"].GPU_GOOD),this.matchAll(o)&&(n=a["default"].GPU_HIGH)}else{var s=this.match("adreno"),l=this.match("mali-t");s&&(n=APP.GPU_LOW,this.matchVersion(400)&&(n=APP.GPU_GOOD),this.matchVersion(500)&&(n=APP.GPU_HIGH)),l&&this.matchVersion(70)&&(n=APP.GPU_HIGH)}a["default"].gpuPerf=n}},{key:"match",value:function(t){return this.gpu.indexOf(t)>-1}},{key:"matchAll",value:function(t){var e=this;return t.reduce(function(t,n){return t||e.match(n)},!1)}},{key:"matchVersion",value:function(t){return parseInt(this.gpu.slice().replace(/[\D]/g,""),10)>=t}}]),t}();n["default"]=new c},{"./app":107,underscore:89}],112:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QMsaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzEzOCA3OS4xNTk4MjQsIDIwMTYvMDkvMTQtMDE6MDk6MDEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjVDMzQ3MzIwMDZDNzExRThBMzcxRDdFMDA4OTEzQTRFIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjVDMzQ3MzFGMDZDNzExRThBMzcxRDdFMDA4OTEzQTRFIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM0RkVFRkFFMDYxOTExRTg4NTM0QjlDN0NDQTJFODAwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM0RkVFRkFGMDYxOTExRTg4NTM0QjlDN0NDQTJFODAwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQAAQEBAQEBAQEBAQEBAQEBAQEB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";

},{}],113:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;{var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=t("raf"),a=i(s),l=t("./app");i(l)}a["default"].polyfill();var u=function(){function t(){r(this,t),this.subscribers=[],this.dt=0,this.framerate=16,this.elapsed=0,this.now=Date.now(),this.lt=this.now,this.update=this.update.bind(this),this.start()}return o(t,[{key:"update",value:function(){this.now=Date.now(),this.dt=this.now-this.lt,this.elapsed+=this.dt,this.elapsed>=this.framerate&&(this.elapsed=0,this.processUpdate(this.dt)),this.lt=this.now,this.id=a["default"](this.update)}},{key:"processUpdate",value:function(t){for(var e=0;e<this.subscribers.length;e++){var n=this.subscribers[e];n.fn.call(n.ctx,t)}}},{key:"subscribe",value:function(t,e,n){this.subscribers.push({id:t,fn:e,ctx:n})}},{key:"unsubscribe",value:function(t){for(var e=0;e<this.subscribers.length;e++)this.subscribers[e].id===t&&this.subscribers.splice(e,1)}},{key:"start",value:function(){this.id=a["default"](this.update)}},{key:"stop",value:function(){a["default"].cancel(this.id)}},{key:"resume",value:function(){this.start()}}]),t}();n["default"]=u},{"./app":107,raf:81}],114:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=t("backbone.marionette"),u=i(l),h=t("size"),c=i(h),p=t("underscore"),d=i(p),f=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"initialize",value:function(){d["default"].bindAll(this,"_onResize"),this.view.forceResize=this._onResize.bind(this)}},{key:"onRender",value:function(){d["default"].defer(this._onResize),c["default"].addListener(this._onResize)}},{key:"_onResize",value:function(){var t=this;this.view.onResize(c["default"].width,c["default"].height),d["default"].defer(function(){t.view.trigger("resize")})}},{key:"onBeforeDestroy",value:function(){c["default"].removeListener(this._onResize)}}]),e}(u["default"].Behavior);n["default"]=f},{"backbone.marionette":9,size:83,underscore:89}],115:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){a.set(t/s["default"].width*2-1,2*-(e/s["default"].height)+1,0),a.unproject(n);var i=a.sub(n.position).normalize(),r=-n.position.z/i.z,o=n.position.clone().add(i.multiplyScalar(r));return o}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var o=t("size"),s=i(o),a=new THREE.Vector3},{size:83}],116:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=l["default"].assets.get(t),n=new Blob([e]);return window.URL.createObjectURL(n)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./app"),l=i(a),u=t("underscore"),h=i(u),c=t("infinite-random-list"),p=i(c),d=t("tone"),f=i(d),m=t("howler"),g=(i(m),t("backbone")),v=i(g),y=function(){function t(){r(this,t),h["default"].extend(this,v["default"].Events),this.isMute=!1,this.hoverList=new p["default"]([1,2,3,4,5]),this.noteList=new p["default"](["C3","D3","E3","F3","G3","A3","B3"]),this.hover=h["default"].debounce(this.hover,75);var e=new f["default"].Convolver(l["default"].assetsURL+"audio/reverb.mp3").toMaster();e.wet.value=.5,this.sampler=new f["default"].Sampler({C3:l["default"].assetsURL+"audio/c3.mp3",A3:l["default"].assetsURL+"audio/a3.mp3"}).connect(e),l["default"].on("window:hidden",this.mute,this),l["default"].on("window:visible",this.unmute,this)}return s(t,[{key:"mute",value:function(){this.isMute=!0,Howler.mute(!0),this.trigger("mute",this.isMute)}},{key:"unmute",value:function(){this.isMute=!1,Howler.mute(!1),this.trigger("mute",this.isMute)}},{key:"toggleMute",value:function(){this.isMute=!this.isMute,Howler.mute(this.isMute),this.trigger("mute",this.isMute)}},{key:"explodedHover",value:function(){if(!this.isMute){var t=this.noteList.get();this.sampler.triggerAttack(t)}}},{key:"hover",value:function(){if(!this.isMute){var t=this.hoverList.get();new Howl({src:[o("audio/hover"+t+".mp3")],format:"mp3",loop:!1,autoplay:!0,volume:.2})}}},{key:"explode",value:function(){this.isMute||new Howl({src:[o("audio/bass.mp3")],format:"mp3",loop:!1,autoplay:!0,volume:.7})}},{key:"bark",value:function(){this.isMute||new Howl({src:[o("audio/bark.mp3")],format:"mp3",loop:!1,autoplay:!0,volume:.7})}},{key:"mousedown",value:function(){this.isMute||new Howl({src:[o("audio/bzz.mp3")],format:"mp3",autoplay:!0,loop:!1})}},{key:"mousecancel",value:function(){this.isMute}},{key:"background",value:function(){this.bg=new Howl({src:[o("audio/bg.mp3")],format:"mp3",loop:!0,autoplay:!0,volume:.5})}}]),t}();window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder,window.URL=window.URL||window.webkitURL,n["default"]=new y},{"./app":107,backbone:11,howler:75,"infinite-random-list":76,tone:88,underscore:89}],117:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){function e(){Object.keys(u["default"].geometries).length==n.length&&(w=!0)}u["default"].assets=E,u["default"].geometries={};var n=t.filter(function(t){return"json"==t.type||"bin"==t.type&&t.id.indexOf(".glb")>-1});n.forEach(function(t){var n=void 0;if("json"==t.type)n=new THREE.JSONLoader,u["default"].geometries[o(t.id)]=n.parse(t.file).geometry,e();else if("bin"==t.type)return n=new THREE.GLTFLoader,n.parse(t.file,"",function(n){if(t.id.indexOf("monolith")>-1)n.scene.traverse(function(n){n instanceof THREE.Mesh&&(u["default"].geometries[o(t.id)]=n.geometry,e())});else if(t.id.indexOf("fragments")>-1){var i=[],r=[];n.scene.traverse(function(t){t instanceof THREE.Mesh&&(i.push(t.position.clone()),r.push(t.geometry))}),u["default"].geometries[o(t.id)]={positions:i,geometries:r},e()}})}),A["default"].background()}function o(t){return t.split("/")[1].split(".")[0]}{var s=t("jquery"),a=(i(s),t("underscore")),l=(i(a),t("./lib/app")),u=i(l),h=t("assets-loader"),c=i(h),p=t("./components/stage"),d=i(p),f=t("./components/header"),m=i(f),g=t("size"),v=(i(g),t("./lib/logo")),y=i(v),_=t("./lib/sound"),A=i(_),b=t("./lib/gpu");i(b)}TweenLite.defaultEase=Quint.easeOut;var x={value:0,smooth:0,ease:.08},w=!1,T=!1,E=new c["default"]({basePath:u["default"].assetsURL,crossOrigin:"anonymous",assets:["models/dog.json","images/matcap-black.jpg","images/matcap-dog.jpg","images/kanjis.png","images/about.png","images/hint.png",{url:"models/fragments.glb",type:"bin"},{url:"models/monolith.glb",type:"bin"},{url:"audio/bark.mp3",type:"bin"},{url:"audio/bass.mp3",type:"bin"},{url:"audio/bg.mp3",type:"bin"},{url:"audio/bzz.mp3",type:"bin"},{url:"audio/click.mp3",type:"bin"},{url:"audio/down.mp3",type:"bin"},{url:"audio/hover1.mp3",type:"bin"},{url:"audio/hover2.mp3",type:"bin"},{url:"audio/hover3.mp3",type:"bin"},{url:"audio/hover4.mp3",type:"bin"},{url:"audio/hover5.mp3",type:"bin"}]});E.on("complete",r),E.on("progress",function(t){x.value=t}),TweenMax.delayedCall(.6,function(){T=!0}),u["default"].raf.subscribe("loader",function(){T&&(x.smooth+=(x.value-x.smooth)*x.ease,u["default"].stage.onProgress(x.smooth),w&&x.smooth>=.99&&(u["default"].raf.unsubscribe("loader"),document.body.style.cursor="",u["default"].stage.start()))}),document.body.style.cursor="wait";var S=new Image;S.onload=function(){E.start()},S.src=y["default"],u["default"].stage=new d["default"]({logoImage:S}),u["default"].header=new m["default"],u["default"].show(u["default"].stage),u["default"].show(u["default"].header)},{"./components/header":99,"./components/stage":105,"./lib/app":107,"./lib/gpu":111,"./lib/logo":112,"./lib/sound":116,"assets-loader":5,jquery:78,size:83,underscore:89}]},{},[106]);